<HTML><!-- #BeginTemplate "/Templates/akCSH-v2.dwt" -->
<HEAD>
<!-- #BeginEditable "doctitle" --> 
<TITLE>網路農夫 -- UNIX C Shell -- 3-6 別名（aliases）的設定與運用</TITLE>
<META content="" name=keywords>
<!-- #EndEditable --> 
<META content="網路農夫 -- UNIX C Shell" name=Description>
<META content="網路農夫 -- 黃天彥" name=author>
<META content="網路農夫 -- 黃天彥" name=copyright>
<META content="akira@mail.akira.com.tw" name=E-mail>
<META http-equiv="Content-Type" content="text/html; charset=big5">
<META HTTP-EQUIV="Window-target" CONTENT="_top">
<LINK REL="home" HREF="http://www.akira.com.tw/farmer/cshell/">
<LINK REV="made" HREF="mailto:akira@mail.akira.com.tw">
<SCRIPT language=JavaScript><!--
should_be_in_frames=0 
 page_sect=""
//--></SCRIPT>

<script type="text/javascript" language="JavaScript" src="akjs/akcsh-2000.js"></script>

<SCRIPT event=onresize for=window language=JavaScript>
<!--




//deal with dropdowns on resize
	for (k=1;k<=num_drops;k++){
		reposition(k);
		}
//-->
</SCRIPT>
<link rel="stylesheet" href="akcsh-2001.css">
<style type="text/css"><!--
  body {
    scrollbar-face-color: #FFC359;
    scrollbar-shadow-color: #ff9900;
    scrollbar-highlight-color: #ffffff;
    scrollbar-3dlight-color: #ffffff;
    scrollbar-darkshadow-color: #ffffff;
    scrollbar-track-color: #663333;
    scrollbar-arrow-color: #663333; }
//--></style>
</HEAD>
<BODY aLink=#000000 bgColor=#663333 leftMargin=0 link=#000000 
onload=global_init();local_init(); text=#000000 topMargin=0 vLink=#000000 
marginheight="0" marginwidth="0">
<A name=top></A>&nbsp;<BR>
<div id="drop1" style="position:absolute; left:160px; top:106px; z-index:1; background-color: #DF8010; layer-background-color: #DF8010; border: 1px solid #FFFFFF; visibility: hidden" onMouseOver="keepdrop()" onMouseOut="if(ie){hidedrop()}"> 
  <table border="0" cellspacing="2" cellpadding="2">
    <tr>
      <td>&#8226; <a class=white href="preface.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>前言：一場浮士德的交易</a>&nbsp;</td>
    </tr>
  </table>
  
</div>
<div id="drop2" style="position:absolute; left:224px; top:106px; z-index:1; background-color: #DF8010; layer-background-color: #DF8010; border: 1px solid #FFFFFF; visibility: hidden" onMouseOver="keepdrop()" onMouseOut="if(ie){hidedrop()}"> 
  <table border="0" cellspacing="2" cellpadding="2">
    <tr> 
      <td> 
        <p>&#8226; <a class=white href="no1-1-01.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>UNIX 簡史</a>&nbsp;&nbsp; 
        <p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-01.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-01 先前的一個理想</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-02.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-02 一個遊戲的開始</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-03.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-03 初期的自由發展</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-04.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-04 走出貝爾實驗室</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-05.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-05 一個穩定的基石</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-06.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-06 一個重要的延續與發展</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-07.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-07 UNIX 與 DARPA 交會</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-08.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-08 商業化的不平坦歷程 -- UNIX 版本的戰爭</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-09.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-09 讓 UNIX 自由-- Networking Release 2</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-10.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-10 誰是"老大哥" -- 版權訴訟</a>&nbsp;&nbsp;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no1-1-11.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>1-11 GNU 計劃 -- 開啟新大道</a>&nbsp;&nbsp; 
      </td>
    </tr>
  </table>
</div>
<div id="drop3" style="position:absolute; left:287px; top:106px; z-index:1; background-color: #DF8010; layer-background-color: #DF8010; border: 1px solid #FFFFFF; visibility: hidden" onMouseOver="keepdrop()" onMouseOut="if(ie){hidedrop()}"> 
  <table border="0" cellspacing="2" cellpadding="2">
    <tr> 
      <td>
        <p>&#8226; <a class=white href="no2-1.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>認識 Shell</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no2-1.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>2-1 shell 是什麼？</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no2-2.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>2-2 三個主要的 shell</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no2-3.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>2-3 C shell 的應用面</a></td>
    </tr>
  </table>
</div>
<div id="drop4" style="position:absolute; left:352px; top:106px; z-index:1; background-color: #DF8010; layer-background-color: #DF8010; border: 1px solid #FFFFFF; visibility: hidden" onMouseOver="keepdrop()" onMouseOut="if(ie){hidedrop()}"> 
  <table border="0" cellspacing="2" cellpadding="2">
    <tr>
      <td>
        <p>&#8226; <a class=white href="no3-0.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>C Shell 的基本運用</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no3-1.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>3-1 在 C shell 下的指令運用</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no3-2.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>3-2 輸入 / 輸出重導向</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no3-3.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>3-3 檔名擴展的運用</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no3-4.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>3-4 管線的觀念與運用</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no3-5.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>3-5 History 的設定與運用</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no3-6.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>3-6 別名的設定與運用</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no3-7.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>3-7 工作控制的運用</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no3-8.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>3-8 C SHELL 的內建指令</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no3-9.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>3-9 引號的運用與指令的關係</a>&nbsp;&nbsp;</td>
    </tr>
  </table>
  
</div>
<div id="drop5" style="position:absolute; left:418px; top:106px; z-index:1; background-color: #DF8010; layer-background-color: #DF8010; border: 1px solid #FFFFFF; visibility: hidden" onMouseOver="keepdrop()" onMouseOut="if(ie){hidedrop()}"> 
  <table border="0" cellspacing="2" cellpadding="2">
    <tr>
      <td>
        <p>&#8226; <a class=white href="no4-1.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>C Shell 變數的整體介紹</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no4-1.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>4-1 環境變數的設定影響</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no4-2.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>4-2 預設變數的設定影響</a></td>
    </tr>
  </table>
  
</DIV>
<div id="drop6" style="position:absolute; left:482px; top:106px; z-index:1; background-color: #DF8010; layer-background-color: #DF8010; border: 1px solid #FFFFFF; visibility: hidden" onMouseOver="keepdrop()" onMouseOut="if(ie){hidedrop()}"> 
  <table border="0" cellspacing="2" cellpadding="2">
    <tr>
      <td>
        <p>&#8226; <a class=white href="no5-0.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>制定 C Shell 的使用環境</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="no5-1.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>5-1 login 的型態與起始檔案讀取的關係</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="#" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>5-2 待續.....</a>&nbsp;&nbsp;</td>
    </tr>
  </table>
  
</DIV>
<div id="drop7" style="position:absolute; left:547px; top:106px; z-index:1; background-color: #DF8010; layer-background-color: #DF8010; border: 1px solid #FFFFFF; visibility: hidden" onMouseOver="keepdrop()" onMouseOut="if(ie){hidedrop()}"> 
  <table border="0" cellspacing="2" cellpadding="2">
    <tr>
      <td>
        <p>&#8226; <a class=white href="#" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>基礎的 C SHELL 程式設計觀念簡介</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="#" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>6-1 待續.....</a>&nbsp;&nbsp;</td>
    </tr>
  </table>
  
</DIV>
<div id="drop8" style="position:absolute; left:612px; top:106px; z-index:1; background-color: #DF8010; layer-background-color: #DF8010; border: 1px solid #FFFFFF; visibility: hidden" onMouseOver="keepdrop()" onMouseOut="if(ie){hidedrop()}"> 
  <table border="0" cellspacing="2" cellpadding="2">
    <tr>
      <td>
        <p>&#8226; <a class=white href="references.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>本文寫作參考資料</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="references.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>出版書籍</a>&nbsp;&nbsp;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class=white href="references.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>網路文獻</a>&nbsp;&nbsp;</td>
    </tr>
  </table>
</div>
<div id="drop9" style="position:absolute; left:650px; top:106px; z-index:1; background-color: #DF8010; layer-background-color: #DF8010; border: 1px solid #FFFFFF; visibility: hidden" onMouseOver="keepdrop()" onMouseOut="if(ie){hidedrop()}"> 
  <table border="0" cellspacing="2" cellpadding="2">
    <tr> 
      <td> 
        <p>&#8226; <a class=white href="index-cshell.html" 
onMouseOut=if(ns){hidedrop()} onMouseOver=keepdrop()>回本文主索引</a>&nbsp;&nbsp;<br>
      </td>
    </tr>
  </table>
</div>
<SCRIPT><!--
//set positions and show dropdowns
		for (k=1;k<=num_drops;k++){
			registerlayer(k);
			reposition(k);
			}
	if(ie5 && num_drops>0){ reposition(1) } //wierdness
			dropsloaded=1
//--></SCRIPT>
<table width="762" border="0" cellspacing="0" cellpadding="0" align="center">
  <tr> 
    <td width="762" bgcolor="#ffffff" colspan="4"><img src="giflib2001/dot-white.gif" width=1 height=1 hspace=0 vspace=0 border=0 alt=""></td>
  </tr>
  <tr> 
    <td width="1" bgcolor="#ffffff"><img src="giflib2001/dot-white.gif" width=1 height=1 hspace=0 vspace=0 border=0></td>
    <td valign="top" width="118" bgcolor="#000000"><a href="http://www.akira.com.tw/"><img src="giflib2001/akcsh-main800-1a.gif" width="118" height="62" border="0" alt="網路農夫 --  Home" name="home1"></a></td>
    <td valign="top" bgcolor="#000000"><a href="http://www.akira.com.tw/"><img src="giflib2001/akcsh-main800-1b.gif" width="642" height="62" border="0" name="home2" alt="網路農夫 --  Home"></a></td>
    <td width="1" bgcolor="#ffffff"><img src="giflib2001/dot-white.gif" width=1 height=1 hspace=0 vspace=0 border=0></td>
  </tr>
  <tr> 
    <td width="1" bgcolor="#ffffff"><img src="giflib2001/dot-white.gif" width=1 height=1 hspace=0 vspace=0 border=0></td>
    <td valign="top" align="left" width="118" bgcolor="#EA6B48"><a href="http://www.akira.com.tw/"><img src="giflib2001/akcsh-main800-1c.gif" width="118" height="363" border="0" name="home3" alt="網路農夫 --  Home"></a></td>
    <td valign="top" bgcolor="#FFC359" width="642"> 
      <table border="0" cellspacing="0" cellpadding="0" width="642">
        <tr> 
          <td><img src="giflib2001/cind-01.gif" width="40" height="23"></td>
          <td><A href="preface.html" onmouseout=hidedrop() 
      onmouseover="showdrop(1,'preface','giflib2001/cind-02a.gif')"><img src="giflib2001/cind-02.gif" width="54" height="23" border="0" name=preface></a></td>
          <td><A href="no1-1-01.html" onmouseout=hidedrop() 
      onmouseover="showdrop(2,'c1','giflib2001/cind-03a.gif')"><img src="giflib2001/cind-03.gif" width="63" height="23" name=c1 border="0"></a></td>
          <td><A href="no2-1.html" onmouseout=hidedrop() 
      onmouseover="showdrop(3,'c2','giflib2001/cind-04a.gif')"><img src="giflib2001/cind-04.gif" width="65" height="23" name=c2 border="0"></a></td>
          <td><A href="no3-0.html" onmouseout=hidedrop() 
      onmouseover="showdrop(4,'c3','giflib2001/cind-05a.gif')"><img src="giflib2001/cind-05.gif" width="66" height="23" name=c3 border="0"></a></td>
          <td><A href="no4-1.html" onmouseout=hidedrop() 
      onmouseover="showdrop(5,'c4','giflib2001/cind-06a.gif')"><img src="giflib2001/cind-06.gif" width="64" height="23" name=c4 border="0"></a></td>
          <td><A href="no5-0.html" onmouseout=hidedrop() 
      onmouseover="showdrop(6,'c5','giflib2001/cind-07a.gif')"><img src="giflib2001/cind-07.gif" width="65" height="23" name=c5 border="0"></a></td>
          <td><A href="cshell.html" onmouseout=hidedrop() 
      onmouseover="showdrop(7,'c6','giflib2001/cind-08a.gif')"><img src="giflib2001/cind-08.gif" width="64" height="23" name=c6 border="0" alt="wait....."></a></td>
          <td><a href="references.html" onMouseOut=hidedrop() 
      onMouseOver="showdrop(8,'c7','giflib2001/cind-09a.gif')"><img src="giflib2001/cind-09.gif" width="78" height="23" name=c7 border="0"></a></td>
          <td><a href="index-cshell.html" onmouseout=hidedrop() 
      onmouseover="showdrop(9,'c8','giflib2001/cind-10a.gif')"><img src="giflib2001/cind-10.gif" width="83" height="23" name=c8 border="0"></a></td>
        </tr>
      </table>
      <!-- #BeginEditable "chxx" --><img src="giflib2001/ch-3.gif" width="642" height="88"><!-- #EndEditable --><br>
      <!-- #BeginEditable "maintext" --> 
      <table width="642" border="0" cellspacing="15" cellpadding="0">
        <tr> 
          <td class="akb1"><span class="akh1">3-6 別名（aliases）的設定與運用</span> 
            <blockquote> 
              <blockquote> 
                <p><span class="akb2">設定語法 alias name 'command'<br>
                  解除設定語法 unalias name<br>
                  顯示設定語法 alias （顯示所有別名設定）<br>
                  alias name （顯示name的別名設定）</span></p>
              </blockquote>
              <p><span class="akb1">別名（aliases）是 C Shell 的內建指令。主要的功能是設定一個“小名”來取代常用的或複雜的指令組合。在應用上可說是最多樣、方便的好功能（此 
                aliases 功能在 Bourne Shell 中不支援）。在下例中便是別名的設定、顯示、使用情況：</span></p>
              <blockquote> 
                <p><span class="akb2">2 % alias ls 'ls -aF'<br>
                  3 % alias ls<br>
                  ls -aF<br>
                  4 % ls<br>
                  ./ ../ .cshrc* a b file login logout</span></p>
              </blockquote>
              <p><span class="akb1">當我們在使用常用的指令時，總不免會固定地使用指令的某一些選項。所以有人便使用設定 aliases 
                的方式來代替之。這是 aliases 最常見的應用。如上例我們設定一個叫“ls”的 aliases，它所代表的是指令“ls 
                -aF”。在設定完之後我們所執行的 ls 指令其實已經不是原來系統的指令ls，而是“ls -aF”。這全與 C Shell 
                對指令執行的解譯流程問題有關。因為 C Shell 在替使用者解譯鍵入的指令時，如果是屬於 C Shell 的內建指令，則會直接執行。如果指令是以符號“/”為開頭，則將會被認定為是路徑名稱，並會到該路徑下去搜尋該指令並加以執行。如果開頭沒有“/”符號，則會有兩種情況，依變數 
                path 裡所設定的目錄逐序加以搜尋及執行，這是一般的情況。但如果該指令名稱在內建指令 alias 所建立的資料內被發現，則 
                C Shell 會先將該指令名稱轉換成內建指令 alias 所建立的對映資料，再依此資料內容到變數 path 裡所設定的目錄群中去搜尋與執行。這便是設定 
                aliases 後會取代原指令執行的原因。</span></p>
              <p><span class="akb1">這種 aliases 名稱與系統指令名稱相同的設定，雖然帶給我們在指令使用上的方便，但也會造成一些在使用指令上的負面影響，使用者不可不小心謹慎。譬如在“ls”已被設定為“ls 
                -aF”的情況下，我們鍵入“ls -l”，則真正執行的其實是“ls -aF -l”。而不是原指令 ls 的“ls -l”。這一點請讀者務必認識清楚。</span></p>
              <p><span class="akb1">如果你想要將“ls”的 aliases 設定消除，可用指令 unalias 在指令行模式下解除“ls”的設定，如下所示：</span></p>
              <blockquote> 
                <p><span class="akb2">5 % unalias ls</span></p>
              </blockquote>
              <p><span class="akb1">如果說你在不想解除 ls 的 aliases 設定情況之下，想要運用原指令 ls。有兩種方式，第一：指令要以絕對路徑的方式來執行，以指令 
                ls 為例，須鍵入 /bin/ls 來執行。但這種方法老實說是比較笨的人用的。第二種方法是運用 C Shell 為我們所提供的特殊符號“\”擋去 
                alias 指令的設定，達到你要使用原指令的需求。如下所示：</span></p>
              <blockquote> 
                <p><span class="akb2">6 % \ls<br>
                  a b file login logout</span></p>
              </blockquote>
              <p><span class="akb1">如此你便可在指令的使用上得到更大的彈性，做更有效率的運用。</span></p>
              <p><span class="akb1">aliases 通常均設定在 C Shell 的啟始檔案“.cshrc”中；也可簽入後在設定，不夠設定值會隨著 
                logout 或 shell 的終止而消失。最好的方式還是設定在“.cshrc”檔案中，對使用上比較方便。</span></p>
              <p><span class="akb1">簡單的 aliases 設定如“alias ls ls -asF”或“alias rm 
                rm -i”等可不用符號來括住指令，但如果是指令組合中有運用到連續指令的符號“；”時，則一定得用符號來將指令組合括住，否則設定將出現問題。所以在設定 
                aliases 最好養成用符號將指令組合括住的好習慣。如下例，第一個 aliases 設定便是錯誤；而第二個有括住指令組合的，才是正確的。</span></p>
              <blockquote> 
                <p><span class="akb2">% alias ww who ; date<br>
                  alias ww who<br>
                  date<br>
                  Mon Sep 12 03:06:32 CST 1994<br>
                  % ww<br>
                  who<br>
                  akira ttyp0 Sep 12 02:34 (akirahost)<br>
                  % alias ww 'who ; date'<br>
                  alias ww who ; date<br>
                  % ww<br>
                  who<br>
                  akira ttyp0 Sep 12 02:34 (akirahost)<br>
                  date<br>
                  Mon Sep 12 03:09:28 CST 1994</span></p>
              </blockquote>
              <p><span class="akh2">3-6-1 別名設定中運用事件的引數</span></p>
              <p>&nbsp;</p>
              <p><span class="akb1">在別名的設定是允許代入變數或使用引數的。先來看看一般使用者常用來查看系統是否執行某個 
                process 的指令組合：</span></p>
              <blockquote> 
                <p><span class="akb2">% ps axu | grep pattern （pattern代表process的名稱）</span></p>
              </blockquote>
              <p><span class="akb1">如果像以上指令設定為下：</span></p>
              <blockquote> 
                <p><span class="akb2">% alias psg 'ps axu | grep'</span></p>
              </blockquote>
              <p><span class="akb1">讓我們來實際運用這個 psg 來尋找 cron 這個 process 看看：</span></p>
              <blockquote> 
                <p><span class="akb2">/home1/akira&gt; set echo<br>
                  /home1/akira&gt; alias psg 'ps axu | grep' <br>
                  alias psg ps axu | grep<br>
                  /home1/akira&gt; psg cron<br>
                  ps axu<br>
                  grep cron<br>
                  root 136 0.0 0.0 56 0 ? IW 00:41 0:00 cron<br>
                  akira 172 0.0 1.4 32 196 p0 S 01:01 0:00 grep cron</span></p>
              </blockquote>
              <p><span class="akb1">上例中指令 set echo 的在顯示執行的指令。（set echo 是 shell 
                的一個預設變數在後面將會有詳細的說明）在例子中可清楚的看到設定 aliases 後所執行的 psg cron 情況，因為 psg=ps 
                axu | grep，所以 psg cron 便相當於 ps axu | grep cron。實際上這個指令組合在 grep 
                的處理的並不完美，因為會連自己的 process 也顯示出來。所以我們將指令組合再加一道指令來去掉這個 bug。如下：</span></p>
              <blockquote> 
                <p><span class="akb2">% ps axu | grep pattern | grep -v grep</span></p>
              </blockquote>
              <p><span class="akb1">用指令 grep -v grep 來去掉不需要的訊息。但如此一來 grep 所需 pattern 
                要如何帶入 aliases 的設定呢？這便是如何將下指令的引數帶入 aliases 的設定中。關於這種情況你可以運用以下這幾個特殊符號來導入所需的引數，以達到你所想要設定功能。</span></p>
            </blockquote>
            <div align="right"> 
              <table border="1" cellpadding="4" width="400" cellspacing="0" vspace="9" align="center">
                <tr> 
                  <td width="20%" valign="TOP" height="16"> 
                    <p align="CENTER"><span class=akb2>符號</span> 
                  </td>
                  <td width="80%" valign="TOP" height="16"> 
                    <p align="left"><span class=akb2>說明</span> 
                  </td>
                </tr>
                <tr> 
                  <td width="20%" valign="TOP" height="16"> 
                    <p align="CENTER"><span class=akb2>!*</span> 
                  </td>
                  <td width="80%" valign="TOP" height="16"><span class=akb2>代表指令行的第一個到最後一個引數</span></td>
                </tr>
                <tr> 
                  <td width="20%" valign="TOP" height="16"> 
                    <p align="CENTER"><span class=akb2>!^</span> 
                  </td>
                  <td width="80%" valign="TOP" height="16"><span class=akb2>代表指令行的第一個引數</span></td>
                </tr>
                <tr> 
                  <td width="20%" valign="TOP" height="16"> 
                    <p align="CENTER"><span class=akb2>!:n</span> 
                  </td>
                  <td width="80%" valign="TOP" height="16"><span class=akb2>代表指令行的第 
                    n 個引數</span></td>
                </tr>
              </table>
            </div>
            <blockquote> 
              <p><span class="akb1">所以關於上一個 aliases 設定，便可使用“!^”或“!:1”來帶入第一個引數。aliases 
                設定如下所列兩種方式均可：</span></p>
              <blockquote> 
                <p><span class="akb2">% alias psg 'ps axu | grep \!^ | grep -v 
                  grep'<br>
                  % alias psg 'ps axu | grep \!:1 | grep -v grep'</span></p>
              </blockquote>
              <p><span class="akb1">如果要同時運用多個引數，我們以常用的 find 指令複雜的運用來做為例子，如下：</span></p>
              <blockquote> 
                <p><span class="akb2">% find path -name filename -type f rm -i 
                  {} \;<br>
                  % alias ffrm 'find \!:1 -name \!:2 -type f rm -i {} \;'<br>
                  % ffrm / cshrc.old</span></p>
              </blockquote>
              <p><span class="akb1">如果要同時將所有引數全部帶入且無法預期引數的數量，符號“!*”正好符合需求，例如：</span></p>
              <blockquote> 
                <p><span class="akb2">% chmod u+x filenames<br>
                  % alias cux 'chmod u+x \!*'<br>
                  % ls -l dirnames | grep &quot;^d&quot;<br>
                  % alias lsd 'ls \!* | grep &quot;^d&quot;</span></p>
              </blockquote>
              <p><span class="akb1">（這個例子中的 grep &quot;^d&quot; 是指每行開頭的第一個字母為 
                d，才顯示。整個指令組合運用來顯示指定目錄下層子目錄。）</span></p>
              <p>&nbsp;</p>
              <p><span class="akh2">3-6-2 別名設定中引用別名</span></p>
              <p>&nbsp;</p>
              <p><span class="akb1">在 aliases 設定的指令組合中允許使用已設定的 aliases。如下說明：</span></p>
              <blockquote> 
                <p><span class="akb2">% alias a alias<br>
                  % a h history<br>
                  % a hten 'h | head -10'</span></p>
              </blockquote>
              <p><span class="akb1">第一行設定 a = alias，第二行馬上運用第一行所設定的 a = alias 來設定 
                h = history，第三行中則運用了第一行及第二行的的設定。像此類的設定雖然成立，但實際運用時可得小心。</span></p>
              <p>&nbsp;</p>
              <p><span class="akh2">3-6-3 別名設定的迴圈錯誤（alias loop）現象</span></p>
              <blockquote> 
                <p><span class="akb2">% alias date 'clear;date'<br>
                  % date<br>
                  Alias loop.<br>
                  % alias ps 'who; ps'<br>
                  % ps<br>
                  Alias loop. </span></p>
              </blockquote>
              <p><span class="akb1">看看上面這幾個 aliases 的設定，雖然在語法上是合理的，設定時也不會產生錯誤訊息，但為何執行時卻都會產生錯誤呢？請仔細想想看！其實原因均是在“指令組合”中運用連續指令時產生的，其現象就是當 
                aliases 的名稱與所設定的 aliases 內容的最後一個指令相同所造成的。請特別注意下例的ps：</span></p>
              <blockquote> 
                <p><span class="akb2">% alias ps 'who; ps'</span></p>
              </blockquote>
              <p><span class="akb1">展開來執行 ps 便等於 who; ps，而連續指令中的 ps 會因為 aliases 
                已設定成功的因素，也等於who ; ps，如此設定後的 ps 在執行時便會產生一個怪異的結果，也就是一直在執行who ; who 
                ; ...，這就是所謂的<b> Alias loop.</b>。</span></p>
              <p><span class="akb1">要避開<b> Alias loop.</b> 有幾種方式，可將指令組合中的指令改為絕對路徑，如下：</span></p>
              <blockquote> 
                <p><span class="akb2">% alias ps 'who; /bin/ps' </span></p>
              </blockquote>
              <p><span class="akb1">同理但迅速的方法便是利用符號“\”，如下所示：</span></p>
              <blockquote> 
                <p><span class="akb2">% alias ps 'who; \ps'</span></p>
              </blockquote>
              <p><span class="akb1">以上的兩個避開<b> Alias loop.</b> 的方法，如果碰到要使用 C Shell 
                的內建指令，就無效了。這時您可以嘗試將指令組合中的指令，次序上對調如下亦可解除“<b>Alias loop.</b>”的情況。（雖然看起來也像會造成執行的迴圈，但其實不會，請放心使用）</span></p>
              <blockquote> 
                <p><span class="akb2">% alias ps 'ps;who' </span></p>
              </blockquote>
              <p><span class="akb1">在前面我們提過 alias 與指令名稱相衝的情況是可允許的，但也是必須要加以特別小心的。因為在 
                alias 設定中你可能一不小心便造成這種錯得不知不覺的情況產生。同時別名與指令名稱相沖的情況，最容易影響到設計考慮不週全的 
                shell script，造成執行錯誤或增加移植上的困擾。此點不可不慎重其事。</span></p>
              <p><span class="akh2">3-6-4 幾個實用的別名實例</span></p>
              <p><span class="akb1">好的 aliases 設定往往會令人錯覺是一個“新指令”的誕生。而 aliases 
                的設定方式也可說是千奇百怪，花招無窮。每當我想到或看到有創意的 aliases 時，總不免惹人一笑。我們來看看下面所列的幾個 
                aliases 的例子：</span></p>
              <blockquote> 
                <p><span class="akb2">alias vicsh 'vi \!:1 ; chmod u+x \!:1'</span></p>
              </blockquote>
              <p><span class="akb1">上面這個 aliase 是將指令 vi 與 chmod 的功能結合在一起，用來免除我們用 
                vi 編輯器編寫一個新的 C Shell 程式時，還要自己再用指令 chmod 來改便該檔案的“執行權限”的使用困擾。這對常撰寫 
                C Shell 程式的使用者來說真的相當方便。</span></p>
              <blockquote> 
                <p><span class="akb2">alias cd 'cd \!*;set prompt = &quot;\! &lt;$cwd&gt; 
                  &quot;'</span></p>
              </blockquote>
            </blockquote>
          </td>
        </tr>
      </table>
      <!-- #EndEditable --><!-- #BeginEditable "akicon" --> 
      <table width="642" border="0" cellspacing="0" cellpadding="0">
        <tr> 
          <td><img src="giflib2001/b-icon/b-line.gif" width="501" height="29"></td>
          <td><A href=no3-5.html onmouseout=hidedrop() onmouseover="akshowdrop('akicon','giflib2001/b-icon/1-02a.gif')"><img src="giflib2001/b-icon/1_01.gif" width="52" height="29" name="up" border="0"></a></td>
          <td><A href=# onmouseout=hidedrop() onmouseover="akshowdrop('akicon','giflib2001/b-icon/1-02bs.gif')"><img src="giflib2001/b-icon/1_02b.gif" width="33" height="29" name="akicon" border="0"></a></td>
          <td><A href=no3-7.html onmouseout=hidedrop() onmouseover="akshowdrop('akicon','giflib2001/b-icon/1-02c.gif')"><img src="giflib2001/b-icon/1_03.gif" width="56" height="29" name="next" border="0"></a></td>
        </tr>
      </table>
      <!-- #EndEditable --></td>
    <td width="1" bgcolor="#ffffff"><img src="giflib2001/dot-white.gif" width="1" height="1"></td>
  </tr>
  <tr> 
    <td width="762" bgcolor="#ffffff" colspan="4"><img src="giflib2001/dot-white.gif" width=1 height=1 hspace=0 vspace=0 border=0 alt=""></td>
  </tr>
</table>
<p align="center">&nbsp;</p>
<p align="center" class="akb3">版本：Beta-2001-05 -- 網路農夫</p>
<p align="center">&nbsp;</p>
</BODY>
<!-- #EndTemplate --></HTML>
