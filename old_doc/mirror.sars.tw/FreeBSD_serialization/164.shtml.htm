

<!-- Vignette StoryServer 4 Sat Mar 11 15:43:24 2000 --> 
<style type=text/css>
<!--
p,div {font-size:12pt; line-height:14pt; font-family:宋體;}
.p1{font-size:12pt;font-family:宋體;}
.p2{font-size:12pt;font-family:宋體;line-height:14pt;}
.p3{font-size:14.8px;font-family:宋體;}
.p4{font-size:14.8px;font-family:宋體;line-height:14pt;}
.p5{font-size:1pt}
a:hover{color:red;}
a.t1:visited{color:red;}
-->
</style>
<title>FreeBSD使用大全</title></head>

<body bgcolor="#FFFFFF" text="#000000" link="#383098" vlink="#336699" alink="#FF0000" topmargin="0">
<!-- Vignette StoryServer 4 Thu Mar 23 10:01:54 2000 --> <!-- Vignette StoryServer 4 Thu Mar 23 15:34:35 2000 --> 

<!--開始：新聞內容-->
<TABLE WIDTH=750 BORDER=0 CELLSPACING=0 CELLPADDING=0>

<tr valign=top>



<TD  valign=top>
<CENTER><FONT COLOR=#000066 size=5><B>FreeBSD連載(58)：為編譯核心準備原始碼</B><br></FONT></CENTER>

<HR  ALIGN="center" SIZE=1>
<CENTER><FONT FACE="Arial" SIZE=2> 1999年12月30日 15:44 </FONT><FONT COLOR="#990000" SIZE=2>王波</FONT></CENTER><p>

<p>　　<h1 align=center>配置FreeBSD核心</h1></p>

<p>　　安裝好FreeBSD之後，便需要根據硬體和電腦的應用需求重新配置FreeBSD的核心。標準核心已經能
夠滿足正常運行FreeBSD的需要，但是不建立針對自己電腦的核心，就不能說完全完成了FreeBSD的配置任務
。雖然FreeBSD提供了UserConfig可以來更改核心中硬體資源的，並通過可加載模塊以擴展核心能力，但仍
然有幾個重要的原因使得FreeBSD使用者重新定制核心：</p>

<p>　　通用核心不能對所有的硬體都進行支持，某些對安裝和運行不是至關重要的硬體，如聲卡，或者較少用到的硬體，如
ATM卡，就沒有被編譯到通用核心中去。如果用戶的電腦上使用了這些硬體，就需要重新編譯核心。</p>

<p>　　某些應用程序和FreeBSD的功能對核心的參數有特殊要求，例如Windows的模擬器Windows E
mulation等。重新編譯核心能滿足這些應用程序對核心參數的特殊要求。</p>

<p>　　通用核心中有很多不必要的硬體驅動程序，這些程序不僅使啟動時自動檢測硬體需要的時間變長，並且占用了內存空
間。由於核心是系統最重要的部分，將一直駐留在內存中，而不會置換到硬碟上，因此多余的核心驅動程序浪費了寶貴的物理
內存，對於系統性能有一定影響。</p>

<p>　　重新生成核心也可以根據自己的硬體和需求優化核心參數，例如用作伺服器和系統和用於工作站的FreeBSD系
統的最優參數是不同的，並且通用核心是使用386指令集，而目前電腦一般都是Pentium級，因此可以使用最新的
編譯器和最優化的編譯選項，提高系統性能。</p>

<p>　　定制核心能夠按照硬體和需求量體裁衣，使核心簡潔、干淨，這是一個提供高效率系統的重要因素。而且在Free
BSD下，定制核心並不困難，即使是對系統不太熟悉的使用者，也能夠完成定制核心的任務，所需要的只是耐心等待編譯過
程。在安裝好系統之後，應該及時進行定制核心的操作。</p>

<ul><LI><h2>為編譯核心準備原始碼</h2></LI></ul></p>

<p>　　FreeBSD系統提供核心的原始碼，在安裝系統時是否安裝核心代碼與使用的不同安裝選項有關。安裝後的源代
碼位於/usr/src/sys目錄中，如果這個目錄不存在或者為空目錄，則說明原始碼沒有安裝。此時就必須重新安裝
核心原始碼。</p>

<p>　　仍然可以使用/stand/sysinstall程序，選擇Distribution選項來安裝原始碼﹔也可
以運行安裝介質中src目錄下的install.sh來安裝。安裝FreeBSD核心原始碼之後，習慣上還創建了一個
符號連接/sys，指向/usr/src/sys目錄，以方便使用。</p>

<p>　　在擁有了原始碼之後，就可以編輯配置檔案，進行配置工作了。原始碼目錄/usr/src/sys下有多個目錄
，每個FreeBSD支持的設備、檔案系統都有自己的目錄，以存放相關的原始碼。在定制核心的時候，所關系的目錄是內
核配置檔案所在的目錄：/sys/i386/conf，i386目錄表示是Intel 386體系的電腦，其下的c
onf目錄下就放置著核心的配置檔案。
</p>



<BR>

</TD>
</TR></TABLE>



</BODY>
</HTML>
