

<!-- Vignette StoryServer 4 Sat Mar 11 15:43:24 2000 --> 
<style type=text/css>
<!--
p,div {font-size:12pt; line-height:14pt; font-family:宋體;}
.p1{font-size:12pt;font-family:宋體;}
.p2{font-size:12pt;font-family:宋體;line-height:14pt;}
.p3{font-size:14.8px;font-family:宋體;}
.p4{font-size:14.8px;font-family:宋體;line-height:14pt;}
.p5{font-size:1pt}
a:hover{color:red;}
a.t1:visited{color:red;}
-->
</style>
<title>FreeBSD使用大全</title></head>

<body bgcolor="#FFFFFF" text="#000000" link="#383098" vlink="#336699" alink="#FF0000" topmargin="0">
<!-- Vignette StoryServer 4 Thu Mar 23 10:01:54 2000 --> <!-- Vignette StoryServer 4 Thu Mar 23 15:34:35 2000 --> 

<!--開始：新聞內容-->
<TABLE WIDTH=750 BORDER=0 CELLSPACING=0 CELLPADDING=0>

<tr valign=top>



<TD  valign=top>
<CENTER><FONT COLOR=#000066 size=5><B>FreeBSD連載(94)：基於NAT的負載均衡技術</B><br></FONT></CENTER>

<HR  ALIGN="center" SIZE=1>
<CENTER><FONT FACE="Arial" SIZE=2> 2000年2月3日 17:06 </FONT><FONT COLOR="#990000" SIZE=2>王波</FONT></CENTER><p>

<h1 align=center>基於NAT的負載均衡技術</h1>

<p>　　網路地址轉換為Internet網關的一個重要功能，它能將內部地址和外部地址進行轉換，以使具備內部地址的
電腦能訪問外部網路。同樣外部網路訪問網關擁有的某一外部地址時，地址轉換網關能將其轉發到該地址映射的內部地址的
電腦上。</p>

<p>　　因此，可以通過重新修改地址轉換程序，使得地址轉換網關能將請求均勻轉換為內部的多個伺服器的內部地址，此後
外部網路中的電腦就各自與自己轉換得到的內部伺服器進行通信了。</p>

<P align=center><img SRC="FreeBSD_60.gif" tppabs="http://tech.sina.com.cn/focus/FreeBSD/images/FreeBSD_60.gif" WIDTH=450 HEIGHT=234></P>

<p>　　要實現這個負載均衡軟體，仍然需要更改原有的地址轉換程序。然而，由於FreeBSD下提供了地址轉換工具
natd及其原始碼，因此這個任務並不複雜。通過更改natd，可以使得在FreeBSD上實現負載均衡能力。</p>

<ul><P><LI><B>第四層交換</b></LI></P></ul>

<p>　　由於地址轉換相對來講比較接近網路的低層，因此就有可能將它集成在硬體設備中，通常這樣的硬體設備為局域網交
換機。</p>

<p>　　目前先進的局域網交換機開始支持所謂的第四層交換技術，就是按照IP地址和TCP端口進行虛擬連接的交換，直
接將數據包發送到目的電腦的相應端口中。通過可以進一步增強它的功能，通過交換機就能將來自外部的初始連接請求，分
別與內部的多個地址相聯繫，此後就能對這些已經建立的虛擬連接進行交換。因此一些具備第四層交換能力的局域網交換機，
就能作為一個硬體負載均衡器，完成Web伺服器的負載均衡。</p>

<p>　　由於第四層交換基於硬體芯片，因此其性能非常優秀，尤其是對於網路傳輸的速度，交換的速度遠遠超過普通的數據
包轉發。然而正因為它是使用硬體實現的，因此也比較不靈活，僅僅能夠處理幾種最標準的應用協議的負載均衡，如HTTP
。目前負載均衡主要用於解決Web伺服器的處理能力不足的問題，因此並不能充分發揮交換機帶來的高網路帶寬的優點。</p>

<p align=right>全書完　　</p>
<BR>

</TD>
</TR></TABLE>



</BODY>
</HTML>
