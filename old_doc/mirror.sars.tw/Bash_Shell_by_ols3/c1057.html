<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>18.歷史記錄</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Shell 設計入門"
HREF="book1.html"><LINK
REL="PREVIOUS"
TITLE="本節習題"
HREF="x1050.html"><LINK
REL="NEXT"
TITLE="取用歷史記錄的最後一筆"
HREF="x1069.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Shell 設計入門: </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1050.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1069.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="HISTORY">18.歷史記錄</H1
><P
>Bash shell 有支援歷史記錄功能，它會把您過去鍵入的命令，記錄在某一檔案中(~/.bash_history)，供您往後再次取用。</P
><P
>歷史記錄的筆數則視環境設定的大小而定(HISTSIZE 這個環境變數定義其大小)，預設值是 1000 筆。history 這個指令，可以秀出這 1000 筆記錄，每筆記錄都有編號，按佇列的方式排列，新的記錄會將舊記錄往前擠出。換言之，您看到的記錄可能是 18 ~ 1017 (共 1000 筆)，而不一定每次都是由 1 ~ 1000</P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="GET-HIS">取用歷史記錄的方法</H1
><P
>取用歷史記錄的方法如下：</P
><P
>先用 history | more 來觀看舊指令的記錄，如下所示：</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
> 1301  which uuencode
 1302  rpm -qf /usr/bin/uuencode
 1303  which uuencode
 1304  ls
 1305  ls -la dataf5
 1306  cat dataf5
 1307  uuencode dataf5 dataf5 &#62; e5.txt
 1308  vi e5.txt
 1309  clear
 1310  uuencode dataf5 HELLO &#62; e5.txt
 1311  vi e5.txt
 1312  clear
 1313  cd ..
 1314  cd ..
 1315  cd work
 1316  ls
 1317  clear
 1318  ls -la *.gz | more
 1319  uuencode cjkmix2.tar.gz cjkmix2.tar.gz &#62; m.txt
 1320  vi m.txt
 1321  clear
 1322  uuencode cjkmix2.tar.gz cjkmix2.tar.gz | mail -s "give u a file" ols3@localhost
 1323  mail
 1324  vi m2.txt
 1325  vi m2.txt
 1326  clear
 1327  uudecode m2.txt -o cc.tar.gz
 1328  ls -la c*.gz
 1329  clear</PRE
></TD
></TR
></TABLE
></P
><P
>擇定之後(比如：您要的是第 1312 clear 這道指令)，只要下 !1312 即可再次執行 clear</P
><P
>! 1322 則可再次執行 uuencode cjkmix2.tar.gz cjkmix2.tar.gz | mail -s "give u a file" ols3@localhost</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1050.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1069.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>本節習題</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>取用歷史記錄的最後一筆</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>