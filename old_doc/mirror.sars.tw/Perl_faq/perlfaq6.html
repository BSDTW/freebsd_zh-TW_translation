    <HTML> 
	<HEAD> 
	    <TITLE>perlfaq6

</TITLE> 
	</HEAD>

	<BODY>

<H1>perlfaq6 - perl±`°Ý°ÝÃD¶°¡A²Ä¤»½g</H1>
<p>
<p><H2><A NAME="INDEX">¥Ø¿ý
</A></H2>

<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#_g_W">½g¦W</A>
	<LI><A HREF="#_z">·§­z</A>
	<UL>

		<LI><A HREF="#_p_W_g">§Ú¸Ó¦p¦ó¨Ï¥Î¥¿³Wªí¥Ü¦¡¤~¤£¦Ü©ó¼g¥X¤£¦X»yªk¥BÃø¥HºûÅ@ªºµ{¦¡½X?</A>
		<LI><A HREF="#_L_k_W_L_e_A_">§ÚµLªk¹ïÀ³¨ì¶W¹L¤@¦æªº¤º®e¡A­þ¸Ì¥X¤F°ÝÃD?</A>
		<LI><A HREF="#_p_X_P_">§Ú¦p¦ó¨ú¥X¦ì©ó¤£¦P¦æªº¨â­Ó¼Ò¦¡¶¡¤§¤º®e?</A>
		<LI><A HREF="#_W_J_o_S">§Ú§â¤@­Ó¥¿³Wªí¥Ü¦¡©ñ¤J $/¦ý«o¨S¦³¥Î¡C¿ù¦b­þ¸Ì?</A>
		<LI><A HREF="#_p_b_LHS_i_G_l_B_">¦p¦ó¦b LHSºÝ¡iÄ¶µù¡G¦¡¤l¤¤¹Bºâ¤¸¥ªºÝ³¡¥÷¡j§@¤£°Ï§O¤j¤p¼g¦¡ªº´À´«¡A¦ý¦b RHSºÝ¡i¥kºÝ¡j«O¯d¤j¤p¼g°Ï§O?</A>
		<LI><A HREF="#_p_C_w_O_a">¦p¦ó¨Ï <CODE>\w</CODE>¹ïÀ³¨ìªþ­«­µ°O¸¹ (accented)ªº¦r¤¸?</A>
		<LI><A HREF="#_p_A_X_P_locale_i_">¦p¦ó§@¤@­Ó¾A¦X¤£¦P locale¡iÄ¶µù¡G°ê®a¡B¦a°Ï¦b¤å¦r½s½X¤W¦U¦ÛªººD¨Ò¡jªº <CODE>/[a-zA-Z]/</CODE>¹ïÀ³?</A>
		<LI><A HREF="#_b_W_p_J_quot">¦b¤@­Ó¥¿³Wªí¥Ü¦¡¸Ì¦p¦ó¤Þ¤J (quote)ÅÜ¼Æ?</A>
		<LI><A HREF="#C_o_O_F_"><CODE>/o</CODE>¨ì©³¬O·F»ò¥Îªº?</A>
		<LI><A HREF="#_p_W_N_C_y_">¦p¦ó¨Ï¥Î¥¿³Wªí¥Ü¦¡±NÀÉ®×¤¤ C»y¨¥¼Ë¦¡ªºµù¸Ñ§R±¼?</A>
		<LI><A HREF="#_Perl_W_h_">§Ú¯à¥Î Perlªº¥¿³Wªí¥Ü¦¡¥h¹ïÀ³¦¨¹ïªº²Å¸¹¶Ü?</A>
		<LI><A HREF="#_H_W_g_A_O_">¦³¤H»¡¥¿³Wªí¥Ü¦¡«Ü³g°ý¡A¨º¬O¤°»ò·N«ä?¸Ó¦p¦óÁ×§K¥¦©Ò±a¨Óªº°ÝÃD?</A>
		<LI><A HREF="#_p_B_z_C_C_r_">¦p¦ó³B²z¨C¤@¦æªº¨C­Ó¦r?</A>
		<LI><A HREF="#_p_L_X_r_X_W_v_X_W">§Ú¦p¦ó¦L¥X¤å¦r¥X²{ÀW²v©Î¦æ¥X²{ÀW²vªººõ­n?</A>
		<LI><A HREF="#_p_">¦p¦ó¯à§@ªñ¦ü¹ïÀ³?</A>
		<LI><A HREF="#_p_v_a_h_W_">§Ú¦p¦ó¦³®Ä²v¦a¤@¦¸¹ïÀ³¦h­Ó¥¿³Wªí¥Ü¦¡?</A>
		<LI><A HREF="#_C_b_r_j_M_">¬°¦ó§Ú¥Î <CODE>\b</CODE>§@¦r¬É·j´M®É·|¥¢±Ñ©O?</A>
		<LI><A HREF="#_C_">¬°¤°»ò¨C·í§Ú¥Î $&, $`,©Î $'®Éµ{¦¡ªº³t«×´NºC¤U¨Ó¤F©O?</A>
		<LI><A HREF="#_W_C_G_">¥¿³Wªí¥Ü¦¡¤¤ªº <CODE>\G</CODE>¯àµ¹§Ú¤°»ò¦n³B?</A>
		<LI><A HREF="#Perl_W_O_DFAs_NFAs">Perl¥¿³Wªí¥Ü¤ÞÀº¬O DFAs©Î NFAs?¥¦­Ì¬O POSIX¬Û®eªº¶Ü?</A>
		<LI><A HREF="#_b_L_X_U_grep_map_">¦bµL»¼¦^ªº³õ¦X¤U¥Î grep©Î map¦³¤°»ò¤£¹ï?</A>
		<LI><A HREF="#_p_h_r_c_r_">¦p¦ó¹ïÀ³¦h¦ì¤¸²Õ¦r¥À©Òºc¦¨ªº¦r¦ê?</A>
	</UL>

	<LI><A HREF="#_P_v_y">§@ªÌ»Pª©Åv¨Æ©y</A>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="_g_W">½g¦W

</A></H1>
perlfaq6 -¥¿³Wªí¥Ü¦¡¡(­ì¤åª© Revision: 1.17, Date: 1997/04/24 22:44:10
¤¤Ä¶ª© $Revision: 1.4 $, $Date: 1997/08/03 17:22:55 $)


<P>

<P>
<HR>
<H1><A NAME="_z">·§­z

</A></H1>
¥»¸`¤§©Ò¥H¥X¤H·N®Æ¦a¤p¬O¦]¬°¦b³o¥÷ FAQ
ªº¨ä¥¦³¡¥÷¤w´²¥¬µÛ»P¥¿³Wªí¥Ü¦¡¦³Ãöªºµª®×¤F¡C¨Ò¦p»¡¡A±q¤@¦ê¤å¦r¤¤Â^¨ú
URL¡A¥H¤ÎÀË¬d¦r¦ê¬O§_§t¼Æ¦r¡A³o¨Ç³£¬O¥H¥¿
³Wªí¥Ü¦¡¨Ó³B²zªº¡A¦ý¬O³o¨Ç°ÝÃDªºµª®×±o¨ì¥» FAQªº¨ä¥¦³¡¥÷¥h§ä
(§óºë½T¦a»¡¡A¬O¸ê®Æ©Mºô¸ô¨º¨â³¡¥÷)¡C


<P>

<P>
<HR>
<H2><A NAME="_p_W_g">§Ú¸Ó¦p¦ó¨Ï¥Î¥¿³Wªí¥Ü¦¡¤~¤£¦Ü©ó¼g¥X¤£¦X»yªk¥BÃø¥HºûÅ@ªºµ{¦¡½X?

</A></H2>
¥H¤U´£¨Ñ¤T­Ó§Þ¥©¨Ï±o§Aªº¥¿³Wªí¥Ü¦¡©öÀ´¤S¦nºûÅ@¡C


<P>

<DL>
<DT><STRONG><A NAME="item__b_W_C">¦b¥¿³Wªí¥Ü¦¡¥~³ò§@µù¸Ñ¡C

</A></STRONG><DD>
¥Î Perlªºµù¸Ñ¤è¦¡´y­z§A©Ò§@ªº¨Æ¥H¤Î§A¦p¦ó§@¨ì¥¦¡C


<P>

<PRE>    #§â¨C¦æÅÜ¦¨¡u²Ä¤@­Ó¦r¡B«_¸¹¡A©M³Ñ¾lªº¦r¤¸¼Æ¡v³o¼Ëªº®æ¦¡¡C
    s/^(\w+)(.*)/ lc($1) . &quot;:&quot; . length($2) /ge;
</PRE>

<P>

<DT><STRONG><A NAME="item__b_W_C">¦b¥¿³Wªí¥Ü¦¡¤º³¡§@µù¸Ñ¡C

</A></STRONG><DD>
<CODE>/x</CODE>­×¹¢¤l·|­nª½Ä¶¾¹©¿²¤¥¿³Wªí¥Ü¦¡¤ºªº¥ô·NªÅ¥Õ (¦b¯S©w¦r¤¸Ãþ§O [character
class]¤¤¨Ò¥~)¡A¦P®É¤]Åý§A¦b¦¡¤l¤¤¨Ï¥Î¥­±`ªºµù¸Ñ¤èªk¡C§AÀ³¸Ó¯à·Q¹³±o¨ì¡A
¥[¤W¤@¨ÇªÅ¥Õ»Pµù¸ÑÀ°§U·|¦³¦h¤j¡C


<P>

<CODE>/x</CODE>Åý§A§â¤U­±³o¦æ¡G


<P>

<PRE>    s{&lt;(?:[^&gt;'&quot;]*|&quot;.*?&quot;|'.*?')+&gt;}{}gs;
</PRE>

<P>

ÅÜ¦¨¡G


<P>

<PRE>    s{ &lt;                    #½bÀY¬A©·°Ï°_©l
        (?:                 #¹º¤À¡u¤Å°l·¹«e¬q¡v(non-backreferencing)ªº¬A©·
             [^&gt;'&quot;] *       #¦³¹s­Ó¥H¤W¡B¤£¬O &gt;¡B '¡A©Î &quot;ªº¦r¤¸
                |           #©ÎªÌ¬O
             &quot;.*?&quot;          #¤@¬qÂù¤Þ¸¹°é°_¨Óªº°Ï°ì (§[¶Þ¦¡¹ïÀ³)
                |           #©ÎªÌ¬O
             '.*?'          #¤@¬q³æ¤Þ¸¹°é°_¨Óªº°Ï°ì (§[¶Þ¦¡¹ïÀ³)
        ) +                 #¥H¤W°Ï°ì¥X²{¤@¦¸©Î¦h¦¸
       &gt;                    #½bÀY¬A©·°Ïµ²§ô
    }{}gsx;                 #¥ÎªÅ¦r¦ê¨Ó´À´«¡F¤]´N¬O±þ±¼
</PRE>

<P>

ÁöµM¥¦¬Ý¨ÓÁÙ¬O¤£°÷Â²©ú©öÀ´¡A¦ý¦Ü¤Ö¤j¤j¦³§U©ó¸ÑÄÀ³o­Ó¼Ò¦¡ (pattern)ªº·N¸q¡C


<P>

<DT><STRONG><A NAME="item__P_j_r_">´«­Ó¤£¦Pªº°Ï¹j¦r¤¸ (delimiter)¡C

</A></STRONG><DD>
¾¨ºÞ§Ú­Ì¥­±`³£§â¥¿³Wªí¥Ü¦¡ªº¼Ò¦¡ (patterns)·Q§@¬O¥H <CODE>/</CODE>¦r¤¸¨Ó°Ï¹j¡A¦ý¹ê»Ú¤W¥Î´X¥G¥ô¦ó¦r¤¸¨Ó§@³£¦æ¡C<A HREF="http://www.perl.org/CPAN/doc/manual/html/pod/perlre.html#">perlre</A>¤å¥ó¤¤¦³»¡©ú¡C¨Ò¦p¡A¤W­±ªº <CODE>s///</CODE>«K¬O¥Î¤j¬A¸¹¨Ó·í°Ï¹j¦r¤¸ªº¡C¿ï¾Ü¥t¤@­Ó°Ï¹j¦r¤¸¥i¥H§K°£¦b¼Ò¦¡¤¤±oÁ×¶}
(quote)°Ï¹j¦r¤¸ªº§xÂZ¡C¨Ò¦p¡G


<P>

<PRE>    s/\/usr\/local/\/usr\/share/g;      #¿ï¿ù°Ï¹j¦r¤¸ªº«áªG¡iÄ¶µù¡G
                                        #±`³QÀ¸ºÙ¬°¡u·f¤úÅÒ¡v¯g­Ô¸s ;-)¡j
</PRE>

<P>

<PRE>    s#/usr/local#/usr/share#g;          #³o¼Ë¤£¬O¦n¦h¤F?!
</PRE>

<P>

</DL>
<P>
<HR>
<H2><A NAME="_L_k_W_L_e_A_">§ÚµLªk¹ïÀ³¨ì¶W¹L¤@¦æªº¤º®e¡A­þ¸Ì¥X¤F°ÝÃD?

</A></H2>
­Y¤£¬O§Aªº¦r¦ê¸Ì¤Ö¤F´«¦æ¦r¤¸¡A´N¬O§A¦b¼Ò¦¡¸Ì¥Î¤F¿ù»~ªº­×¹¢¤l¡C


<P>

¦³«Ü¦h¤èªk±N¦h¦æªº¸ê®Æµ²¦X¦¨¤@­Ó¦r¦ê¡C¦pªG§A§Æ±æ¦bÅª¤J¿é¤J¸ê®Æ®É¦Û°Ê±o¨ì
³o¶µ¥\¯à¡A§A±o­«·s³]©w $/ÅÜ¼Æ (­Y¬°¬q¸¨¡A³]¦¨ ''¡F­Y­n±N¾ã­ÓÀÉ®×Åª¶i¤@¦r
¦ê¡A³]¦¨ <CODE>undef</CODE> )¡A¥H®e³\§A¤@¦¸¯àÅª¤J¤@¦æ¥H¤Wªº¿é¤J¡C


<P>

½Ð°Ñ¦Ò <EM>prelre</EM>¡A¨ä¤¤¦³¿ï¾Ü <CODE>/s</CODE>©Î <CODE>/m</CODE> (©Î¤GªÌ³£¥Î)ªº»¡©ú¡G <CODE>/s</CODE>Åý¸U¥Î¦r¤¸ (``.'')¯à¹ïÀ³¨ì´«¦æ¦r¤¸¡iÄ¶µù¡G³q±`´«¦æ¦r¤¸¤£¦b ``.''
ªº¹ïÀ³½d³ò¤º¡j¡A
<CODE>/m</CODE>«hÅý ``^''©M ``$''¨â­Ó²Å¸¹¯à°÷¹ïÀ³¨ì¥ô¦ó´«¦æ¦r¤¸ªº«e«á¡A¦Ó¤£¥u¬O¹³¥­±`
¨º¼Ë¥u¯à¹ïÀ³¨ì¦r¦êÀY§À¡C§A©Ò»Ý­n½T©wªº¬O§Aªº½T¦³­Ó¦h¦æªº¦r¦ê¡C


<P>

¨Ò¦p»¡¡A¥H¤U³o­Óµ{¦¡·|°»´ú¥X¦P¤@¬q¸¨¸Ì­«ÂÐªº¦r¡A§Y¨Ï¥¦­Ì¤§¶¡¦³´«¦æ²Å¸¹¬Û¹j
(¦ý¬O¤£¯à¹j¬q)¡C¦b³o­Ó¨Ò¤l¸Ì¡A§Ú­Ì¤£»Ý­n¥Î¨ì <CODE>/s</CODE>¡A¦]¬°§Ú­Ì¨Ã¥¼¦b¥ô¦ó­n¸ó¦æ¹ïÀ³ªº¥¿³Wªí¥Ü¦¡¤¤¨Ï¥Î ``.''¡C§Ú­Ì¥çµL»Ý¨Ï¥Î <CODE>/m</CODE>¡A¦]¬°§Ú­Ì¤£·QÅý ``^''©Î ``$''¥h¹ïÀ³
¨ì¦r¦ê¤¤¨C­Ó´«¦æ¦r¤¸«e«áªº¦ì¸m¡C¦ý­«ÂI¬O¡A§Ú­Ì±o§â $/
³]¦¨»P¤º©w­È¬Û²§ªº­È¡A§_«h§Ú­Ì¹ê»Ú¤W¬OµLªkÅª¤J¤@­Ó¦h¦æªº¸ê®Æªº¡C


<P>

<PRE>    $/ = '';            #Åª¤J¤@¾ã¬q¡A¦Ó«D¶È¬O¤@¦æ¡C
    while ( &lt;&gt; ) {
        while ( /\b(\w\S+)(\s+\1)+\b/gi ) {
            print &quot;¦b¬q¸¨ $.§ä¨ì­«½Æªº¦r $1\n&quot;;
        }
    }
</PRE>

<P>

¥H¤Uªºµ{¦¡¯à§ä¥X¶}ÀY¬° ``From ''ªº¥y¤l
(³\¦h¶l¥ó³B²zµ{¦¡³£·|¥Î¨ì³o­Ó¥\¯à)¡G


<P>

<PRE>    $/ = '';            #Åª¤J¤@¾ã¬q¡A¦Ó«D¶È¬O¤@¦æ¡C 
    while ( &lt;&gt; ) {
        while ( /^From /gm ) { # /m¨Ï±o ^¤]·|¹ïÀ³¨ì \n¤§«á
            print &quot;¶}ÀY¬° Fromªº¬q¸¨ $.\n&quot;;
        }
    }
</PRE>

<P>

¥H¤Uªºµ{¦¡·|§ì¥X¦b¤@­Ó¬q¸¨¸Ì©Ò¦³§¨¦b START»P END¤§¶¡ªºªF¦è¡C


<P>

<PRE>    undef $/;           #§â¾ã­ÓÀÉ®×Åª¶i¨Ó¡A¦Ó«D¥u¬O¤@¦æ©Î¤@¬q
    while ( &lt;&gt; ) {
        while ( /START(.*?)END/sm ) { # /s¨Ï±o .¯à¸ó¶V¦æ¬É
            print &quot;$1\n&quot;;
        }
    }
</PRE>

<P>

<P>
<HR>
<H2><A NAME="_p_X_P_">§Ú¦p¦ó¨ú¥X¦ì©ó¤£¦P¦æªº¨â­Ó¼Ò¦¡¶¡¤§¤º®e?

</A></H2>
§A¥i¥H¨Ï¥Î¬Ý°_¨Ó¦³ÂI©Çªº Perl <CODE>..</CODE>¹Bºâ¤¸ (¦b <A HREF="http://www.perl.org/CPAN/doc/manual/html/pod/perlop.html#">perlop</A>¤å¥ó¤¤¦³»¡©ú): 


<P>

<PRE>    perl -ne 'print if /START/ .. /END/' file1 file2 ...
</PRE>

<P>

¦pªG§A­nªº¬O¾ã¬q¤å¦r¦Ó«D¦U³æ¦æ¡A§A¸Ó¨Ï¥Î¡G


<P>

<PRE>    perl -0777 -pe 'print &quot;$1\n&quot; while /START(.*?)END/gs' file1 file2 ...
</PRE>

<P>

¦ý¬O·í <CODE>START</CODE>©M <CODE>END</CODE>¤§¶¡ªºªF¦è§@±_ª¬(¤º§t)¦¡¤À¥¬ (nested occurrences)ªº®É­Ô
¡A§A«K±o­±¹ï¥»½g¤¤©Ò´£¨ìªº¹ïºÙ¦¡¤å¦r¹ïÀ³ªº°ÝÃD¡C


<P>

<P>
<HR>
<H2><A NAME="_W_J_o_S">§Ú§â¤@­Ó¥¿³Wªí¥Ü¦¡©ñ¤J $/¦ý«o¨S¦³¥Î¡C¿ù¦b­þ¸Ì?

</A></H2>
$/¥²¶·¬O­Ó¦r¦ê¡A¤£¯à¬O¤@­Ó¥¿³Wªí¥Ü¦¡¡CPerl±o¯d¤@¤â¡AÅý AwkÁÙ¦³ÂI¥iÅº¶Æ
¤§³B¡C :-)


<P>

¨Æ¹ê¤W¡A¦pªG§A¤£¤¶·N§â¾ã­ÓÀÉ®×Åª¤J°O¾ÐÅéªº¸Ü¡A¤£§«¸Õ¸Õ¬Ý³o­Ó¡G


<P>

<PRE>    undef $/;
    @records = split /your_pattern/, &lt;FH&gt;;
</PRE>

<P>

Net::Telnet¼Ò²Õ (CPAN¸Ì¦³)¨ã¦³¤@¶µ¥\¯à¡A¥iºÊµøµÛ¿é¤J¬y (input
stream)¡Bµ¥«Ý¯S©wªº¼Ò¦¡¥X²{¡A©Î¬O¦b³W©w®É¶¡¨ì¤FÁÙ¨Sµ¥¨ì®É¡A°e¥X¹O®É
(timeout)°T®§¡C


<P>

<PRE>    ##¶}¤@­Ó¦³¤T¦æªºÀÉ®×
    open FH, &quot;&gt;file&quot;;
    print FH &quot;The first line\nThe second line\nThe third line\n&quot;;
    close FH;
</PRE>

<P>

<PRE>    ##¨ú±o¤@­Ó¥iÅª/¼gªºÀÉ®×³B²z§â¤â
    $fh = new FileHandle &quot;+&lt;file&quot;;
</PRE>

<P>

<PRE>    ##§â¥¦ªþµÛ¦¨¤@­Ó &quot;stream&quot;ª«¥ó
    use Net::Telnet;
    $file = new Net::Telnet (-fhopen =&gt; $fh);
</PRE>

<P>

<PRE>    ##µ¥¨ì²Ä¤G¦æ¥X²{¤F¡A´N§â²Ä¤T¦æ¦L¥X¨Ó¡C
    $file-&gt;waitfor('/second line\n/');
    print $file-&gt;getline;
</PRE>

<P>

<P>
<HR>
<H2><A NAME="_p_b_LHS_i_G_l_B_">¦p¦ó¦b LHSºÝ¡iÄ¶µù¡G¦¡¤l¤¤¹Bºâ¤¸¥ªºÝ³¡¥÷¡j§@¤£°Ï§O¤j¤p¼g¦¡ªº´À´«¡A¦ý¦b RHSºÝ¡i¥kºÝ¡j«O¯d¤j¤p¼g°Ï§O?

</A></H2>
µª®×ºÝ¬Ý§A¦p¦ó©w¸q¡u«O¯d¤j¤p¼g°Ï§O¡v(preserving case)¡C¤U­±³o­Óµ{¦¡¨Ì·Ó¨C­Ó
¦r¥Àªº¶¶§Ç¡A¦b´À´«°Ê§@§¹¦¨«á«O¯d­ì¨Óªº¤j¤p¼g¡C¦pªG¥Î¨Ó´À´«ªº¦r¨ä¦r¥À¼Æ¤ñ³Q´À
´«ªÌ¦h¡A¨º»ò³Ì«á¤@­Ó¦r¥Àªº¤j¤p¼g´N·|³Q¥Î§@¨M©w´À´«¦r³Ñ¾l¦r¥Àªº¤j¤p¼g¤§¨Ì¾Ú¡C



<P>

<PRE>    #­ì§@ªÌ¬° Nathan Torkington,¸g Jeffrey Friedl½Õ¾ã
    #
    sub preserve_case($$)
    {
        my ($old, $new) = @_;
        my ($state) = 0; # 0 = no change; 1 = lc; 2 = uc
        my ($i, $oldlen, $newlen, $c) = (0, length($old), length($new));
        my ($len) = $oldlen &lt; $newlen ? $oldlen : $newlen;
</PRE>

<P>

<PRE>        for ($i = 0; $i &lt; $len; $i++) {
            if ($c = substr($old, $i, 1), $c =~ /[\W\d_]/) {
                $state = 0;
            } elsif (lc $c eq $c) {
                substr($new, $i, 1) = lc(substr($new, $i, 1));
                $state = 1;
            } else {
                substr($new, $i, 1) = uc(substr($new, $i, 1));
                $state = 2;
            }
        }
        #§â³Ñ¤Uªº new³¡¥÷§@³B²z (·í new¤ñ oldªø®É)
        if ($newlen &gt; $oldlen) {
            if ($state == 1) {
                substr($new, $oldlen) = lc(substr($new, $oldlen));
            } elsif ($state == 2) {
                substr($new, $oldlen) = uc(substr($new, $oldlen));
            }
        }
        return $new;
    }
</PRE>

<P>

<PRE>    $a = &quot;this is a TEsT case&quot;;
    $a =~ s/(test)/preserve_case($1, &quot;success&quot;)/gie;
    print &quot;$a\n&quot;;
</PRE>

<P>

³o·|¦L¥X¡G


<P>

<PRE>    this is a SUcCESS case
</PRE>

<P>

<P>
<HR>
<H2><A NAME="_p_C_w_O_a">¦p¦ó¨Ï <CODE>\w</CODE>¹ïÀ³¨ìªþ­«­µ°O¸¹ (accented)ªº¦r¤¸?

</A></H2>
½Ð°Ñ¦Ò <A HREF="http://www.perl.org/CPAN/doc/manual/html/pod/perllocale.html#">perllocale»¡©ú¤å¥ó</A>¡C


<P>

<P>
<HR>
<H2><A NAME="_p_A_X_P_locale_i_">¦p¦ó§@¤@­Ó¾A¦X¤£¦P locale¡iÄ¶µù¡G°ê®a¡B¦a°Ï¦b¤å¦r½s½X¤W¦U¦ÛªººD¨Ò¡jªº <CODE>/[a-zA-Z]/</CODE>¹ïÀ³?

</A></H2>
¤@­Ó¦r¥À¥i¥H¥Î <CODE>/[^\W\d_]/</CODE>ªí¥Ü¡A¤£½×§Aªº locale¬°¦ó¡C«D¦r¥À«h¥i¥Î
<CODE>/[\W\d_]/</CODE>ªí¥Ü (°²©w§A¤£§â ``_''·í¦¨¦r¤¸)¡C


<P>

<P>
<HR>
<H2><A NAME="_b_W_p_J_quot">¦b¤@­Ó¥¿³Wªí¥Ü¦¡¸Ì¦p¦ó¤Þ¤J (quote)ÅÜ¼Æ?

</A></H2>
Perl¸ÑªR¾¹©ó¶¡¹j¦r¤¸¤£¬O³æ¤Þ¸¹®É¡A·|®i¶}¥¿³Wªí¥Ü¦¡¸Ìªº
<CODE>$variable</CODE>¤Î <CODE>@variable</CODE>ÅÜ¼Æ¡C¦P®É¤]­n°O±o¡A¤@­Ó <CODE>s///</CODE>´À´«¦¡¥k°¼³¡¥÷¬O·í¦¨Âù¤Þ¸¹¬A°_¨Ó³B²zªº (¸Ô±¡½Ð°Ñ¬Ý <A HREF="http://www.perl.org/CPAN/doc/manual/html/pod/perlop.html#">perlop»¡©ú¤å¥ó</A>)¡C§ó§O§Ñ°O¡A¥ô¦ó¤@­Ó¥¿³Wªí¥Ü¦¡¸Ìªº¯S®í¦r¤¸³£·|¥ý³Q¸ÑÄ¶¡B³B²z¡A
°£«D§A¦b´À´«¼Ò¦¡«e¥[ \Q¡C¥H¤U§Y¬°¤@¨Ò¡C


<P>

<PRE>    $string = &quot;to die?&quot;;
    $lhs = &quot;die?&quot;;
    $rhs = &quot;sleep no more&quot;;
</PRE>

<P>

<PRE>    $string =~ s/\Q$lhs/$rhs/;
    # $string²{¦b¦¨¤F &quot;to sleep no more&quot;
</PRE>

<P>

¤Ö¤F \Q¡A«h³o­Ó¥¿³Wªí¥Ü¦¡¦P®É¤]·|¿ù»~¦a¹ïÀ³¨ì ``di''¡C¡iÄ¶µù¡G¦]¬° /die?/
³o­Ó¦¡¤lªí¥Ü ``di''«áÀYªº ``e''¥i¦³¹s­Ó©Î¤@­Ó¡j


<P>

<P>
<HR>
<H2><A NAME="C_o_O_F_"><CODE>/o</CODE>¨ì©³¬O·F»ò¥Îªº?

</A></H2>
·í§A¦b¤@­Ó¥¿³Wªí¥Ü¦¡¸Ì¥Î¤@­ÓÅÜ¼Æ¨Ó§@¹ïÀ³®É¡A¨C¦¸³q¹L¥¦®É³£­n­«·sµû¦ô¤@¦¸(re-
evaluation)¡A¦³®É¬Æ¦Ü­n­«·s½sÄ¶(recompilation)¡C<CODE>/o</CODE>·|¦b²Ä¤@¦¸¥Î¨ì¨º­ÓÅÜ¼Æ
®É§â¥¦Âê©w¡C¦b¤@­ÓµLÅÜ¼Æªº¥¿³Wªí¥Ü¦¡¸Ì­±¡A¦¹±¡§Î¥Ã»·¬°¯u¡A¦Ó¥B¨Æ¹ê¤W¡A·í§A¾ã
­Óµ{¦¡¦b³Q½sÄ¶¦¨¤º³¡(¦ì¤¸)½Xªº¦P®É¡A§A©Ò¥Îªº¼Ò¦¡¥çµM¡C


<P>

°£«D¦b¼Ò¦¡¸Ì¦³ÅÜ¼ÆÂàÄ¶ªº±¡ªpµo¥Í¡A§_«h¨Ï¥Î <CODE>/o</CODE>¬OµLÃöµhÄoªº¡C¦b¼Ò¦¡¤¤¦³ÅÜ¼Æ¨Ã¥B¤S¦³ <CODE>/o</CODE>­×¹¢¤lªº±¡ªp¤U¡A¥¿³Wªí¥Ü¦¡¤ÞÀº«h¬J¤£·|ª¾¹D¤]¤£·|¥hºÞ³o­Ó¼Ò¦¡¦b
<EM>²Ä¤@¦¸</EM>µû¦ô¤§«á¨ä¤¤ÅÜ¼Æ¬O§_¤S¦³©Ò§ïÅÜ¡C


<P>

<CODE>/o</CODE>±`³Q¥Î¨ÓÃB¥~´£°ª°õ¦æ®Ä²v¡C·í­«ÂÐµû¦ôµLÃöºò­n (¦]¬°¨Æ¥ýª¾¹D¸ÓÅÜ¼Æªº
­È¤£·|§ïÅÜ)¡F©Î¬O¦b¦³¨Ç¨u¨£ªº±¡ªp¤U¡A¬G·N¤£Åý¥¿³Wªí¥Ü¦¡¤ÞÀº¹îÄ±¨ìÅÜ¼Æ­È¤w§ïÅÜ
®É¡A«K¥i³z¹L¦¹¤@¤â¬q¡AÁ×§K«ùÄòµû¦ô¡A¨Ó¹F¨ì´£°ª®Ä²vªº¥Øªº¡C


<P>

¤U­±¥H¤@­Ó ``paragrep'' (¡u¬q¸¨grep¡v)µ{¦¡§@½d¨Ò¡G


<P>

<PRE>    $/ = '';  #¨Ï¥Î¬q¸¨¼Ò¦¡
    $pat = shift;
    while (&lt;&gt;) {
        print if /$pat/o;
    }
</PRE>

<P>

<P>
<HR>
<H2><A NAME="_p_W_N_C_y_">¦p¦ó¨Ï¥Î¥¿³Wªí¥Ü¦¡±NÀÉ®×¤¤ C»y¨¥¼Ë¦¡ªºµù¸Ñ§R±¼?

</A></H2>
ÁöµM³o¥ó¨Æ¹ê»Ú¤W°µ±o¨ì¡A¦ý«o¤ñ§A·Q¹³¤¤§ó¥[§xÃø¡C¨Ò¦p¤U­±ªº³æ¦æ¤pµ{¦¡
(one-liner)¡G


<P>

<PRE>    perl -0777 -pe 's{/\*.*?\*/}{}gs' foo.c
</PRE>

<P>

¥u¯à¦b¤j³¡¤À(¦ý«D¥þ³¡)ªº±¡ªp¤U¦¨¥\¡C§Aª¾¹D¡A³oµ{¦¡¹ï¬Y¨ÇºØÃþªº Cµ{¦¡Åã±o¤Ó
Â²­®¡B³æ¯Â¤F¡A¤×¨ä¬O¨º¨Ç³QÂù¤Þ¸¹¬A°_¨Ó¡B¬Ý¦üµù¸Ñªº¦r¦ê¡C°w¹ï¥¦­Ì¡A§A»Ý­n¹³
³o­Ó Jeffrey Friedl©Ò¼gªº³o¼Ëªºµ{¦¡¡G


<P>

<PRE>    $/ = undef;
    $_ = &lt;&gt;;
    s#/\*[^*]*\*+([^/*][^*]*\*+)*/|(&quot;(\\.|[^&quot;\\])*&quot;|'(\\.|[^'\\])*'|\n+|.[^/&quot;'\\]*)#$2#g;
    print;
</PRE>

<P>

·íµM¡A³oµ{¦¡¥i¥H¥Î <CODE>/x</CODE>¥[¤WªÅ¥Õ»Pª`¸Ñ¨Ï¥¦§ó®e©öÅý¤H¬ÝÀ´¡C


<P>

<P>
<HR>
<H2><A NAME="_Perl_W_h_">§Ú¯à¥Î Perlªº¥¿³Wªí¥Ü¦¡¥h¹ïÀ³¦¨¹ïªº²Å¸¹¶Ü?

</A></H2>
ÁöµM Perlªº¥¿³Wªí¥Ü¦¡¤ñ¡u¼Æ¾Çªº¡v¥¿³Wªí¥Ü¦¡­n¨Ó±o±j¤j¡A¦]¬°¥¦­Ì¦³°l·¹«e¬q
(<CODE>\1</CODE>¤§Ãþ)³o¼Ë¤è«Kªº¥\¯à¡A¦ý¥¦­Ì¤´µM¤£°÷±j¤j¡C§A¨ÌµM±o¥Î«D¥¿³Wªí¥Ü¦¡
ªº§Þ³N¥h¸ÑªR³oÃþ¤å¦r¡AÄ´¦p¹³¨âºÝ¥Î¤p¬A¸¹©Î¤j¬A¸¹¥]§t°_¨Óªº¤å¦r¡C


<P>

§A¥i¥H¦b <A
HREF="http://www.perl.com/CPAN/authors/id/TOMC/scripts/pull_quotes.gz">http://www.perl.com/CPAN/authors/id/TOMC/scripts/pull_quotes.gz</A>
§ä¨ì¤@­Óºë²Ó½ÆÂøªº°Æ±`¦¡(µ¹ 7-bit ASCII±M¥Î)¡A¥¦¥i¥H§ì¥X¦¨¹ï¬Æ¦Ü©ó±_ª¬¤À¥¬
ªº³æ¤@¦r¤¸¡A¹³ <CODE>`</CODE>©M <CODE>'</CODE>¡A<CODE>{</CODE>©M <CODE>}</CODE>¡A©Î <CODE>(</CODE>©M <CODE>)</CODE>¡C


<P>

CPAN¤¤ªº C::Scan¼Ò²Õ¥]§t¤@­Ó³o¼Ëªº°Æ±`¦¡¨Ñ¤º³¡¨Ï¥Î¡A¦ýµL»¡©ú¤å¥ó¡C


<P>

<P>
<HR>
<H2><A NAME="_H_W_g_A_O_">¦³¤H»¡¥¿³Wªí¥Ü¦¡«Ü³g°ý¡A¨º¬O¤°»ò·N«ä?¸Ó¦p¦óÁ×§K¥¦©Ò±a¨Óªº°ÝÃD?

</A></H2>
¤j³¡¤Àªº¤H©Ò»¡ªº³g°ý¬O«ü¥¿³Wªí¥Ü¦¡·|ºÉ¥i¯à¦a¹ïÀ³¨ì³Ì¦hªºªF¦è¡C§Þ³N¤W¨Ó»¡¡A¯u¥¿³g°ý
ªº¬O¶q¤Æ¤l (<CODE>?</CODE>, <CODE>*</CODE>, <CODE>+</CODE>,<CODE>{}</CODE>)¦Ó«D¾ã­Ó¼Ò¦¡¡FPerl¸û³ßÅw§@°Ï°ì©Êªº³g°ý¥H±o
¨ì¥ß§Yªº§Ö·P¡A¦Ó¤£¬O¹ï¾ã­Ó¦¡¤lªº³g°ý¡C¦p±ý¨Ï¥Î¦P¼Ëªº¶q¤Æ¤l§@«D³g°ý¦¡¹ïÀ³ªº¸Ü
¡iÄ¶µù¡G§Y©Ò¿×ªº§[¶Þ(stingy)¦¡¹ïÀ³¡j¡A¥Î (<CODE>??</CODE>, <CODE>*?</CODE>, <CODE>+?</CODE>, <CODE>{}?</CODE>)¡C¨Ò¦p¡G


<P>

<PRE>        $s1 = $s2 = &quot;I am very very cold&quot;;
        $s1 =~ s/ve.*y //;      #³g°ý¦¡¡Fµ²ªG¬° I am cold
        $s2 =~ s/ve.*?y //;     #§[¶Þ¦¡¡Fµ²ªG¬° I am very cold
</PRE>

<P>

ª`·N¨ì¦b²Ä¤G­Ó´À´«¤¤¤@¸I¨ì ``y''´N°±¤î¾ã­Ó¹ïÀ³¤F¶Ü? <CODE>*?</CODE>¶q¤Æ¤l¦³®Ä²v¦a§i¶D¥¿
³Wªí¥Ü¦¡¤ÞÀº¡A¤@¦ý¹ïÀ³¨ì¤@­Ó¼Ò¦¡¡A´N°¨¤W§â±±¨îÅv²¾¥æ¤U¥h¡A³o¦æ¬°´N¦n¤ñ§A¤â¤W¦³
­Ó¿S¤â¤s¨¡®É©Ò·|±Ä¨úªº¦æ°Ê¤@¼Ë¡C


<P>

<P>
<HR>
<H2><A NAME="_p_B_z_C_C_r_">¦p¦ó³B²z¨C¤@¦æªº¨C­Ó¦r?

</A></H2>
¥Î split¨ç¼Æ¡G


<P>

<PRE>    while (&lt;&gt;) {
        foreach $word ( split ) { 
            #¦b¦¹§@§A·Q¹ï $word§@ªº°Ê§@
        } 
    }
</PRE>

<P>

½Ðª`·N³o¸Ì©Ò¿×ªº¦r©M­^¤å¤¤¹ï¦rªº©w¸q¤£¦P¡F¥¦­Ì¥i¯à¥u¬O¤@¬q³sÄòªº¡B«DªÅ¥Õªº
¦r¤¸½}¤F¡C


<P>

­Y±ý³B²zªº¬O¤@³s¦ê¯Â¦r¥Àªº¸Ü¡A¥i¥H¦Ò¼{¥Î¡G


<P>

<PRE>    while (&lt;&gt;) {
        foreach $word (m/(\w+)/g) {
            #¦b¦¹§@§A·Q¹ï $word§@ªº°Ê§@
        }
    }
</PRE>

<P>

<P>
<HR>
<H2><A NAME="_p_L_X_r_X_W_v_X_W">§Ú¦p¦ó¦L¥X¤å¦r¥X²{ÀW²v©Î¦æ¥X²{ÀW²vªººõ­n?

</A></H2>
­n§@¨ì³oÂI¡A§A±o¸ÑÅª¡B¤ÀªR¿é¤J¦r¤¸¬y¤ºªº¨C­Ó¦r¡C¦b¦¹§Ú­Ì°²³]©Ò¿×ªº¡u¦r¡v
§½­­©ó¤@¦ê¥Ñ¦r¥À¡B³s¦r¸¹¡A©ÎºJ¸¹©Ò²Õ¦¨ªº¦r¡A¦Ó«D«e¤@°ÝÃD¤¤´£¨ìªº¤@¦ê
«DªÅ¥Õ¦r¤¸¶°¦X¨ººØ·§©À¡G


<P>

<PRE>    while (&lt;&gt;) {
        while ( /(\b[^\W_\d][\w'-]+\b)/g ) {   # &quot;`sheep'&quot;·|º|¥¢±¼
            $seen{$1}++;
        }
    }
    while ( ($word, $count) = each %seen ) {
        print &quot;$count $word\n&quot;;
    }
</PRE>

<P>

¦pªG§A­nºâ¦æ¼Æ¡A«h¥Î¤£µÛ¨Ï¥Î¥¿³Wªí¥Ü¦¡¡G


<P>

<PRE>    while (&lt;&gt;) { 
        $seen{$_}++;
    }
    while ( ($line, $count) = each %seen ) {
        print &quot;$count $line&quot;;
    }
</PRE>

<P>

¦pªG§A§Æ±æ³o¨Ç¿é¥X¸g¹L±Æ¦C¡A½Ð°Ñ¬Ý¦³Ãö Hashesªº¨º³¡¤À¡C


<P>

<P>
<HR>
<H2><A NAME="_p_">¦p¦ó¯à§@ªñ¦ü¹ïÀ³?

</A></H2>
°Ñ¦Ò CPAN¸Ìªº String::Approx¼Ò²Õ¡C


<P>

<P>
<HR>
<H2><A NAME="_p_v_a_h_W_">§Ú¦p¦ó¦³®Ä²v¦a¤@¦¸¹ïÀ³¦h­Ó¥¿³Wªí¥Ü¦¡?

</A></H2>
¤U­±¬O­Ó¶W¨S®Ä²vªº¨Ò¤l¡G


<P>

<PRE>    while (&lt;FH&gt;) {
        foreach $pat (@patterns) {
            if ( /$pat/ ) {
                # do something
            }
        }
    }
</PRE>

<P>

­nÁ×§K¥H¤Wªº¤èªk¡A­n¤£§A´N¿ï¥Î CPAN
¤¤´X­Ó¹êÅç©Êªº¥¿³Wªí¥Ü¦¡ÂX¥R¼Ò²Õ¨ä¤¤¤@­Ó
(¹ï§Aªº¥Øªº¨Ó»¡¥i¯à®Ä²vÁÙ¬O¤£°÷¦n)¡A©Î¬O¦Û¤v¼g­Ó¹³¤U­±³o¼ËªºªF¦è (¦Û
Jeffrey Friedl®Ñ¤¤ªº¤@­Ó¨ç¦¡©Ò±o¨ìªºÆF·P)¡G


<P>

<PRE>    sub _bm_build {
        my $condition = shift;
        my @regexp = @_;  #³o¸Ì¤£¥i¥Î local()¡A±o¥Î my()
        my $expr = join $condition =&gt; map { &quot;m/\$regexp[$_]/o&quot; } (0..$#regexp);
        my $match_func = eval &quot;sub { $expr }&quot;;
        die if $@;  # $@¡i¿ù»~ÅÜ¼Æ¡j¸Ì­±¦³ªF¦è¡F³o¤£¸Ó¥X²{¡I
        return $match_func;
    }
</PRE>

<P>

<PRE>    sub bm_and { _bm_build('&amp;&amp;', @_) }
    sub bm_or  { _bm_build('||', @_) }
</PRE>

<P>

<PRE>    $f1 = bm_and qw{
            xterm
            (?i)window
    };
</PRE>

<P>

<PRE>    $f2 = bm_or qw{
            \b[Ff]ree\b
            \bBSD\B
            (?i)sys(tem)?\s*[V5]\b
    };
</PRE>

<P>

<PRE>    #Áý§Ú /etc/termcap
    while ( &lt;&gt; ) {
        print &quot;1: $_&quot; if &amp;$f1;
        print &quot;2: $_&quot; if &amp;$f2;
    }
</PRE>

<P>

<P>
<HR>
<H2><A NAME="_C_b_r_j_M_">¬°¦ó§Ú¥Î <CODE>\b</CODE>§@¦r¬É·j´M®É·|¥¢±Ñ©O?

</A></H2>
¦³¨â­Ó±`¨£ªº¿ù»~Æ[©À¬O±N <CODE>\b</CODE>°µ¬° <CODE>\s+</CODE>ªº¦P¸qµü¡AÁÙ¦³§â¥¦·í¦¨¬É©wªÅ¥Õ¤Î«DªÅ¥Õ¦r¤¸¶¡ªºÃä¬É¡C¨âªÌ³£¤£¹ï¡C<CODE>\b</CODE>¬O¤¶©ó¤@­Ó <CODE>\w</CODE>¦r¤¸©M <CODE>\W</CODE>
¦r¤¸¤§¶¡ªº³¡¤À(¥ç§Y <CODE>\b</CODE>¬O¤@­Ó¡u¦r¡vªºÃä½t)¡C¥¦¬O¤@­Óªø«×¬° 0ªº¼Ðªºª«¡A´N¹³
<CODE>^</CODE>¡B<CODE>$</CODE>¡A¥H¤Î©Ò¦³¨ä¥¦ªº¼Ð¥Ü¦r¤¸ (anchors)¤@¼Ë¡A¦b¹ïÀ³®É¨Ã¤£®ø¯Ó¡B¦û±¼¥ô¦ó¦r¤¸¡C<A HREF="http://www.perl.org/CPAN/doc/manual/html/pod/perlre.html#">perlre</A>¨Ï¥Î»¡©ú¤¤¹ï¦U¥¿³Wªí¥Ü¦¡¶W¦r¤¸ (metacharacters)ªº¯S©Ê©M¨Ï¥Î³£¦³°µ¸ÑÄÀ¡C


<P>

¥H¤U¬O¿ù»~¨Ï¥Î <CODE>\b</CODE>ªº¨Ò¤l¡A¨Ãªþ¤W­×¥¿¡G


<P>

<PRE>    &quot;two words&quot; =~ /(\w+)\b(\w+)/;          #¿ù»~¡I
    &quot;two words&quot; =~ /(\w+)\s+(\w+)/;         #¥¿½T
</PRE>

<P>

<PRE>    &quot; =matchless= text&quot; =~ /\b=(\w+)=\b/;   #¿ù»~¡I
    &quot; =matchless= text&quot; =~ /=(\w+)=/;       #¥¿½T
</PRE>

<P>

ÁöµM¥¦­Ì¤]³\¤£¯à§@¨ì§A¥H¬°¥¦­Ì¯à§@ªº¨Æ¡A¦ý <CODE>\b</CODE>¤Î <CODE>\B</CODE>¤´µM¬Û·í¦³¥Î¡C­n¬Ý¬Ý¥¿½T¨Ï¥Î <CODE>\b</CODE>ªº½d¨Ò¡A½Ð°Ñ¦Ò¡u¦p¦ó©ó¦h¦æ¤å¦r¤¤§ì¥X­«½Æ¦r¡v¤@°ÝÃD¤º©Òªþ¤§½d¨Ò¡C


<P>

<CODE>\Bis\B</CODE>³o­Ó¼Ò¦¡¬O¨Ï¥Î <CODE>\B</CODE>ªº¤@­Ó¨Ò¤l¡C¥¦¥u·|¹ïÀ³¨ì¥X²{¦b¤@­Ó¦r¤º³¡ªº ``is''¡A¨Ò¦p
``thistle''¡A¦ý¤£·|¹ïÀ³¨ì ``this''©Î ``island''¡C


<P>

<P>
<HR>
<H2><A NAME="_C_">¬°¤°»ò¨C·í§Ú¥Î $&, $`,©Î $'®Éµ{¦¡ªº³t«×´NºC¤U¨Ó¤F©O?

</A></H2>
¦]¬°¤£ºÞ¦bµ{¦¡¤¤­þ¤@­Ó¨¤¸¨¡A¤@¥¹ Perl¬Ý¨£§A»Ý­n³oÃþªºÅÜ¼Æ®É¡A¥¦´N±o
¦b¨C¦¸¼Ò¦¡¹ïÀ³®É·Ç³Æ¦n´£¨Ñ³o¨ÇÅÜ¼Æªº­È¡C$1, <CODE>$2</CODE>
µ¥µ¥ªº¨Ï¥Î¤]¬O¥H¦P¼Ëªº¤è¦¡³B²zªº¡C©Ò¥H¨C·í§Aªº¼Ò¦¡¤¤§t¦³®·®»¥Îªº¤p¬A¸¹
(capturing parentheses)®É¡A
§A´N±o¥I¥X¦P¼Ëªº¥N»ù¡C¦ý­Y§A±q¤£¦b§Aªºµ{¦¡¤¤¥Î¨ì $&amp;µ¥³o¨ÇªF¦è¡A¨º»ò
<EM>¨S¦³</EM>®·®»¥Î¤p¬A¸¹ªº¥¿³Wªí¥Ü¦¡´N¤£¥Î¥I¥XÃB¥~ªº³t«×§@¥N»ù¡C©Ò¥H¡A½ÐºÉ¥i¯àÁ×§K¨Ï¥Î
$&amp;, $'¤Î $`¡A¦ý­Y¯uªºµLªkÁ×§K (¦³¨Çºtºâªkªº½T»Ý­n¥¦­Ì)¡A´NºÉ¶q¥Î§
§a¡A¤Ï¥¿§A¤w¸g¥I¥X¥N»ù¤F¡C


<P>

<P>
<HR>
<H2><A NAME="_W_C_G_">¥¿³Wªí¥Ü¦¡¤¤ªº <CODE>\G</CODE>¯àµ¹§Ú¤°»ò¦n³B?

</A></H2>
<CODE>\G</CODE>¦b¤@­Ó¹ïÀ³¦¡©Î´À´«¦¡¤¤­n©M <CODE>/g</CODE>­×¹¢¤l¦X°_¨Ó¥Î (­YµL <CODE>/g</CODE>¥¦´N·|³Q©¿²²¤)¡C¥¦¬O¥Î¨Ó¼Ð¥Ü¤W¤@­Ó¦¨¥\ªº¼Ò¦¡¹ïÀ³§¹¦¨«á©Ò°±¦bªº¦ì¸m¡A¥ç§Y
<CODE>pos()</CODE>ÂI¡C


<P>

¨Ò¦p»¡¡A§A¦³¤@¦æ«H¥ó¤å¦r¬O«ö¼Ð·Çªº mail¤Î Usenet°Oªk (´N¬O¥H <CODE>&gt;</CODE>
¦r¤¸§@¶}©l)§@¦¨¤Þ¨¥ªº¡A¦Ó§A²{¦b­n§â¨C­Ó¶}ÀYªº <CODE>&gt;</CODE>³£´«¦¨ <CODE>:</CODE>¡C¨º»ò§A¥i¥H¥Î¤U­±ªº¤èªk¨Ó§@¡G


<P>

<PRE>     s/^(&gt;+)/':' x length($1)/gem;
</PRE>

<P>

©ÎªÌ¨Ï¥Î <CODE>\G</CODE>¡A§óÂ²³æ¤]§ó§Ö¡G


<P>

<PRE>    s/\G&gt;/:/g;
</PRE>

<P>

§ó½ÆÂøªº¤èªk¥i¯à­n¥Î¨ì°O¸¹½á¤©¾¹ (tokenizer)¡C¤U­±¬Ý¨Ó¹³ lex»yªk¤ÀªR¾¹µ{¦¡
½Xªº¨Ò¤l¬O Jeffrey Friedl´£¨Ñªº¡C¥¦¦b 5.003
ª©¦]¬°¨äª©¥»¤¤ªº¯äÂÎ¦ÓµLªk°õ¦æ¡A¦ý¦b 5.004©Î¥H¤Wªºª©¥»ªº½T¥i¦æ¡C(½Ðª`·N¨ì <CODE>/c</CODE>ªº¨Ï¥Î¡A¥¦ªº¦s¦b¬O¬°¤F¨¾¤î <CODE>/g</CODE>¦b¹ïÀ³¥¢±Ñ®É±N·j´M¦ì¸mÂk¹s¨ì¦r¦êªº¶}©l¡C)


<P>

<PRE>    while (&lt;&gt;) {
      chomp;
      PARSER: {
           m/ \G( \d+\b    )/gcx    &amp;&amp; do { print &quot;number: $1\n&quot;;  redo; };
           m/ \G( \w+      )/gcx    &amp;&amp; do { print &quot;word:   $1\n&quot;;  redo; };
           m/ \G( \s+      )/gcx    &amp;&amp; do { print &quot;space:  $1\n&quot;;  redo; };
           m/ \G( [^\w\d]+ )/gcx    &amp;&amp; do { print &quot;other:  $1\n&quot;;  redo; };
      }
    }
</PRE>

<P>

·íµM¡A¤W­±³o­Ó¥»¨Ó¤]¥i¥H¼g¦¨¹³


<P>

<PRE>    while (&lt;&gt;) {
      chomp;
      PARSER: {
           if ( /\G( \d+\b    )/gcx  {
                print &quot;number: $1\n&quot;;
                redo PARSER;
           }
           if ( /\G( \w+      )/gcx  {
                print &quot;word: $1\n&quot;;
                redo PARSER;
           }
           if ( /\G( \s+      )/gcx  {
                print &quot;space: $1\n&quot;;
                redo PARSER;
           }
           if ( /\G( [^\w\d]+ )/gcx  {
                print &quot;other: $1\n&quot;;
                redo PARSER;
           }
      }
    }
</PRE>

<P>

¦ý¬O³o»ò§@´N¤£¯àÅý¨º¨Ç¥¿³Wªí¥Ü¦¡ªº¦¡¤l¤W¤U¹ï»ô¤@¥ØÁAµM¤F¡C


<P>

<P>
<HR>
<H2><A NAME="Perl_W_O_DFAs_NFAs">Perl¥¿³Wªí¥Ü¤ÞÀº¬O DFAs©Î NFAs?¥¦­Ì¬O POSIX¬Û®eªº¶Ü?

</A></H2>
¾¨ºÞ Perlªº¥¿³Wªí¥Ü¦¡¬Ý¦ü <CODE>egrep(1)</CODE>µ{¦¡ªº DFAs (deterministic
finite
automata¡A¨M©w¦¡¦³­­¦Û°Ê¾÷)¯S©Ê¡A¦ý¨Æ¹ê¤W¬°¤F¨ã³Æ¡u°h¦^­ì¸ô¡v(backtracking)
»P¡u°l·¹«e¬q¡v( backreferencing)ªº¥\¯à¡A¥¦­Ì¹ê§@®É¬O¥Î NFAs
(non-deterministic finite automata¡A«D¨M©w¦¡¦³­­¦Û°Ê¾÷)ªº¡C¨Ã¥B¥¦­Ì¥ç«D
POSIX¦¡ªº¡A¦]¬°¨º¼Ë·|³y¦¨¦b©Ò¦³±¡ªp¤U³£¦³³Ì®tªºªí²{¡C(¦ü¥G¦³¨Ç¤H¸ûª`­«½T
«O¤@­P©Ê¡A§Y¨Ï¨º¦P®É¤]½T«O¤F½wºCªº³t«×)¡C§A¥i¥H¦b Jeffrey Friedl©ÒµÛªº
``ºë³q¥¿³Wªí¥Ü¦¡'' (Mastering Regular Expressions)¤@®Ñ¤¤ (O'Reilly¥Xª©)
¡AÀò±o©Ò¦³§A·Qª¾¹DÃö©ó³o¨Ç¨Æªº©Ò¦³²Ó¸`(¦b <A HREF="perlfaq2.html">perlfaq2</A>¸Ì­±¦³¸Ó®Ñªº¸Ô²Ó¸ê®Æ)¡C


<P>

<P>
<HR>
<H2><A NAME="_b_L_X_U_grep_map_">¦bµL»¼¦^ªº³õ¦X¤U¥Î grep©Î map¦³¤°»ò¤£¹ï?

</A></H2>
ÄY®æ¦a»¡¨Ó¡A¨S¦³¤°»ò¤£¹ï¡C¤£¹L´N®æ¦¡ªº¨¤«×¬Ý¨Ó¡A³o¼Ë·|³y¦¨¤£©öºûÅ@ªºµ{¦¡½X¡C
¦]¬°§A¬O¨Ï¥Î¤F¥L­Ìªº°Æ§@¥Î (side-effects)¦Ó«D¨Ï¥Î¥L­Ìªº¶Ç¦^­È¡A¤£©¯ªº¬O¡A
°Æ§@¥Î®e©öÅý¤H·d²V¡CµL»¼¦^¦¡ªº <CODE>grep()</CODE>¦b¼gªk¤W¤£¦p <CODE>for</CODE> (¶â¡A§Þ³N¤W»¡¬O 
<CODE>foreach</CODE>°Õ)°j°é¡C


<P>

<P>
<HR>
<H2><A NAME="_p_h_r_c_r_">¦p¦ó¹ïÀ³¦h¦ì¤¸²Õ¦r¥À©Òºc¦¨ªº¦r¦ê?

</A></H2>
³o«ÜÃø¡A¨Ã¥BÁÙ¨S¦³¦nªº¤èªk¡CPerl
¨Ã¤£ª½±µ¤ä´©¦h¦ì¤¸²Õ¦r¥À¡C¥¦°²¸Ë¤@­Ó¦ì¤¸²Õ©M
¤@­Ó¦r¥À¬O¦P¸qªº¡C¤U­±´£¨Ñªº¤èªk¨Ó¦Û Jeffrey Friedl¡A¥L¦³¤@½gµn¦b Perl´Á¥Z
(The Perl Journal)²Ä¤­´Áªº¤å³¹°Q½×ªº¥¿¬O³o­Ó°ÝÃD¡C


<P>

°²³]¦³¤@ºØ©Ç²§ªº¤õ¬P»y½s½X¨ó©w¡A¨ä¤¤¨C¨â­Ó¤j¼gªº ASCII¦r¥À¥Nªí¤@­Ó¤õ¬P
¦r¥À (Ä´¦p ``CV''³o¨â­Ó¦ì¤¸²Õ¥Nªí¤@­Ó¤õ¬P¦r¥À¡A´N¹³
``SG''¡B``VS''¡B``XX''¡Aµ¥Âù¦r¤¸²Õ¤@¼Ë)¡C¦Ü©ó¨ä¥¦¦ì¤¸«h©M¦b ASCII
¸Ì¤@¼Ëªí¥Ü³æ¤@¦r¤¸¡C


<P>

©Ò¥H¡A¹³ ``I am CVSGXX!''³o¼Ëªº¤õ¬P¦r¦ê¥Î¤F 12­Ó¦ì¤¸¥hªí¥Ü¤E­Ó¦r¥À 'I','
' ,'a','m',' ','CV','SG','XX','!'¡C


<P>

²{¦b°²³]§A­n·j¯Á³o­Ó¦r¥À¡G<CODE>/GX/</CODE>¡CPerl¨Ã¤£À´¤õ¬P»y¡A©Ò¥H¥¦·|§ä¨ì ``I am CVSGXX!''¤¤ ``GX''
³o¨â­Ó¦ì¤¸¡A§Y¨Ï¨Æ¹ê¤W³o­Ó¦r¥À¨Ã¤£¦b¨ä¤¤¡G¥¦¤§©Ò¥H¬Ý¨Ó¹³¬O¦b¨º¨à¬O¦]¬°
``SG''©M ``XX''ºòÁ{¦b¤@°_½}¤F¡A¹ê»Ú¤W¨Ã«D¯u¦³ ``GX''¦s¦b¡C³o¬O­Ó¤j°ÝÃD¡C


<P>

¥H¤U¦³¨Ç³B²zªº¤èªk¡AÁöµM³£±o¥I¥X¤£¤Ö¥N»ù¡G


<P>

<PRE>   $martian =~ s/([A-Z][A-Z])/ $1 /g; #Åý¬Û¾Fªº¡u¤õ¬P¡v¦ì¤¸¤£¦A¬Û¾F
   print &quot;§ä¨ì GX¤F!\n&quot; if $martian =~ /GX/;
</PRE>

<P>

©Î¹³³o¼Ë¡G


<P>

<PRE>   @chars = $martian =~ m/([A-Z][A-Z]|[^A-Z])/g;
   #¤W­±¨º¦æ¦b²z©À¤Wªñ¦ü©ó¡G     @chars = $text =~ m/(.)/g;
   #
   foreach $char (@chars) {
       print &quot;§ä¨ì GX¤F!\n&quot;, last if $char eq 'GX';
   }
</PRE>

<P>

³o¼Ë¤]¥i¥H¡G


<P>

<PRE>   while ($martian =~ m/\G([A-Z][A-Z]|.)/gs) {  #¤]³\¤£»Ý­n \G
       print &quot;§ä¨ì GX¤F!\n&quot;, last if $1 eq 'GX';
   }
</PRE>

<P>

¤£µM°®¯Ü³o¼Ë¡G


<P>

<PRE>   die &quot;¹ï¤£°_¡APerl©|¥¼¤ä´©¤õ¬P¤å )-:\n&quot;;
</PRE>

<P>

°£¦¹¤§¥~¡ACPAN¸Ì­±¦³­Ó½d¨Òµ{¦¡¯à±N¥b¼e (half-width)ªº¤ù°²¦WÂà¦¨¥þ¼e
(full-width) [¥H Shift-JIS©Î EUC½s½Xªº]¡A³o¬O«ô Tom¤§½ç¤~¦³ªº¦¨ªG¡C


<P>

²{¦b¤w¦³«Ü¦hÂù (©M¦h)¦ì¤¸½s½Xªk³Q¼sªxªº±Ä¥Î¡C³o¨Ç¤èªk¤¤¦³¨Ç¬O±Ä¥Î 1-,2-,
3-,¤Î 4¦ì¤¸²Õ¦r¥À¡A²V¦X¨Ï¥Î¡C


<P>

<P>
<HR>
<H1><A NAME="_P_v_y">§@ªÌ»Pª©Åv¨Æ©y

</A></H1>
Copyright (c) 1997 Tom Christiansen and Nathan Torkington. All rights
reserved.¦³Ãö¨Ï¥Î¡B¡]Âà¡^µo¦æ¨Æ©y¡A¸Ô¨£ <A HREF="perlfaq.html">perlfaq</A>




<P>

Ä¶ªÌ¡G³¯«Û»Ê


<P>

¤¤Ä¶ª©µÛ§@Åv©Ò¦³¡G³¯«Û»Ê¡B¿½¦ÊÄÖ¤Î¨â°¦¦Ñªê¤u§@«Ç
¡C¥»¤¤Ä¶ª©¿í¦u¨Ã¨Ï¥Î»P­ì¤åª©¬Û¦Pªº¨Ï¥Î±ø´Úµo¦æ¡C 

<P>

</DL>
    </BODY>

    </HTML>
