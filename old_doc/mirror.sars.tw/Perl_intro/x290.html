<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>4.1.13 真假值</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="網路管理語言 Perl 入門與實作"
HREF="book1.html"><LINK
REL="UP"
TITLE="4. Perl 的資料型態"
HREF="c181.html"><LINK
REL="PREVIOUS"
TITLE="4.1.12 比較算符"
HREF="x281.html"><LINK
REL="NEXT"
TITLE="4.1.14 undef 的應用"
HREF="x322.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>網路管理語言 Perl 入門與實作: </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x281.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>4. Perl 的資料型態</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x322.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="BOOLEAN"
></A
>4.1.13 真假值</H1
><P
>在 Perl 中，什麼是真？什麼是假？有一套特殊的定義。初入門者，應特別留意。</P
><P
>Perl 用以下方式來決定真假值：</P
><P
><P
></P
><OL
TYPE="1"
><LI
><P
>0 為假，其它數值皆為真。</P
></LI
><LI
><P
>'0'、"0" 及空字串 ''、"" 為假，其它字串皆為真。</P
></LI
><LI
><P
>運算結果可以轉換成 "0" 者為假。</P
></LI
><LI
><P
>undef 這個特別值為假。</P
></LI
><LI
><P
>任何未定義的值為假。</P
></LI
><LI
><P
>上述假值定義之外，其餘為真。</P
></LI
></OL
></P
><P
>我們來看一些例子：</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>假值：

0
'0'
"0"
''
""
undef
10-10
0.0
'0.00' + 0   (請思考之)



真值：

1
11
22
-5
'0.00'</PRE
></TD
></TR
></TABLE
></P
><P
>用例：</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#! /usr/bin/perl

print "Sir, 請輸入: ";
$ans=&#60;&#62;;
chomp $ans;

if (!$ans) {
	print "您沒有輸入任何東西!\n";
} else {
	print "您輸入的是：$ans\n";
}&#13;</PRE
></TD
></TR
></TABLE
></P
><P
>註 1：&#60;&#62; 是輸入符號，可由 標準輸入 取值。</P
><P
>註 2：chomp 是內建函式，可截去變數尾端的 \n 換行字元。</P
><P
>上述檢查只做一次就結束了，沒有太大意義，最好使用迴圈：</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#! /usr/bin/perl

while (!$ans) {
	print "Sir, 請輸入: ";
	$ans=&#60;&#62;;
	chomp $ans;
	if (!$ans) { print "您沒有輸入任何東西!\n\n"; }
}

print "您輸入的是：$ans\n\n";</PRE
></TD
></TR
></TABLE
></P
><P
>上面這個例子有個缺點：當使用者輸入 0 時，由於 0 為假值，會被 !$ans 誤判為沒有輸入任何東西，解決的方法之一是採用：檢查$ans 的長度來判斷有無輸入資料？如下所示：</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#! /usr/bin/perl

while (length($ans)==0) {
	print "Sir, 請輸入: ";
	$ans=&#60;&#62;;
	chomp $ans;
	if (length($ans)==0) { print "您沒有輸入任何東西!\n\n"; }
}

print "您輸入的是：$ans\n\n";</PRE
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x281.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x322.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>4.1.12 比較算符</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c181.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>4.1.14 undef 的應用</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>