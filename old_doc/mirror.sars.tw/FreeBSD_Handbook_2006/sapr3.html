<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Installing SAP&#160;R/3</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="FreeBSD 使用手冊" href="index.html" />
<link rel="UP" title="Linux Binary Compatibility" href="linuxemu.html" />
<link rel="PREVIOUS" title="Installing Oracle" href="linuxemu-oracle.html" />
<link rel="NEXT" title="Advanced Topics" href="linuxemu-advanced.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=Big5" />
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">FreeBSD 使用手冊</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="linuxemu-oracle.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 10 Linux Binary Compatibility</td>
<td width="10%" align="right" valign="bottom"><a href="linuxemu-advanced.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECT1">
<h1 class="SECT1"><a id="SAPR3" name="SAPR3">10.7 Installing <span
class="TRADEMARK">SAP</span>&reg;&nbsp;<span class="TRADEMARK">R/3</span>&reg;</a></h1>

<i class="AUTHORGROUP"><span class="CONTRIB">Contributed by</span> Holger Kipp.</i> <i
class="AUTHORGROUP"><span class="CONTRIB">Original version converted to SGML by</span>
Valentino Vaschetto.</i> 

<p>Installations of <b class="APPLICATION"><span class="TRADEMARK">SAP</span>&reg;</b>
Systems using FreeBSD will not be supported by the <span class="TRADEMARK">SAP</span>
support team -- they only offer support for certified platforms.</p>

<div class="SECT2">
<h2 class="SECT2"><a id="PREFACE" name="PREFACE">10.7.1 Preface</a></h2>

<p>This document describes a possible way of installing a <b class="APPLICATION"><span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span>&reg; System</b> with
<b class="APPLICATION"><span class="TRADEMARK">Oracle</span>&reg; Database</b> for Linux
onto a FreeBSD machine, including the installation of FreeBSD and <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span></b>. Two different
configurations will be described:</p>

<ul>
<li>
<p><b class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span> 4.6B (IDES)</b> with <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span> 8.0.5</b> on FreeBSD 4.3-STABLE</p>
</li>

<li>
<p><b class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span> 4.6C</b> with <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span> 8.1.7</b> on FreeBSD 4.5-STABLE</p>
</li>
</ul>

<p>Even though this document tries to describe all important steps in a greater detail,
it is not intended as a replacement for the <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span></b> and <b class="APPLICATION"><span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span></b> installation
guides.</p>

<p>Please see the documentation that comes with the <b class="APPLICATION"><span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span></b> Linux edition
for <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> and <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> specific questions, as well
as resources from <b class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> and <b
class="APPLICATION"><span class="TRADEMARK">SAP</span> OSS</b>.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="SOFTWARE" name="SOFTWARE">10.7.2 Software</a></h2>

<p>The following CD-ROMs have been used for <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> installations:</p>

<div class="SECT3">
<h3 class="SECT3"><a id="SOFTWARE-46B" name="SOFTWARE-46B">10.7.2.1 <span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span> 4.6B, <span
class="TRADEMARK">Oracle</span>&reg; 8.0.5</a></h3>

<div class="INFORMALTABLE"><a id="AEN13985" name="AEN13985"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<col />
<thead>
<tr>
<th>Name</th>
<th>Number</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td>KERNEL</td>
<td>51009113</td>
<td>SAP Kernel Oracle / Installation / AIX, Linux, Solaris</td>
</tr>

<tr>
<td>RDBMS</td>
<td>51007558</td>
<td>Oracle / RDBMS 8.0.5.X / Linux</td>
</tr>

<tr>
<td>EXPORT1</td>
<td>51010208</td>
<td>IDES / DB-Export / Disc 1 of 6</td>
</tr>

<tr>
<td>EXPORT2</td>
<td>51010209</td>
<td>IDES / DB-Export / Disc 2 of 6</td>
</tr>

<tr>
<td>EXPORT3</td>
<td>51010210</td>
<td>IDES / DB-Export / Disc 3 of 6</td>
</tr>

<tr>
<td>EXPORT4</td>
<td>51010211</td>
<td>IDES / DB-Export / Disc 4 of 6</td>
</tr>

<tr>
<td>EXPORT5</td>
<td>51010212</td>
<td>IDES / DB-Export / Disc 5 of 6</td>
</tr>

<tr>
<td>EXPORT6</td>
<td>51010213</td>
<td>IDES / DB-Export / Disc 6 of 6</td>
</tr>
</tbody>
</table>
</div>

<p>Additionally, we used the <b class="APPLICATION"><span class="TRADEMARK">Oracle</span>
8 Server</b> (Pre-production version 8.0.5 for Linux, Kernel Version 2.0.33) CD which is
not really necessary, and FreeBSD 4.3-STABLE (it was only a few days past 4.3
RELEASE).</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="SOFTWARE-46C" name="SOFTWARE-46C">10.7.2.2 <span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span> 4.6C SR2, <span
class="TRADEMARK">Oracle</span> 8.1.7</a></h3>

<div class="INFORMALTABLE"><a id="AEN14033" name="AEN14033"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<col />
<thead>
<tr>
<th>Name</th>
<th>Number</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td>KERNEL</td>
<td>51014004</td>
<td>SAP Kernel Oracle / SAP Kernel Version 4.6D / DEC, Linux</td>
</tr>

<tr>
<td>RDBMS</td>
<td>51012930</td>
<td>Oracle 8.1.7/ RDBMS / Linux</td>
</tr>

<tr>
<td>EXPORT1</td>
<td>51013953</td>
<td>Release 4.6C SR2 / Export / Disc 1 of 4</td>
</tr>

<tr>
<td>EXPORT1</td>
<td>51013953</td>
<td>Release 4.6C SR2 / Export / Disc 2 of 4</td>
</tr>

<tr>
<td>EXPORT1</td>
<td>51013953</td>
<td>Release 4.6C SR2 / Export / Disc 3 of 4</td>
</tr>

<tr>
<td>EXPORT1</td>
<td>51013953</td>
<td>Release 4.6C SR2 / Export / Disc 4 of 4</td>
</tr>

<tr>
<td>LANG1</td>
<td>51013954</td>
<td>Release 4.6C SR2 / Language / DE, EN, FR / Disc 1 of 3</td>
</tr>
</tbody>
</table>
</div>

<p>Depending on the languages you would like to install, additional language CDs might be
necessary. Here we are just using DE and EN, so the first language CD is the only one
needed. As a little note, the numbers for all four EXPORT CDs are identical. All three
language CDs also have the same number (this is different from the 4.6B IDES release CD
numbering). At the time of writing this installation is running on FreeBSD 4.5-STABLE
(20.03.2002).</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="SAP-NOTES" name="SAP-NOTES">10.7.3 <span
class="TRADEMARK">SAP</span> Notes</a></h2>

<p>The following notes should be read before installing <b class="APPLICATION"><span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span></b> and proved to be
useful during installation:</p>

<div class="SECT3">
<h3 class="SECT3"><a id="SAP-NOTES-46B" name="SAP-NOTES-46B">10.7.3.1 <span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span> 4.6B, <span
class="TRADEMARK">Oracle</span> 8.0.5</a></h3>

<div class="INFORMALTABLE"><a id="AEN14082" name="AEN14082"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>Number</th>
<th>Title</th>
</tr>
</thead>

<tbody>
<tr>
<td>0171356</td>
<td>SAP Software on Linux: Essential Comments</td>
</tr>

<tr>
<td>0201147</td>
<td>INST: 4.6C R/3 Inst. on UNIX - Oracle</td>
</tr>

<tr>
<td>0373203</td>
<td>Update / Migration Oracle 8.0.5 --&gt; 8.0.6/8.1.6 LINUX</td>
</tr>

<tr>
<td>0072984</td>
<td>Release of Digital UNIX 4.0B for Oracle</td>
</tr>

<tr>
<td>0130581</td>
<td>R3SETUP step DIPGNTAB terminates</td>
</tr>

<tr>
<td>0144978</td>
<td>Your system has not been installed correctly</td>
</tr>

<tr>
<td>0162266</td>
<td>Questions and tips for R3SETUP on Windows NT / W2K</td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="SAP-NOTES-46C" name="SAP-NOTES-46C">10.7.3.2 <span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span> 4.6C, <span
class="TRADEMARK">Oracle</span> 8.1.7</a></h3>

<div class="INFORMALTABLE"><a id="AEN14115" name="AEN14115"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>Number</th>
<th>Title</th>
</tr>
</thead>

<tbody>
<tr>
<td>0015023</td>
<td>Initializing table TCPDB (RSXP0004) (EBCDIC)</td>
</tr>

<tr>
<td>0045619</td>
<td>R/3 with several languages or typefaces</td>
</tr>

<tr>
<td>0171356</td>
<td>SAP Software on Linux: Essential Comments</td>
</tr>

<tr>
<td>0195603</td>
<td>RedHat 6.1 Enterprise version: Known problems</td>
</tr>

<tr>
<td>0212876</td>
<td>The new archiving tool SAPCAR</td>
</tr>

<tr>
<td>0300900</td>
<td>Linux: Released DELL Hardware</td>
</tr>

<tr>
<td>0377187</td>
<td>RedHat 6.2: important remarks</td>
</tr>

<tr>
<td>0387074</td>
<td>INST: R/3 4.6C SR2 Installation on UNIX</td>
</tr>

<tr>
<td>0387077</td>
<td>INST: R/3 4.6C SR2 Inst. on UNIX - Oracle</td>
</tr>

<tr>
<td>0387078</td>
<td>SAP Software on UNIX: OS Dependencies 4.6C SR2</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="HARDWARE-REQUIREMENTS" name="HARDWARE-REQUIREMENTS">10.7.4
Hardware Requirements</a></h2>

<p>The following equipment is sufficient for the installation of a <b
class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span> System</b>. For production use, a more exact sizing is of
course needed:</p>

<div class="INFORMALTABLE"><a id="AEN14158" name="AEN14158"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<col />
<thead>
<tr>
<th>Component</th>
<th>4.6B</th>
<th>4.6C</th>
</tr>
</thead>

<tbody>
<tr>
<td>Processor</td>
<td>2 x 800MHz <span class="TRADEMARK">Pentium</span>&reg; III</td>
<td>2 x 800MHz <span class="TRADEMARK">Pentium</span> III</td>
</tr>

<tr>
<td>Memory</td>
<td>1GB ECC</td>
<td>2GB ECC</td>
</tr>

<tr>
<td>Hard Disk Space</td>
<td>50-60GB (IDES)</td>
<td>50-60GB (IDES)</td>
</tr>
</tbody>
</table>
</div>

<p>For use in production, <span class="TRADEMARK">Xeon</span>&#8482; Processors with
large cache, high-speed disk access (SCSI, RAID hardware controller), USV and ECC-RAM is
recommended. The large amount of hard disk space is due to the preconfigured IDES System,
which creates 27&nbsp;GB of database files during installation. This space is also
sufficient for initial production systems and application data.</p>

<div class="SECT3">
<h3 class="SECT3"><a id="HARDWARE-46B" name="HARDWARE-46B">10.7.4.1 <span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span> 4.6B, <span
class="TRADEMARK">Oracle</span> 8.0.5</a></h3>

<p>The following off-the-shelf hardware was used: a dual processor board with 2
800&nbsp;MHz <span class="TRADEMARK">Pentium</span>&nbsp;III processors, <span
class="TRADEMARK">Adaptec</span>&reg; 29160 Ultra160 SCSI adapter (for accessing a
40/80&nbsp;GB DLT tape drive and CDROM), <span class="TRADEMARK">Mylex</span>&reg; <span
class="TRADEMARK">AcceleRAID</span>&#8482; (2 channels, firmware 6.00-1-00 with
32&nbsp;MB RAM). To the <span class="TRADEMARK">Mylex</span> RAID controller are attached
two 17&nbsp;GB hard disks (mirrored) and four 36&nbsp;GB hard disks (RAID level 5).</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="HARDWARE-46C" name="HARDWARE-46C">10.7.4.2 <span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span> 4.6C, <span
class="TRADEMARK">Oracle</span> 8.1.7</a></h3>

<p>For this installation a <span class="TRADEMARK">Dell</span>&#8482; <span
class="TRADEMARK">PowerEdge</span>&#8482; 2500 was used: a dual processor board with two
1000&nbsp;MHz <span class="TRADEMARK">Pentium</span>&nbsp;III processors (256&nbsp;kB
Cache), 2&nbsp;GB PC133 ECC SDRAM, PERC/3 DC PCI RAID Controller with 128&nbsp;MB, and an
EIDE DVD-ROM drive. To the RAID controller are attached two 18&nbsp;GB hard disks
(mirrored) and four 36&nbsp;GB hard disks (RAID level 5).</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="INSTALLATION" name="INSTALLATION">10.7.5 Installation of
FreeBSD</a></h2>

<p>First you have to install FreeBSD. There are several ways to do this (FreeBSD&nbsp;4.3
was installed via FTP, FreeBSD&nbsp;4.5 directly from the RELEASE CD) for more
information read the <a href="install-diff-media.html">Section 2.13</a>.</p>

<div class="SECT3">
<h3 class="SECT3"><a id="DISK-LAYOUT" name="DISK-LAYOUT">10.7.5.1 Disk Layout</a></h3>

<p>To keep it simple, the same disk layout both for the <b class="APPLICATION"><span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span> 46B</b> and <b
class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span> 46C SR2</b> installation was used. Only the device names
changed, as the installations were on different hardware (<tt
class="FILENAME">/dev/da</tt> and <tt class="FILENAME">/dev/amr</tt> respectively, so if
using an AMI <span class="TRADEMARK">MegaRAID</span>&reg;, one will see <tt
class="FILENAME">/dev/amr0s1a</tt> instead of <tt class="FILENAME">/dev/da0s1a</tt>):</p>

<div class="INFORMALTABLE"><a id="AEN14220" name="AEN14220"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<col />
<col />
<thead>
<tr>
<th>File system</th>
<th>Size (1k-blocks)</th>
<th>Size (GB)</th>
<th>Mounted on</th>
</tr>
</thead>

<tbody>
<tr>
<td><tt class="FILENAME">/dev/da0s1a</tt></td>
<td>1.016.303</td>
<td>1</td>
<td><tt class="FILENAME">/</tt></td>
</tr>

<tr>
<td><tt class="FILENAME">/dev/da0s1b</tt></td>
<td>&nbsp;</td>
<td>6</td>
<td>swap</td>
</tr>

<tr>
<td><tt class="FILENAME">/dev/da0s1e</tt></td>
<td>2.032.623</td>
<td>2</td>
<td><tt class="FILENAME">/var</tt></td>
</tr>

<tr>
<td><tt class="FILENAME">/dev/da0s1f</tt></td>
<td>8.205.339</td>
<td>8</td>
<td><tt class="FILENAME">/usr</tt></td>
</tr>

<tr>
<td><tt class="FILENAME">/dev/da1s1e</tt></td>
<td>45.734.361</td>
<td>45</td>
<td><tt class="FILENAME">/compat/linux/oracle</tt></td>
</tr>

<tr>
<td><tt class="FILENAME">/dev/da1s1f</tt></td>
<td>2.032.623</td>
<td>2</td>
<td><tt class="FILENAME">/compat/linux/sapmnt</tt></td>
</tr>

<tr>
<td><tt class="FILENAME">/dev/da1s1g</tt></td>
<td>2.032.623</td>
<td>2</td>
<td><tt class="FILENAME">/compat/linux/usr/sap</tt></td>
</tr>
</tbody>
</table>
</div>

<p>Configure and initialize the two logical drives with the <span
class="TRADEMARK">Mylex</span> or PERC/3 RAID software beforehand. The software can be
started during the <acronym class="ACRONYM">BIOS</acronym> boot phase.</p>

<p>Please note that this disk layout differs slightly from the <span
class="TRADEMARK">SAP</span> recommendations, as <span class="TRADEMARK">SAP</span>
suggests mounting the <b class="APPLICATION"><span class="TRADEMARK">Oracle</span></b>
subdirectories (and some others) separately -- we decided to just create them as real
subdirectories for simplicity.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="MAKEWORLDANDNEWKERNEL" name="MAKEWORLDANDNEWKERNEL">10.7.5.2 <tt
class="COMMAND">make world</tt> and a New Kernel</a></h3>

<p>Download the latest -STABLE sources. Rebuild world and your custom kernel after
configuring your kernel configuration file. Here you should also include the <a
href="sapr3.html#KERNELTUNING">kernel parameters</a> which are required for both <b
class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span></b> and <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span></b>.</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="INSTALLINGTHELINUXENVIORNMENT"
name="INSTALLINGTHELINUXENVIORNMENT">10.7.6 Installing the Linux Environment</a></h2>

<div class="SECT3">
<h3 class="SECT3"><a id="INSTALLINGLINUXBASE-SYSTEM"
name="INSTALLINGLINUXBASE-SYSTEM">10.7.6.1 Installing the Linux Base System</a></h3>

<p>First the <a href="linuxemu-lbc-install.html#LINUXEMU-LIBS-PORT">linux_base</a> port
needs to be installed (as <tt class="USERNAME">root</tt>):</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">cd /usr/ports/emulators/linux_base</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">make install distclean</kbd>
</pre>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="INSTALLINGLINUXDEVELOPMENT"
name="INSTALLINGLINUXDEVELOPMENT">10.7.6.2 Installing Linux Development
Environment</a></h3>

<p>The Linux development environment is needed, if you want to install <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> on FreeBSD according to the
<a href="linuxemu-oracle.html">Section 10.6</a>:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">cd /usr/ports/devel/linux_devtools</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">make install distclean</kbd>
</pre>

<p>The Linux development environment has only been installed for the <b
class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span> 46B IDES</b> installation. It is not needed, if the <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span> DB</b> is not relinked on the
FreeBSD system. This is the case if you are using the <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span></b> tarball from a Linux system.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="INSTALLINGNECESSARYRPMS" name="INSTALLINGNECESSARYRPMS">10.7.6.3
Installing the Necessary RPMs</a></h3>

<p>To start the <tt class="COMMAND">R3SETUP</tt> program, PAM support is needed. During
the first <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> Installation on
FreeBSD 4.3-STABLE we tried to install PAM with all the required packages and finally
forced the installation of the PAM package, which worked. For <b
class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span> 4.6C SR2</b> we directly forced the installation of the PAM
RPM, which also works, so it seems the dependent packages are not needed:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">rpm -i --ignoreos --nodeps --root /compat/linux --dbpath /var/lib/rpm \
pam-0.68-7.i386.rpm</kbd>
</pre>

<p>For <b class="APPLICATION"><span class="TRADEMARK">Oracle</span> 8.0.5</b> to run the
intelligent agent, we also had to install the RedHat Tcl package <tt
class="FILENAME">tcl-8.0.5-30.i386.rpm</tt> (otherwise the relinking during <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> installation will not
work). There are some other issues regarding relinking of <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span></b>, but that is a <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span></b> Linux issue, not FreeBSD specific.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="LINUXPROCANDFALLBACKELFBRAND"
name="LINUXPROCANDFALLBACKELFBRAND">10.7.6.4 Some Additional Hints</a></h3>

<p>It might also be a good idea to add <tt class="LITERAL">linprocfs</tt> to <tt
class="FILENAME">/etc/fstab</tt>, for more information, see the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=linprocfs&amp;sektion=5"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">linprocfs</span>(5)</span></a> manual
page. Another parameter to set is <tt class="LITERAL">kern.fallback_elf_brand=3</tt>
which is done in the file <tt class="FILENAME">/etc/sysctl.conf</tt>.</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="CREATINGSAPR3ENV" name="CREATINGSAPR3ENV">10.7.7 Creating the
<span class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span>
Environment</a></h2>

<div class="SECT3">
<h3 class="SECT3"><a id="FILESYSTEMSANDMOUNTPOINTS"
name="FILESYSTEMSANDMOUNTPOINTS">10.7.7.1 Creating the Necessary File Systems and
Mountpoints</a></h3>

<p>For a simple installation, it is sufficient to create the following file systems:</p>

<div class="INFORMALTABLE"><a id="AEN14367" name="AEN14367"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>mount point</th>
<th>size in GB</th>
</tr>
</thead>

<tbody>
<tr>
<td><tt class="FILENAME">/compat/linux/oracle</tt></td>
<td>45 GB</td>
</tr>

<tr>
<td><tt class="FILENAME">/compat/linux/sapmnt</tt></td>
<td>2 GB</td>
</tr>

<tr>
<td><tt class="FILENAME">/compat/linux/usr/sap</tt></td>
<td>2 GB</td>
</tr>
</tbody>
</table>
</div>

<p>It is also necessary to created some links. Otherwise the <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> Installer will complain, as it is checking the created
links:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">ln -s /compat/linux/oracle /oracle</kbd>
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">ln -s /compat/linux/sapmnt /sapmnt</kbd>
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">ln -s /compat/linux/usr/sap /usr/sap</kbd>
</pre>

<p>Possible error message during installation (here with System <span class="emphasis"><i
class="EMPHASIS">PRD</i></span> and the <b class="APPLICATION"><span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span> 4.6C SR2</b>
installation):</p>

<pre class="SCREEN">
INFO 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:200
    Checking existence of symbolic link /usr/sap/PRD/SYS/exe/dbg to
    /sapmnt/PRD/exe. Creating if it does not exist...

WARNING 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:400
    Link /usr/sap/PRD/SYS/exe/dbg exists but it points to file
    /compat/linux/sapmnt/PRD/exe instead of /sapmnt/PRD/exe. The
    program cannot go on as long as this link exists at this
    location. Move the link to another location.

ERROR 2002-03-19 16:45:36 R3LINKS_IND_IND Ins_SetupLinks:0
    can not setup link '/usr/sap/PRD/SYS/exe/dbg' with content
    '/sapmnt/PRD/exe'
</pre>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="CREATINGUSERSANDDIRECTORIES"
name="CREATINGUSERSANDDIRECTORIES">10.7.7.2 Creating Users and Directories</a></h3>

<p><b class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span></b> needs two users and three groups. The user names depend
on the <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> system ID (SID)
which consists of three letters. Some of these SIDs are reserved by <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> (for example <tt
class="LITERAL">SAP</tt> and <tt class="LITERAL">NIX</tt>. For a complete list please see
the <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> documentation). For the
IDES installation we used <tt class="LITERAL">IDS</tt>, for the 4.6C SR2 installation <tt
class="LITERAL">PRD</tt>, as that system is intended for production use. We have
therefore the following groups (group IDs might differ, these are just the values we used
with our installation):</p>

<div class="INFORMALTABLE"><a id="AEN14418" name="AEN14418"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<col />
<thead>
<tr>
<th>group ID</th>
<th>group name</th>
<th>description</th>
</tr>
</thead>

<tbody>
<tr>
<td>100</td>
<td>dba</td>
<td>Data Base Administrator</td>
</tr>

<tr>
<td>101</td>
<td>sapsys</td>
<td><span class="TRADEMARK">SAP</span> System</td>
</tr>

<tr>
<td>102</td>
<td>oper</td>
<td>Data Base Operator</td>
</tr>
</tbody>
</table>
</div>

<p>For a default <b class="APPLICATION"><span class="TRADEMARK">Oracle</span></b>
installation, only group <tt class="GROUPNAME">dba</tt> is used. As <tt
class="GROUPNAME">oper</tt> group, one also uses group <tt class="GROUPNAME">dba</tt>
(see <b class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> and <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> documentation for further
information).</p>

<p>We also need the following users:</p>

<div class="INFORMALTABLE"><a id="AEN14450" name="AEN14450"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<col />
<col />
<col />
<col />
<thead>
<tr>
<th>user ID</th>
<th>user name</th>
<th>generic name</th>
<th>group</th>
<th>additional groups</th>
<th>description</th>
</tr>
</thead>

<tbody>
<tr>
<td>1000</td>
<td>idsadm/prdadm</td>
<td><tt class="REPLACEABLE"><i>sid</i></tt>adm</td>
<td>sapsys</td>
<td>oper</td>
<td><span class="TRADEMARK">SAP</span> Administrator</td>
</tr>

<tr>
<td>1002</td>
<td>oraids/oraprd</td>
<td>ora<tt class="REPLACEABLE"><i>sid</i></tt></td>
<td>dba</td>
<td>oper</td>
<td><span class="TRADEMARK">Oracle</span> Administrator</td>
</tr>
</tbody>
</table>
</div>

<p>Adding the users with <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">adduser</span>(8)</span></a> requires
the following (please note shell and home directory) entries for “<span
class="TRADEMARK">SAP</span> Administrator”:</p>

<pre class="PROGRAMLISTING">
Name: <tt class="REPLACEABLE"><i>sid</i></tt>adm
Password: ******
Fullname: SAP Administrator <tt class="REPLACEABLE"><i>SID</i></tt>
Uid: 1000
Gid: 101 (sapsys)
Class:
Groups: sapsys dba
HOME: /home/<tt class="REPLACEABLE"><i>sid</i></tt>adm
Shell: bash  (/compat/linux/bin/bash)
</pre>

<p>and for “<span class="TRADEMARK">Oracle</span> Administrator”:</p>

<pre class="PROGRAMLISTING">
Name: ora<tt class="REPLACEABLE"><i>sid</i></tt> 
Password: ****** 
Fullname: Oracle Administrator <tt class="REPLACEABLE"><i>SID</i></tt>
Uid: 1002 
Gid: 100 (dba) 
Class: 
Groups: dba 
HOME: /oracle/<tt class="REPLACEABLE"><i>sid</i></tt> 
Shell: bash  (/compat/linux/bin/bash)
</pre>

<p>This should also include group <tt class="GROUPNAME">oper</tt> in case you are using
both groups <tt class="GROUPNAME">dba</tt> and <tt class="GROUPNAME">oper</tt>.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="CREATINGDIRECTORIES" name="CREATINGDIRECTORIES">10.7.7.3
Creating Directories</a></h3>

<p>These directories are usually created as separate file systems. This depends entirely
on your requirements. We choose to create them as simple directories, as they are all
located on the same RAID 5 anyway:</p>

<p>First we will set owners and rights of some directories (as user <tt
class="USERNAME">root</tt>):</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">chmod 775 /oracle</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">chmod 777 /sapmnt</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">chown root:dba /oracle</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">chown <tt
class="REPLACEABLE"><i>sid</i></tt>adm:sapsys /compat/linux/usr/sap</kbd>
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">chmod 775 /compat/linux/usr/sap</kbd>
</pre>

<p>Second we will create directories as user <tt class="USERNAME">ora<tt
class="REPLACEABLE"><i>sid</i></tt></tt>. These will all be subdirectories of <tt
class="FILENAME">/oracle/<tt class="REPLACEABLE"><i>SID</i></tt></tt>:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">su - ora<tt
class="REPLACEABLE"><i>sid</i></tt></kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">cd /oracle/<tt
class="REPLACEABLE"><i>SID</i></tt></kbd>
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">mkdir mirrlogA mirrlogB origlogA origlogB</kbd>
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">mkdir sapdata1 sapdata2 sapdata3 sapdata4 sapdata5 sapdata6</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mkdir saparch sapreorg</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">exit</kbd>
</pre>

<p>For the <b class="APPLICATION"><span class="TRADEMARK">Oracle</span> 8.1.7</b>
installation some additional directories are needed:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">su - ora<tt
class="REPLACEABLE"><i>sid</i></tt></kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">cd /oracle</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mkdir 805_32</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mkdir client stage</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mkdir client/80x_32</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mkdir stage/817_32</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">cd /oracle/<tt
class="REPLACEABLE"><i>SID</i></tt></kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mkdir 817_32</kbd>
</pre>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Note:</b> The directory <tt class="FILENAME">client/80x_32</tt> is used with
exactly this name. Do not replace the <span class="emphasis"><i
class="EMPHASIS">x</i></span> with some number or anything.</p>
</blockquote>
</div>

<p>In the third step we create directories as user <tt class="USERNAME"><tt
class="REPLACEABLE"><i>sid</i></tt>adm</tt>:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">su - <tt
class="REPLACEABLE"><i>sid</i></tt>adm</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">cd /usr/sap</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mkdir <tt
class="REPLACEABLE"><i>SID</i></tt></kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mkdir trans</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">exit</kbd>
</pre>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="ENTRIESINSLASHETCSLASHSERVICES"
name="ENTRIESINSLASHETCSLASHSERVICES">10.7.7.4 Entries in <tt
class="FILENAME">/etc/services</tt></a></h3>

<p><b class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span></b> requires some entries in file <tt
class="FILENAME">/etc/services</tt>, which will not be set correctly during installation
under FreeBSD. Please add the following entries (you need at least those entries
corresponding to the instance number -- in this case, <tt class="LITERAL">00</tt>. It
will do no harm adding all entries from <tt class="LITERAL">00</tt> to <tt
class="LITERAL">99</tt> for <tt class="LITERAL">dp</tt>, <tt class="LITERAL">gw</tt>, <tt
class="LITERAL">sp</tt> and <tt class="LITERAL">ms</tt>). If you are going to use a <b
class="APPLICATION">SAProuter</b> or need to access <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> OSS, you also need <tt class="LITERAL">99</tt>, as port
3299 is usually used for the <b class="APPLICATION">SAProuter</b> process on the target
system:</p>

<pre class="PROGRAMLISTING">
sapdp00    3200/tcp # SAP Dispatcher.      3200 + Instance-Number
sapgw00  3300/tcp # SAP Gateway.         3300 + Instance-Number
sapsp00  3400/tcp #                      3400 + Instance-Number
sapms00  3500/tcp #                      3500 + Instance-Number
sapms<tt
class="REPLACEABLE"><i>SID</i></tt> 3600/tcp # SAP Message Server.  3600 + Instance-Number
sapgw00s   4800/tcp # SAP Secure Gateway   4800 + Instance-Number
</pre>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="NECESSARYLOCALES" name="NECESSARYLOCALES">10.7.7.5 Necessary
Locales</a></h3>

<p><b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> requires at least two
locales that are not part of the default RedHat installation. <span
class="TRADEMARK">SAP</span> offers the required RPMs as download from their FTP server
(which is only accessible if you are a customer with OSS access). See note 0171356 for a
list of RPMs you need.</p>

<p>It is also possible to just create appropriate links (for example from <span
class="emphasis"><i class="EMPHASIS">de_DE</i></span> and <span class="emphasis"><i
class="EMPHASIS">en_US</i></span> ), but we would not recommend this for a production
system (so far it worked with the IDES system without any problems, though). The
following locales are needed:</p>

<pre class="PROGRAMLISTING">
de_DE.ISO-8859-1
en_US.ISO-8859-1
</pre>

<p>Create the links like this:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">cd /compat/linux/usr/share/locale</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">ln -s de_DE de_DE.ISO-8859-1</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">ln -s en_US en_US.ISO-8859-1</kbd>
</pre>

<p>If they are not present, there will be some problems during the installation. If these
are then subsequently ignored (by setting the <tt class="LITERAL">STATUS</tt> of the
offending steps to <tt class="LITERAL">OK</tt> in file <tt
class="FILENAME">CENTRDB.R3S</tt>), it will be impossible to log onto the <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> system without some additional
effort.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="KERNELTUNING" name="KERNELTUNING">10.7.7.6 Kernel
Tuning</a></h3>

<p><b class="APPLICATION"><span class="TRADEMARK">SAP</span>&nbsp;<span
class="TRADEMARK">R/3</span></b> systems need a lot of resources. We therefore added the
following parameters to the kernel configuration file:</p>

<pre class="PROGRAMLISTING">
# Set these for memory pigs (SAP and Oracle):
options MAXDSIZ="(1024*1024*1024)"
options DFLDSIZ="(1024*1024*1024)"
# System V options needed.
options SYSVSHM #SYSV-style shared memory
options SHMMAXPGS=262144 #max amount of shared mem. pages
#options SHMMAXPGS=393216 #use this for the 46C inst.parameters
options SHMMNI=256 #max number of shared memory ident if.
options SHMSEG=100 #max shared mem.segs per process
options SYSVMSG #SYSV-style message queues 
options MSGSEG=32767 #max num. of mes.segments in system 
options MSGSSZ=32 #size of msg-seg. MUST be power of 2
options MSGMNB=65535 #max char. per message queue
options MSGTQL=2046 #max amount of msgs in system
options SYSVSEM #SYSV-style semaphores 
options SEMMNU=256 #number of semaphore UNDO structures
options SEMMNS=1024 #number of semaphores in system
options SEMMNI=520 #number of semaphore identifiers
options SEMUME=100       #number of UNDO keys
</pre>

<p>The minimum values are specified in the documentation that comes from <span
class="TRADEMARK">SAP</span>. As there is no description for Linux, see the HP-UX section
(32-bit) for further information. As the system for the 4.6C SR2 installation has more
main memory, the shared segments can be larger both for <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> and <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span></b>, therefore choose a larger number of shared memory
pages.</p>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Note:</b> With the default installation of FreeBSD&nbsp;4.5 on <span
class="TRADEMARK">i386</span>&#8482;, leave <tt class="LITERAL">MAXDSIZ</tt> and <tt
class="LITERAL">DFLDSIZ</tt> at 1&nbsp;GB maximum. Otherwise, strange errors like “<tt
class="ERRORNAME">ORA-27102: out of memory</tt>” and “<tt class="ERRORNAME">Linux
Error: 12: Cannot allocate memory</tt>” might happen.</p>
</blockquote>
</div>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="INSTALLINGSAPR3" name="INSTALLINGSAPR3">10.7.8 Installing <span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span></a></h2>

<div class="SECT3">
<h3 class="SECT3"><a id="PREPARINGSAPCDROMS" name="PREPARINGSAPCDROMS">10.7.8.1 Preparing
<span class="TRADEMARK">SAP</span> CDROMs</a></h3>

<p>There are many CDROMs to mount and unmount during the installation. Assuming you have
enough CDROM drives, you can just mount them all. We decided to copy the CDROMs contents
to corresponding directories:</p>

<pre class="PROGRAMLISTING">
/oracle/<tt class="REPLACEABLE"><i>SID</i></tt>/sapreorg/<tt
class="REPLACEABLE"><i>cd-name</i></tt>
</pre>

<p>where <tt class="REPLACEABLE"><i>cd-name</i></tt> was one of <tt
class="FILENAME">KERNEL</tt>, <tt class="FILENAME">RDBMS</tt>, <tt
class="FILENAME">EXPORT1</tt>, <tt class="FILENAME">EXPORT2</tt>, <tt
class="FILENAME">EXPORT3</tt>, <tt class="FILENAME">EXPORT4</tt>, <tt
class="FILENAME">EXPORT5</tt> and <tt class="FILENAME">EXPORT6</tt> for the 4.6B/IDES
installation, and <tt class="FILENAME">KERNEL</tt>, <tt class="FILENAME">RDBMS</tt>, <tt
class="FILENAME">DISK1</tt>, <tt class="FILENAME">DISK2</tt>, <tt
class="FILENAME">DISK3</tt>, <tt class="FILENAME">DISK4</tt> and <tt
class="FILENAME">LANG</tt> for the 4.6C SR2 installation. All the filenames on the
mounted CDs should be in capital letters, otherwise use the <code
class="OPTION">-g</code> option for mounting. So use the following commands:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mount_cd9660 -g /dev/cd0a /mnt</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">cp -R /mnt/* /oracle/<tt
class="REPLACEABLE"><i>SID</i></tt>/sapreorg/<tt
class="REPLACEABLE"><i>cd-name</i></tt></kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">umount /mnt</kbd>
</pre>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="RUNNINGTHEINSTALL-SCRIPT"
name="RUNNINGTHEINSTALL-SCRIPT">10.7.8.2 Running the Installation Script</a></h3>

<p>First you have to prepare an <tt class="FILENAME">install</tt> directory:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">cd /oracle/<tt
class="REPLACEABLE"><i>SID</i></tt>/sapreorg</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">mkdir install</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">cd install</kbd>
</pre>

<p>Then the installation script is started, which will copy nearly all the relevant files
into the <tt class="FILENAME">install</tt> directory:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">/oracle/<tt
class="REPLACEABLE"><i>SID</i></tt>/sapreorg/KERNEL/UNIX/INSTTOOL.SH</kbd>
</pre>

<p>The IDES installation (4.6B) comes with a fully customized <span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span> demonstration
system, so there are six instead of just three EXPORT CDs. At this point the installation
template <tt class="FILENAME">CENTRDB.R3S</tt> is for installing a standard central
instance (<b class="APPLICATION"><span class="TRADEMARK">R/3</span></b> and database),
not the IDES central instance, so one needs to copy the corresponding <tt
class="FILENAME">CENTRDB.R3S</tt> from the <tt class="FILENAME">EXPORT1</tt> directory,
otherwise <tt class="COMMAND">R3SETUP</tt> will only ask for three EXPORT CDs.</p>

<p>The newer <b class="APPLICATION"><span class="TRADEMARK">SAP</span> 4.6C SR2</b>
release comes with four EXPORT CDs. The parameter file that controls the installation
steps is <tt class="FILENAME">CENTRAL.R3S</tt>. Contrary to earlier releases there are no
separate installation templates for a central instance with or without database. <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> is using a separate template
for database installation. To restart the installation later it is however sufficient to
restart with the original file.</p>

<p>During and after installation, <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> requires <tt class="COMMAND">hostname</tt> to return the
computer name only, not the fully qualified domain name. So either set the hostname
accordingly, or set an alias with <tt class="COMMAND">alias hostname='hostname -s'</tt>
for both <tt class="USERNAME">ora<tt class="REPLACEABLE"><i>sid</i></tt></tt> and <tt
class="USERNAME"><tt class="REPLACEABLE"><i>sid</i></tt>adm</tt> (and for <tt
class="USERNAME">root</tt> at least during installation steps performed as <tt
class="USERNAME">root</tt>). It is also possible to adjust the installed <tt
class="FILENAME">.profile</tt> and <tt class="FILENAME">.login</tt> files of both users
that are installed during <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b>
installation.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="STARTR3SETUP-46B" name="STARTR3SETUP-46B">10.7.8.3 Start <tt
class="COMMAND">R3SETUP</tt> 4.6B</a></h3>

<p>Make sure <tt class="ENVAR">LD_LIBRARY_PATH</tt> is set correctly:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">export LD_LIBRARY_PATH=/oracle/IDS/lib:/sapmnt/IDS/exe:/oracle/805_32/lib</kbd>
</pre>

<p>Start <tt class="COMMAND">R3SETUP</tt> as <tt class="USERNAME">root</tt> from
installation directory:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">cd /oracle/IDS/sapreorg/install</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">./R3SETUP -f CENTRDB.R3S</kbd>
</pre>

<p>The script then asks some questions (defaults in brackets, followed by actual
input):</p>

<div class="INFORMALTABLE"><a id="AEN14752" name="AEN14752"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<col />
<thead>
<tr>
<th>Question</th>
<th>Default</th>
<th>Input</th>
</tr>
</thead>

<tbody>
<tr>
<td>Enter SAP System ID</td>
<td>[C11]</td>
<td>IDS<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter SAP Instance Number</td>
<td>[00]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter SAPMOUNT Directory</td>
<td>[/sapmnt]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter name of SAP central host</td>
<td>[troubadix.domain.de]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter name of SAP db host</td>
<td>[troubadix]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Select character set</td>
<td>[1] (WE8DEC)</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Oracle server version (1) Oracle 8.0.5, (2) Oracle 8.0.6, (3) Oracle 8.1.5, (4)
Oracle 8.1.6</td>
<td>&nbsp;</td>
<td>1<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Extract Oracle Client archive</td>
<td>[1] (Yes, extract)</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter path to KERNEL CD</td>
<td>[/sapcd]</td>
<td>/oracle/IDS/sapreorg/KERNEL</td>
</tr>

<tr>
<td>Enter path to RDBMS CD</td>
<td>[/sapcd]</td>
<td>/oracle/IDS/sapreorg/RDBMS</td>
</tr>

<tr>
<td>Enter path to EXPORT1 CD</td>
<td>[/sapcd]</td>
<td>/oracle/IDS/sapreorg/EXPORT1</td>
</tr>

<tr>
<td>Directory to copy EXPORT1 CD</td>
<td>[/oracle/IDS/sapreorg/CD4_DIR]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter path to EXPORT2 CD</td>
<td>[/sapcd]</td>
<td>/oracle/IDS/sapreorg/EXPORT2</td>
</tr>

<tr>
<td>Directory to copy EXPORT2 CD</td>
<td>[/oracle/IDS/sapreorg/CD5_DIR]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter path to EXPORT3 CD</td>
<td>[/sapcd]</td>
<td>/oracle/IDS/sapreorg/EXPORT3</td>
</tr>

<tr>
<td>Directory to copy EXPORT3 CD</td>
<td>[/oracle/IDS/sapreorg/CD6_DIR]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter path to EXPORT4 CD</td>
<td>[/sapcd]</td>
<td>/oracle/IDS/sapreorg/EXPORT4</td>
</tr>

<tr>
<td>Directory to copy EXPORT4 CD</td>
<td>[/oracle/IDS/sapreorg/CD7_DIR]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter path to EXPORT5 CD</td>
<td>[/sapcd]</td>
<td>/oracle/IDS/sapreorg/EXPORT5</td>
</tr>

<tr>
<td>Directory to copy EXPORT5 CD</td>
<td>[/oracle/IDS/sapreorg/CD8_DIR]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter path to EXPORT6 CD</td>
<td>[/sapcd]</td>
<td>/oracle/IDS/sapreorg/EXPORT6</td>
</tr>

<tr>
<td>Directory to copy EXPORT6 CD</td>
<td>[/oracle/IDS/sapreorg/CD9_DIR]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter amount of RAM for SAP + DB</td>
<td>&nbsp;</td>
<td>850<b class="KEYCAP">Enter</b> (in Megabytes)</td>
</tr>

<tr>
<td>Service Entry Message Server</td>
<td>[3600]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Group-ID of sapsys</td>
<td>[101]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Group-ID of oper</td>
<td>[102]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Group-ID of dba</td>
<td>[100]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter User-ID of <tt class="REPLACEABLE"><i>sid</i></tt>adm</td>
<td>[1000]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter User-ID of ora<tt class="REPLACEABLE"><i>sid</i></tt></td>
<td>[1002]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Number of parallel procs</td>
<td>[2]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>
</tbody>
</table>
</div>

<p>If you had not copied the CDs to the different locations, then the <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> installer cannot find the CD
needed (identified by the <tt class="FILENAME">LABEL.ASC</tt> file on the CD) and would
then ask you to insert and mount the CD and confirm or enter the mount path.</p>

<p>The <tt class="FILENAME">CENTRDB.R3S</tt> might not be error free. In our case, it
requested EXPORT4 CD again but indicated the correct key (6_LOCATION, then 7_LOCATION
etc.), so one can just continue with entering the correct values.</p>

<p>Apart from some problems mentioned below, everything should go straight through up to
the point where the <span class="TRADEMARK">Oracle</span> database software needs to be
installed.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="STARTR3SETUP-46C" name="STARTR3SETUP-46C">10.7.8.4 Start <tt
class="COMMAND">R3SETUP</tt> 4.6C SR2</a></h3>

<p>Make sure <tt class="ENVAR">LD_LIBRARY_PATH</tt> is set correctly. This is a different
value from the 4.6B installation with <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span> 8.0.5</b>:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">export LD_LIBRARY_PATH=/sapmnt/PRD/exe:/oracle/PRD/817_32/lib</kbd>
</pre>

<p>Start <tt class="COMMAND">R3SETUP</tt> as user <tt class="USERNAME">root</tt> from
installation directory:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">cd /oracle/PRD/sapreorg/install</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">./R3SETUP -f CENTRAL.R3S</kbd>
</pre>

<p>The script then asks some questions (defaults in brackets, followed by actual
input):</p>

<div class="INFORMALTABLE"><a id="AEN14931" name="AEN14931"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<col />
<thead>
<tr>
<th>Question</th>
<th>Default</th>
<th>Input</th>
</tr>
</thead>

<tbody>
<tr>
<td>Enter SAP System ID</td>
<td>[C11]</td>
<td>PRD<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter SAP Instance Number</td>
<td>[00]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter SAPMOUNT Directory</td>
<td>[/sapmnt]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter name of SAP central host</td>
<td>[majestix]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Database System ID</td>
<td>[PRD]</td>
<td>PRD<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter name of SAP db host</td>
<td>[majestix]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Select character set</td>
<td>[1] (WE8DEC)</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Oracle server version (2) Oracle 8.1.7</td>
<td>&nbsp;</td>
<td>2<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Extract Oracle Client archive</td>
<td>[1] (Yes, extract)</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter path to KERNEL CD</td>
<td>[/sapcd]</td>
<td>/oracle/PRD/sapreorg/KERNEL</td>
</tr>

<tr>
<td>Enter amount of RAM for SAP + DB</td>
<td>2044</td>
<td>1800<b class="KEYCAP">Enter</b> (in Megabytes)</td>
</tr>

<tr>
<td>Service Entry Message Server</td>
<td>[3600]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Group-ID of sapsys</td>
<td>[100]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Group-ID of oper</td>
<td>[101]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Group-ID of dba</td>
<td>[102]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter User-ID of <tt class="USERNAME">oraprd</tt></td>
<td>[1002]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter User-ID of <tt class="USERNAME">prdadm</tt></td>
<td>[1000]</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>LDAP support</td>
<td>&nbsp;</td>
<td>3<b class="KEYCAP">Enter</b> (no support)</td>
</tr>

<tr>
<td>Installation step completed</td>
<td>[1] (continue)</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Choose installation service</td>
<td>[1] (DB inst,file)</td>
<td><b class="KEYCAP">Enter</b></td>
</tr>
</tbody>
</table>
</div>

<p>So far, creation of users gives an error during installation in phases
OSUSERDBSID_IND_ORA (for creating user <tt class="USERNAME">ora<tt
class="REPLACEABLE"><i>sid</i></tt></tt>) and OSUSERSIDADM_IND_ORA (creating user <tt
class="USERNAME"><tt class="REPLACEABLE"><i>sid</i></tt>adm</tt>).</p>

<p>Apart from some problems mentioned below, everything should go straight through up to
the point where the <span class="TRADEMARK">Oracle</span> database software needs to be
installed.</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="INSTALLINGORACLE805" name="INSTALLINGORACLE805">10.7.9
Installing <span class="TRADEMARK">Oracle</span> 8.0.5</a></h2>

<p>Please see the corresponding <span class="TRADEMARK">SAP</span> Notes and <span
class="TRADEMARK">Oracle</span> <tt class="FILENAME">Readme</tt>s regarding Linux and <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span> DB</b> for possible problems.
Most if not all problems stem from incompatible libraries.</p>

<p>For more information on installing <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span></b>, refer to <a href="linuxemu-oracle.html">the
Installing <span class="TRADEMARK">Oracle</span> chapter.</a></p>

<div class="SECT3">
<h3 class="SECT3"><a id="INSTALLINGTHEORACLE805WITHORAINST"
name="INSTALLINGTHEORACLE805WITHORAINST">10.7.9.1 Installing the <span
class="TRADEMARK">Oracle</span> 8.0.5 with <tt class="COMMAND">orainst</tt></a></h3>

<p>If <b class="APPLICATION"><span class="TRADEMARK">Oracle</span> 8.0.5</b> is to be
used, some additional libraries are needed for successfully relinking, as <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span> 8.0.5</b> was linked with an
old glibc (RedHat 6.0), but RedHat 6.1 already uses a new glibc. So you have to install
the following additional packages to ensure that linking will work:</p>

<p><tt class="FILENAME">compat-libs-5.2-2.i386.rpm</tt></p>

<p><tt class="FILENAME">compat-glibc-5.2-2.0.7.2.i386.rpm</tt></p>

<p><tt class="FILENAME">compat-egcs-5.2-1.0.3a.1.i386.rpm</tt></p>

<p><tt class="FILENAME">compat-egcs-c++-5.2-1.0.3a.1.i386.rpm</tt></p>

<p><tt class="FILENAME">compat-binutils-5.2-2.9.1.0.23.1.i386.rpm</tt></p>

<p>See the corresponding <span class="TRADEMARK">SAP</span> Notes or <span
class="TRADEMARK">Oracle</span> <tt class="FILENAME">Readme</tt>s for further
information. If this is no option (at the time of installation we did not have enough
time to check this), one could use the original binaries, or use the relinked binaries
from an original RedHat system.</p>

<p>For compiling the intelligent agent, the RedHat Tcl package must be installed. If you
cannot get <tt class="FILENAME">tcl-8.0.3-20.i386.rpm</tt>, a newer one like <tt
class="FILENAME">tcl-8.0.5-30.i386.rpm</tt> for RedHat 6.1 should also do.</p>

<p>Apart from relinking, the installation is straightforward:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">su - oraids</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">export TERM=xterm</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">export ORACLE_TERM=xterm</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">export ORACLE_HOME=/oracle/IDS</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">cd $ORACLE_HOME/orainst_sap</kbd>
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">./orainst</kbd>
</pre>

<p>Confirm all screens with <b class="KEYCAP">Enter</b> until the software is installed,
except that one has to deselect the <span class="emphasis"><i class="EMPHASIS"><span
class="TRADEMARK">Oracle</span> On-Line Text Viewer</i></span>, as this is not currently
available for Linux. <b class="APPLICATION"><span class="TRADEMARK">Oracle</span></b>
then wants to relink with <tt class="COMMAND">i386-glibc20-linux-gcc</tt> instead of the
available <tt class="COMMAND">gcc</tt>, <tt class="COMMAND">egcs</tt> or <tt
class="COMMAND">i386-redhat-linux-gcc</tt> .</p>

<p>Due to time constrains we decided to use the binaries from an <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span> 8.0.5 PreProduction</b>
release, after the first attempt at getting the version from the RDBMS CD working,
failed, and finding and accessing the correct RPMs was a nightmare at that time.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="INSTALLINGTHEORACLE805PREPRODUCTION"
name="INSTALLINGTHEORACLE805PREPRODUCTION">10.7.9.2 Installing the <span
class="TRADEMARK">Oracle</span> 8.0.5 Pre-production Release for Linux (Kernel
2.0.33)</a></h3>

<p>This installation is quite easy. Mount the CD, start the installer. It will then ask
for the location of the <span class="TRADEMARK">Oracle</span> home directory, and copy
all binaries there. We did not delete the remains of our previous RDBMS installation
tries, though.</p>

<p>Afterwards, <b class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> Database
could be started with no problems.</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="INSTALLINGORACLE817" name="INSTALLINGORACLE817">10.7.10
Installing the <span class="TRADEMARK">Oracle</span> 8.1.7 Linux Tarball</a></h2>

<p>Take the tarball <tt class="FILENAME">oracle81732.tgz</tt> you produced from the
installation directory on a Linux system and untar it to <tt class="FILENAME">/oracle/<tt
class="REPLACEABLE"><i>SID</i></tt>/817_32/</tt>.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="CONTINUEWITHSAPR4INSTALLATION"
name="CONTINUEWITHSAPR4INSTALLATION">10.7.11 Continue with <span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span>
Installation</a></h2>

<p>First check the environment settings of users <tt class="USERNAME">idsamd</tt> (<tt
class="REPLACEABLE"><i>sid</i></tt>adm) and <tt class="USERNAME">oraids</tt> (ora<tt
class="REPLACEABLE"><i>sid</i></tt>). They should now both have the files <tt
class="FILENAME">.profile</tt>, <tt class="FILENAME">.login</tt> and <tt
class="FILENAME">.cshrc</tt> which are all using <tt class="COMMAND">hostname</tt>. In
case the system's hostname is the fully qualified name, you need to change <tt
class="COMMAND">hostname</tt> to <tt class="COMMAND">hostname -s</tt> within all three
files.</p>

<div class="SECT3">
<h3 class="SECT3"><a id="DATABASELOAD" name="DATABASELOAD">10.7.11.1 Database
Load</a></h3>

<p>Afterwards, <tt class="COMMAND">R3SETUP</tt> can either be restarted or continued
(depending on whether exit was chosen or not). <tt class="COMMAND">R3SETUP</tt> then
creates the tablespaces and loads the data (for 46B IDES, from EXPORT1 to EXPORT6, for
46C from DISK1 to DISK4) with <tt class="COMMAND">R3load</tt> into the database.</p>

<p>When the database load is finished (might take a few hours), some passwords are
requested. For test installations, one can use the well known default passwords (use
different ones if security is an issue!):</p>

<div class="INFORMALTABLE"><a id="AEN15151" name="AEN15151"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>Question</th>
<th>Input</th>
</tr>
</thead>

<tbody>
<tr>
<td>Enter Password for sapr3</td>
<td>sap<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Confirum Password for sapr3</td>
<td>sap<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Password for sys</td>
<td>change_on_install<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Confirm Password for sys</td>
<td>change_on_install<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Enter Password for system</td>
<td>manager<b class="KEYCAP">Enter</b></td>
</tr>

<tr>
<td>Confirm Password for system</td>
<td>manager<b class="KEYCAP">Enter</b></td>
</tr>
</tbody>
</table>
</div>

<p>At this point We had a few problems with <tt class="COMMAND">dipgntab</tt> during the
4.6B installation.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="LISTENER" name="LISTENER">10.7.11.2 Listener</a></h3>

<p>Start the <b class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> Listener as
user <tt class="USERNAME">ora<tt class="REPLACEABLE"><i>sid</i></tt></tt> as follows:</p>

<pre class="SCREEN">
<samp class="PROMPT">%</samp> <kbd class="USERINPUT">umask 0; lsnrctl start</kbd>
</pre>

<p>Otherwise you might get the error <span class="ERRORCODE">ORA-12546</span> as the
sockets will not have the correct permissions. See <span class="TRADEMARK">SAP</span>
Note 072984.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="MNLSTABLES" name="MNLSTABLES">10.7.11.3 Updating MNLS
Tables</a></h3>

<p>If you plan to import non-Latin-1 languages into the <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> system, you have to update the Multi National Language
Support tables. This is described in the <span class="TRADEMARK">SAP</span> OSS Notes
15023 and 45619. Otherwise, you can skip this question during <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> installation.</p>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Note:</b> If you do not need MNLS, it is still necessary to check the table TCPDB
and initializing it if this has not been done. See <span class="TRADEMARK">SAP</span>
note 0015023 and 0045619 for further information.</p>
</blockquote>
</div>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="POSTINSTALLATIONSTEPS" name="POSTINSTALLATIONSTEPS">10.7.12
Post-installation Steps</a></h2>

<div class="SECT3">
<h3 class="SECT3"><a id="REQUESTSAPR3LICENSEKEY" name="REQUESTSAPR3LICENSEKEY">10.7.12.1
Request <span class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span>
License Key</a></h3>

<p>You have to request your <b class="APPLICATION"><span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span></b> License Key.
This is needed, as the temporary license that was installed during installation is only
valid for four weeks. First get the hardware key. Log on as user <tt
class="USERNAME">idsadm</tt> and call <tt class="COMMAND">saplicense</tt>:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">/sapmnt/IDS/exe/saplicense -get</kbd>
</pre>

<p>Calling <tt class="COMMAND">saplicense</tt> without parameters gives a list of
options. Upon receiving the license key, it can be installed using:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">/sapmnt/IDS/exe/saplicense -install</kbd>
</pre>

<p>You are then required to enter the following values:</p>

<pre class="PROGRAMLISTING">
SAP SYSTEM ID   = <tt class="REPLACEABLE"><i>SID, 3 chars</i></tt>
CUSTOMER KEY    = <tt class="REPLACEABLE"><i>hardware key, 11 chars</i></tt>
INSTALLATION NO = <tt class="REPLACEABLE"><i>installation, 10 digits</i></tt>
EXPIRATION DATE = <tt class="REPLACEABLE"><i>yyyymmdd, usually "99991231"</i></tt>
LICENSE KEY     = <tt class="REPLACEABLE"><i>license key, 24 chars</i></tt>
</pre>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="CREATINGUSERS" name="CREATINGUSERS">10.7.12.2 Creating
Users</a></h3>

<p>Create a user within client 000 (for some tasks required to be done within client 000,
but with a user different from users <tt class="USERNAME">sap*</tt> and <tt
class="USERNAME">ddic</tt>). As a user name, We usually choose <tt
class="USERNAME">wartung</tt> (or <tt class="USERNAME">service</tt> in English). Profiles
required are <tt class="LITERAL">sap_new</tt> and <tt class="LITERAL">sap_all</tt>. For
additional safety the passwords of default users within all clients should be changed
(this includes users <tt class="USERNAME">sap*</tt> and <tt
class="USERNAME">ddic</tt>).</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="CONFIGTRANSSYSPROFILEOPERMODESETC"
name="CONFIGTRANSSYSPROFILEOPERMODESETC">10.7.12.3 Configure Transport System, Profile,
Operation Modes, Etc.</a></h3>

<p>Within client 000, user different from <tt class="USERNAME">ddic</tt> and <tt
class="USERNAME">sap*</tt>, do at least the following:</p>

<div class="INFORMALTABLE"><a id="AEN15251" name="AEN15251"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>Task</th>
<th>Transaction</th>
</tr>
</thead>

<tbody>
<tr>
<td>Configure Transport System, e.g. as <span class="emphasis"><i
class="EMPHASIS">Stand-Alone Transport Domain Entity</i></span></td>
<td>STMS</td>
</tr>

<tr>
<td>Create / Edit Profile for System</td>
<td>RZ10</td>
</tr>

<tr>
<td>Maintain Operation Modes and Instances</td>
<td>RZ04</td>
</tr>
</tbody>
</table>
</div>

<p>These and all the other post-installation steps are thoroughly described in <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> installation guides.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="EDITINTSIDSAP" name="EDITINTSIDSAP">10.7.12.4 Edit <tt
class="FILENAME">init<tt class="REPLACEABLE"><i>sid</i></tt>.sap</tt> (<tt
class="FILENAME">initIDS.sap</tt>)</a></h3>

<p>The file <tt class="FILENAME">/oracle/IDS/dbs/initIDS.sap</tt> contains the <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> backup profile. Here the size
of the tape to be used, type of compression and so on need to be defined. To get this
running with <tt class="COMMAND">sapdba</tt> / <tt class="COMMAND">brbackup</tt>, we
changed the following values:</p>

<pre class="PROGRAMLISTING">
compress = hardware
archive_function = copy_delete_save
cpio_flags = "-ov --format=newc --block-size=128 --quiet"
cpio_in_flags = "-iuv --block-size=128 --quiet"
tape_size = 38000M
tape_address = /dev/nsa0
tape_address_rew = /dev/sa0
</pre>

<p>Explanations:</p>

<p><code class="VARNAME">compress</code>: The tape we use is a HP DLT1 which does
hardware compression.</p>

<p><code class="VARNAME">archive_function</code>: This defines the default behavior for
saving <span class="TRADEMARK">Oracle</span> archive logs: new logfiles are saved to
tape, already saved logfiles are saved again and are then deleted. This prevents lots of
trouble if you need to recover the database, and one of the archive-tapes has gone
bad.</p>

<p><code class="VARNAME">cpio_flags</code>: Default is to use <code
class="OPTION">-B</code> which sets block size to 5120&nbsp;Bytes. For DLT Tapes, HP
recommends at least 32&nbsp;K block size, so we used <code
class="OPTION">--block-size=128</code> for 64&nbsp;K. <code
class="OPTION">--format=newc</code> is needed because we have inode numbers greater than
65535. The last option <code class="OPTION">--quiet</code> is needed as otherwise <tt
class="COMMAND">brbackup</tt> complains as soon as <tt class="COMMAND">cpio</tt> outputs
the numbers of blocks saved.</p>

<p><code class="VARNAME">cpio_in_flags</code>: Flags needed for loading data back from
tape. Format is recognized automatically.</p>

<p><code class="VARNAME">tape_size</code>: This usually gives the raw storage capability
of the tape. For security reason (we use hardware compression), the value is slightly
lower than the actual value.</p>

<p><code class="VARNAME">tape_address</code>: The non-rewindable device to be used with
<tt class="COMMAND">cpio</tt>.</p>

<p><code class="VARNAME">tape_address_rew</code>: The rewindable device to be used with
<tt class="COMMAND">cpio</tt>.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="AEN15307" name="AEN15307">10.7.12.5 Configuration Issues after
Installation</a></h3>

<p>The following <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> parameters
should be tuned after installation (examples for IDES 46B, 1&nbsp;GB memory):</p>

<div class="INFORMALTABLE"><a id="AEN15312" name="AEN15312"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>

<tbody>
<tr>
<td>ztta/roll_extension</td>
<td>250000000</td>
</tr>

<tr>
<td>abap/heap_area_dia</td>
<td>300000000</td>
</tr>

<tr>
<td>abap/heap_area_nondia</td>
<td>400000000</td>
</tr>

<tr>
<td>em/initial_size_MB</td>
<td>256</td>
</tr>

<tr>
<td>em/blocksize_kB</td>
<td>1024</td>
</tr>

<tr>
<td>ipc/shm_psize_40</td>
<td>70000000</td>
</tr>
</tbody>
</table>
</div>

<p><span class="TRADEMARK">SAP</span> Note 0013026:</p>

<div class="INFORMALTABLE"><a id="AEN15339" name="AEN15339"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>

<tbody>
<tr>
<td>ztta/dynpro_area</td>
<td>2500000</td>
</tr>
</tbody>
</table>
</div>

<p><span class="TRADEMARK">SAP</span> Note 0157246:</p>

<div class="INFORMALTABLE"><a id="AEN15351" name="AEN15351"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>

<tbody>
<tr>
<td>rdisp/ROLL_MAXFS</td>
<td>16000</td>
</tr>

<tr>
<td>rdisp/PG_MAXFS</td>
<td>30000</td>
</tr>
</tbody>
</table>
</div>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Note:</b> With the above parameters, on a system with 1&nbsp;gigabyte of memory,
one may find memory consumption similar to:</p>

<pre class="PROGRAMLISTING">
Mem: 547M Active, 305M Inact, 109M Wired, 40M Cache, 112M Buf, 3492K Free
</pre>
</blockquote>
</div>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="PROBLEMSDURINGINSTALLATION"
name="PROBLEMSDURINGINSTALLATION">10.7.13 Problems during Installation</a></h2>

<div class="SECT3">
<h3 class="SECT3"><a id="RESTARTR3SETUP" name="RESTARTR3SETUP">10.7.13.1 Restart <tt
class="COMMAND">R3SETUP</tt> after Fixing a Problem</a></h3>

<p><tt class="COMMAND">R3SETUP</tt> stops if it encounters an error. If you have looked
at the corresponding logfiles and fixed the error, you have to start <tt
class="COMMAND">R3SETUP</tt> again, usually selecting REPEAT as option for the last step
<tt class="COMMAND">R3SETUP</tt> complained about.</p>

<p>To restart <tt class="COMMAND">R3SETUP</tt>, just start it with the corresponding <tt
class="FILENAME">R3S</tt> file:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">./R3SETUP -f CENTRDB.R3S</kbd>
</pre>

<p>for 4.6B, or with</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">./R3SETUP -f CENTRAL.R3S</kbd>
</pre>

<p>for 4.6C, no matter whether the error occurred with <tt
class="FILENAME">CENTRAL.R3S</tt> or <tt class="FILENAME">DATABASE.R3S</tt>.</p>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Note:</b> At some stages, <tt class="COMMAND">R3SETUP</tt> assumes that both
database and <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> processes are
up and running (as those were steps it already completed). Should errors occur and for
example the database could not be started, you have to start both database and <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> by hand after you fixed the
errors and before starting <tt class="COMMAND">R3SETUP</tt> again.</p>

<p>Do not forget to also start the <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span></b> listener again (as <tt class="USERNAME">ora<tt
class="REPLACEABLE"><i>sid</i></tt></tt> with <tt class="COMMAND">umask 0; lsnrctl
start</tt>) if it was also stopped (for example due to a necessary reboot of the
system).</p>
</blockquote>
</div>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="INDORADURINGDURINGR3SETUP"
name="INDORADURINGDURINGR3SETUP">10.7.13.2 OSUSERSIDADM_IND_ORA during <tt
class="COMMAND">R3SETUP</tt></a></h3>

<p>If <tt class="COMMAND">R3SETUP</tt> complains at this stage, edit the template file
<tt class="COMMAND">R3SETUP</tt> used at that time (<tt class="FILENAME">CENTRDB.R3S</tt>
(4.6B) or either <tt class="FILENAME">CENTRAL.R3S</tt> or <tt
class="FILENAME">DATABASE.R3S</tt> (4.6C)). Locate <tt
class="LITERAL">[OSUSERSIDADM_IND_ORA]</tt> or search for the only <tt
class="LITERAL">STATUS=ERROR</tt> entry and edit the following values:</p>

<pre class="PROGRAMLISTING">
HOME=/home/<tt class="REPLACEABLE"><i>sid</i></tt>adm (was empty)
STATUS=OK (had status ERROR)
       
</pre>

<p>Then you can restart <tt class="COMMAND">R3SETUP</tt> again.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="INDORADURINGR3SETUP" name="INDORADURINGR3SETUP">10.7.13.3
OSUSERDBSID_IND_ORA during <tt class="COMMAND">R3SETUP</tt></a></h3>

<p>Possibly <tt class="COMMAND">R3SETUP</tt> also complains at this stage. The error here
is similar to the one in phase OSUSERSIDADM_IND_ORA. Just edit the template file <tt
class="COMMAND">R3SETUP</tt> used at that time (<tt class="FILENAME">CENTRDB.R3S</tt>
(4.6B) or either <tt class="FILENAME">CENTRAL.R3S</tt> or <tt
class="FILENAME">DATABASE.R3S</tt> (4.6C)). Locate <tt
class="LITERAL">[OSUSERDBSID_IND_ORA]</tt> or search for the only <tt
class="LITERAL">STATUS=ERROR</tt> entry and edit the following value in that section:</p>

<pre class="PROGRAMLISTING">
STATUS=OK
</pre>

<p>Then restart <tt class="COMMAND">R3SETUP</tt>.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="ORAVIEWVRFFILENOTFOUND" name="ORAVIEWVRFFILENOTFOUND">10.7.13.4
“<tt class="ERRORNAME">oraview.vrf FILE NOT FOUND</tt>” during <span
class="TRADEMARK">Oracle</span> Installation</a></h3>

<p>You have not deselected <span class="emphasis"><i class="EMPHASIS"><span
class="TRADEMARK">Oracle</span> On-Line Text Viewer</i></span> before starting the
installation. This is marked for installation even though this option is currently not
available for Linux. Deselect this product inside the <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span></b> installation menu and restart installation.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="TEXTENVINCALID" name="TEXTENVINCALID">10.7.13.5 “<tt
class="ERRORNAME">TEXTENV_INVALID</tt>” during <tt class="COMMAND">R3SETUP</tt>, RFC or
SAPgui Start</a></h3>

<p>If this error is encountered, the correct locale is missing. <span
class="TRADEMARK">SAP</span> Note 0171356 lists the necessary RPMs that need be installed
(e.g. <tt class="FILENAME">saplocales-1.0-3</tt>, <tt
class="FILENAME">saposcheck-1.0-1</tt> for RedHat 6.1). In case you ignored all the
related errors and set the corresponding <tt class="LITERAL">STATUS</tt> from <tt
class="LITERAL">ERROR</tt> to <tt class="LITERAL">OK</tt> (in <tt
class="FILENAME">CENTRDB.R3S</tt>) every time <tt class="COMMAND">R3SETUP</tt> complained
and just restarted <tt class="COMMAND">R3SETUP</tt>, the <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> system will not be properly configured and you will then
not be able to connect to the system with a <b class="APPLICATION">SAPgui</b>, even
though the system can be started. Trying to connect with the old Linux <b
class="APPLICATION">SAPgui</b> gave the following messages:</p>

<pre class="PROGRAMLISTING">
Sat May 5 14:23:14 2001
*** ERROR =&#62; no valid userarea given [trgmsgo. 0401]
Sat May 5 14:23:22 2001
*** ERROR =&#62; ERROR NR 24 occured [trgmsgi. 0410]
*** ERROR =&#62; Error when generating text environment. [trgmsgi. 0435]
*** ERROR =&#62; function failed [trgmsgi. 0447]
*** ERROR =&#62; no socket operation allowed [trxio.c 3363]
Speicherzugriffsfehler
</pre>

<p>This behavior is due to <b class="APPLICATION"><span
class="TRADEMARK">SAP</span>&nbsp;<span class="TRADEMARK">R/3</span></b> being unable to
correctly assign a locale and also not being properly configured itself (missing entries
in some database tables). To be able to connect to <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b>, add the following entries to file <tt
class="FILENAME">DEFAULT.PFL</tt> (see Note 0043288):</p>

<pre class="PROGRAMLISTING">
abap/set_etct_env_at_new_mode = 0
install/collate/active = 0
rscp/TCP0B = TCP0B
</pre>

<p>Restart the <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> system. Now
you can connect to the system, even though country-specific language settings might not
work as expected. After correcting country settings (and providing the correct locales),
these entries can be removed from <tt class="FILENAME">DEFAULT.PFL</tt> and the <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> system can be restarted.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="ORA-00001" name="ORA-00001">10.7.13.6 <span
class="ERRORCODE">ORA-00001</span></a></h3>

<p>This error only happened with <b class="APPLICATION"><span
class="TRADEMARK">Oracle</span> 8.1.7</b> on FreeBSD&nbsp;4.5. The reason was that the <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> database could not
initialize itself properly and crashed, leaving semaphores and shared memory on the
system. The next try to start the database then returned <span
class="ERRORCODE">ORA-00001</span>.</p>

<p>Find them with <tt class="COMMAND">ipcs -a</tt> and remove them with <tt
class="COMMAND">ipcrm</tt>.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="ORA-00445PMON" name="ORA-00445PMON">10.7.13.7 <span
class="ERRORCODE">ORA-00445</span> (Background Process PMON Did Not Start)</a></h3>

<p>This error happened with <b class="APPLICATION"><span class="TRADEMARK">Oracle</span>
8.1.7</b>. This error is reported if the database is started with the usual <tt
class="COMMAND">startsap</tt> script (for example <tt
class="COMMAND">startsap_majestix_00</tt>) as user <tt class="USERNAME">prdadm</tt>.</p>

<p>A possible workaround is to start the database as user <tt
class="USERNAME">oraprd</tt> instead with <tt class="COMMAND">svrmgrl</tt>:</p>

<pre class="SCREEN">
<samp class="PROMPT">%</samp> <kbd class="USERINPUT">svrmgrl</kbd>
SVRMGR&gt; <kbd class="USERINPUT">connect internal;</kbd>
SVRMGR&gt; <kbd class="USERINPUT">startup</kbd>;
SVRMGR&gt; <kbd class="USERINPUT">exit</kbd>
</pre>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="ORA-12546" name="ORA-12546">10.7.13.8 <span
class="ERRORCODE">ORA-12546</span> (Start Listener with Correct Permissions)</a></h3>

<p>Start the <b class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> listener as
user <tt class="USERNAME">oraids</tt> with the following commands:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">umask 0; lsnrctl start</kbd>
</pre>

<p>Otherwise you might get <span class="ERRORCODE">ORA-12546</span> as the sockets will
not have the correct permissions. See <span class="TRADEMARK">SAP</span> Note
0072984.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="ORA-27102" name="ORA-27102">10.7.13.9 <span
class="ERRORCODE">ORA-27102</span> (Out of Memory)</a></h3>

<p>This error happened whilst trying to use values for <tt class="LITERAL">MAXDSIZ</tt>
and <tt class="LITERAL">DFLDSIZ</tt> greater than 1&nbsp;GB (1024x1024x1024).
Additionally, we got “<tt class="ERRORNAME">Linux Error 12: Cannot allocate
memory</tt>”.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="DIPGNTABINDIND" name="DIPGNTABINDIND">10.7.13.10
[DIPGNTAB_IND_IND] during <tt class="COMMAND">R3SETUP</tt></a></h3>

<p>In general, see <span class="TRADEMARK">SAP</span> Note 0130581 (<tt
class="COMMAND">R3SETUP</tt> step <tt class="LITERAL">DIPGNTAB</tt> terminates). During
the IDES-specific installation, for some reason the installation process was not using
the proper <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> system name
“IDS”, but the empty string <tt class="LITERAL">""</tt> instead. This leads to some
minor problems with accessing directories, as the paths are generated dynamically using
<tt class="REPLACEABLE"><i>SID</i></tt> (in this case IDS). So instead of accessing:</p>

<pre class="PROGRAMLISTING">
/usr/sap/IDS/SYS/...
/usr/sap/IDS/DVMGS00
</pre>

<p>the following paths were used:</p>

<pre class="PROGRAMLISTING">
/usr/sap//SYS/...
/usr/sap/D00
</pre>

<p>To continue with the installation, we created a link and an additional directory:</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">pwd</kbd>
/compat/linux/usr/sap
<samp class="PROMPT">#</samp> <kbd class="USERINPUT">ls -l</kbd>
total 4
drwxr-xr-x 3  idsadm sapsys 512 May 5 11:20 D00
drwxr-x--x 5  idsadm sapsys 512 May 5 11:35 IDS
lrwxr-xr-x 1  root   sapsys 7 May 5 11:35 SYS -&gt; IDS/SYS
drwxrwxr-x 2  idsadm sapsys 512 May 5 13:00 tmp
drwxrwxr-x 11 idsadm sapsys 512 May 4 14:20 trans
</pre>

<p>We also found <span class="TRADEMARK">SAP</span> Notes (0029227 and 0008401)
describing this behavior. We did not encounter any of these problems with the <b
class="APPLICATION"><span class="TRADEMARK">SAP</span> 4.6C</b> installation.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="RFCRSWBOINIINDIND" name="RFCRSWBOINIINDIND">10.7.13.11
[RFCRSWBOINI_IND_IND] during <tt class="COMMAND">R3SETUP</tt></a></h3>

<p>During installation of <b class="APPLICATION"><span class="TRADEMARK">SAP</span>
4.6C</b>, this error was just the result of another error happening earlier during
installation. In this case, you have to look through the corresponding logfiles and
correct the real problem.</p>

<p>If after looking through the logfiles this error is indeed the correct one (check the
<span class="TRADEMARK">SAP</span> Notes), you can set <tt class="LITERAL">STATUS</tt> of
the offending step from <tt class="LITERAL">ERROR</tt> to <tt class="LITERAL">OK</tt>
(file <tt class="FILENAME">CENTRDB.R3S</tt>) and restart <tt
class="COMMAND">R3SETUP</tt>. After installation, you have to execute the report <tt
class="LITERAL">RSWBOINS</tt> from transaction SE38. See <span
class="TRADEMARK">SAP</span> Note 0162266 for additional information about phase <tt
class="LITERAL">RFCRSWBOINI</tt> and <tt class="LITERAL">RFCRADDBDIF</tt>.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="RFCRADDBDIFINDIND" name="RFCRADDBDIFINDIND">10.7.13.12
[RFCRADDBDIF_IND_IND] during <tt class="COMMAND">R3SETUP</tt></a></h3>

<p>Here the same restrictions apply: make sure by looking through the logfiles, that this
error is not caused by some previous problems.</p>

<p>If you can confirm that <span class="TRADEMARK">SAP</span> Note 0162266 applies, just
set <tt class="LITERAL">STATUS</tt> of the offending step from <tt
class="LITERAL">ERROR</tt> to <tt class="LITERAL">OK</tt> (file <tt
class="FILENAME">CENTRDB.R3S</tt>) and restart <tt class="COMMAND">R3SETUP</tt>. After
installation, you have to execute the report <tt class="LITERAL">RADDBDIF</tt> from
transaction SE38.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="SIGACTIONSIG31" name="SIGACTIONSIG31">10.7.13.13 <span
class="ERRORCODE">sigaction sig31: File size limit exceeded</span></a></h3>

<p>This error occurred during start of <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> processes <span class="emphasis"><i
class="EMPHASIS">disp+work</i></span>. If starting <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> with the <tt class="COMMAND">startsap</tt> script,
subprocesses are then started which detach and do the dirty work of starting all other <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> processes. As a result, the
script itself will not notice if something goes wrong.</p>

<p>To check whether the <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b>
processes did start properly, have a look at the process status with <tt
class="COMMAND">ps ax | grep <tt class="REPLACEABLE"><i>SID</i></tt></tt>, which will
give you a list of all <b class="APPLICATION"><span class="TRADEMARK">Oracle</span></b>
and <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> processes. If it looks
like some processes are missing or if you cannot connect to the <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> system, look at the
corresponding logfiles which can be found at <tt class="FILENAME">/usr/sap/<tt
class="REPLACEABLE"><i>SID</i></tt>/DVEBMGS<tt
class="REPLACEABLE"><i>nr</i></tt>/work/</tt>. The files to look at are <tt
class="FILENAME">dev_ms</tt> and <tt class="FILENAME">dev_disp</tt>.</p>

<p>Signal 31 happens here if the amount of shared memory used by <b
class="APPLICATION"><span class="TRADEMARK">Oracle</span></b> and <b
class="APPLICATION"><span class="TRADEMARK">SAP</span></b> exceed the one defined within
the kernel configuration file and could be resolved by using a larger value:</p>

<pre class="PROGRAMLISTING">
# larger value for 46C production systems:
options SHMMAXPGS=393216
# smaller value sufficient for 46B:
#options SHMMAXPGS=262144
</pre>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="SAPOSCOLFAILS" name="SAPOSCOLFAILS">10.7.13.14 Start of <tt
class="COMMAND">saposcol</tt> Failed</a></h3>

<p>There are some problems with the program <tt class="COMMAND">saposcol</tt> (version
4.6D). The <b class="APPLICATION"><span class="TRADEMARK">SAP</span></b> system is using
<tt class="COMMAND">saposcol</tt> to collect data about the system performance. This
program is not needed to use the <b class="APPLICATION"><span
class="TRADEMARK">SAP</span></b> system, so this problem can be considered a minor one.
The older versions (4.6B) does work, but does not collect all the data (many calls will
just return 0, for example for CPU usage).</p>
</div>
</div>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="linuxemu-oracle.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="linuxemu-advanced.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">Installing <span
class="TRADEMARK">Oracle</span>&reg;</td>
<td width="34%" align="center" valign="top"><a href="linuxemu.html"
accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">Advanced Topics</td>
</tr>
</table>
</div>

<p align="center"><small>This, and other documents, can be downloaded from <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p>

<p align="center"><small>For questions about FreeBSD, read the <a
href="http://www.FreeBSD.org/docs.html">documentation</a> before contacting &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.<br />
For questions about this documentation, e-mail &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</small></p>
</body>
</html>

