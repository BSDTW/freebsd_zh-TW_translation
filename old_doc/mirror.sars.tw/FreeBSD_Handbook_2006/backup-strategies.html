<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Backup Strategies</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="FreeBSD 使用手冊" href="index.html" />
<link rel="UP" title="儲存設備篇" href="disks.html" />
<link rel="PREVIOUS" title="Backups to Floppies" href="backups-floppybackups.html" />
<link rel="NEXT" title="Backup Basics" href="backup-basics.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=Big5" />
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">FreeBSD 使用手冊</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="backups-floppybackups.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 17 儲存設備篇</td>
<td width="10%" align="right" valign="bottom"><a href="backup-basics.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECT1">
<h1 class="SECT1"><a id="BACKUP-STRATEGIES" name="BACKUP-STRATEGIES">17.11 Backup
Strategies</a></h1>

<i class="AUTHORGROUP"><span class="CONTRIB">Original work by</span> Lowell Gilbert.</i> 

<p>The first requirement in devising a backup plan is to make sure that all of the
following problems are covered:</p>

<ul>
<li>
<p>Disk failure</p>
</li>

<li>
<p>Accidental file deletion</p>
</li>

<li>
<p>Random file corruption</p>
</li>

<li>
<p>Complete machine destruction (e.g. fire), including destruction of any on-site
backups.</p>
</li>
</ul>

<p>It is perfectly possible that some systems will be best served by having each of these
problems covered by a completely different technique. Except for strictly personal
systems with very low-value data, it is unlikely that one technique would cover all of
them.</p>

<p>Some of the techniques in the toolbox are:</p>

<ul>
<li>
<p>Archives of the whole system, backed up onto permanent media offsite. This actually
provides protection against all of the possible problems listed above, but is slow and
inconvenient to restore from. You can keep copies of the backups onsite and/or online,
but there will still be inconveniences in restoring files, especially for non-privileged
users.</p>
</li>

<li>
<p>Filesystem snapshots. This is really only helpful in the accidental file deletion
scenario, but it can be <span class="emphasis"><i class="EMPHASIS">very</i></span>
helpful in that case, and is quick and easy to deal with.</p>
</li>

<li>
<p>Copies of whole filesystems and/or disks (e.g. periodic rsync of the whole machine).
This is generally most useful in networks with unique requirements. For general
protection against disk failure, it is usually inferior to <acronym
class="ACRONYM">RAID</acronym>. For restoring accidentally deleted files, it can be
comparable to <acronym class="ACRONYM">UFS</acronym> snapshots, but that depends on your
preferences.</p>
</li>

<li>
<p><acronym class="ACRONYM">RAID</acronym>. Minimizes or avoids downtime when a disk
fails. At the expense of having to deal with disk failures more often (because you have
more disks), albeit at a much lower urgency.</p>
</li>

<li>
<p>Checking fingerprints of files. The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mtree&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">mtree</span>(8)</span></a> utility is
very useful for this. Although it is not a backup technique, it helps guarantee that you
will notice when you need to resort to your backups. This is particularly important for
offline backups, and should be checked periodically.</p>
</li>
</ul>

<p>It is quite easy to come up with even more techniques, many of them variations on the
ones listed above. Specialized requirements will usually lead to specialized techniques
(for example, backing up a live database usually requires a method particular to the
database software as an intermediate step). The important thing is to know what dangers
you want to protect against, and how you will handle each.</p>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="backups-floppybackups.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="backup-basics.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">Backups to Floppies</td>
<td width="34%" align="center" valign="top"><a href="disks.html"
accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">Backup Basics</td>
</tr>
</table>
</div>

<p align="center"><small>This, and other documents, can be downloaded from <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p>

<p align="center"><small>For questions about FreeBSD, read the <a
href="http://www.FreeBSD.org/docs.html">documentation</a> before contacting &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.<br />
For questions about this documentation, e-mail &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</small></p>
</body>
</html>

