<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>後續安裝</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="FreeBSD 使用手冊" href="index.html" />
<link rel="UP" title="安裝 FreeBSD" href="install.html" />
<link rel="PREVIOUS" title="開始進行安裝" href="install-final-warning.html" />
<link rel="NEXT" title="支援的硬體" href="install-supported-hardware.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=Big5" />
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">FreeBSD 使用手冊</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="install-final-warning.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 2 安裝 FreeBSD</td>
<td width="10%" align="right" valign="bottom"><a href="install-supported-hardware.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECT1">
<h1 class="SECT1"><a id="INSTALL-POST" name="INSTALL-POST">2.9 後續安裝</a></h1>

<p>安裝系統成功之後，可以在新裝好的 FreeBSD 重開機之前，或者是事後再透過 <tt
class="COMMAND">sysinstall</tt> (FreeBSD 5.2 之前版本則是 <tt
class="COMMAND">/stand/sysinstall</tt>) 然後選擇 <span
class="GUIMENUITEM">Configure</span> 選項以進行後續設定。</p>

<div class="SECT2">
<h2 class="SECT2"><a id="INST-NETWORK-DEV" name="INST-NETWORK-DEV">2.9.1 Network Device
Configuration</a></h2>

<p>If you previously configured PPP for an FTP install, this screen will not display and
can be configured later as described above.</p>

<p>For detailed information on Local Area Networks and configuring FreeBSD as a
gateway/router refer to the <a href="advanced-networking.html">Advanced Networking</a>
chapter.</p>

<pre class="SCREEN">
                      User Confirmation Requested 
   Would you like to configure any Ethernet or SLIP/PPP network devices?

                             [ Yes ]   No
</pre>

<p>To configure a network device, select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span>
and press <b class="KEYCAP">Enter</b>. Otherwise, select <span
class="GUIBUTTON">[&nbsp;No&nbsp;]</span> to continue.</p>

<div class="FIGURE"><a id="ED-CONFIG1" name="ED-CONFIG1"></a>
<p><b>Figure 2-31. Selecting an Ethernet Device</b></p>

<p><img src="install/ed0-conf.png" /></p>
</div>

<p>Select the interface to be configured with the arrow keys and press <b
class="KEYCAP">Enter</b>.</p>

<pre class="SCREEN">
                      User Confirmation Requested 
       Do you want to try IPv6 configuration of the interface?

                              Yes   [ No ]
</pre>

<p>In this private local area network, the current Internet type protocol (<acronym
class="ACRONYM">IPv4</acronym>) was sufficient and <span
class="GUIBUTTON">[&nbsp;No&nbsp;]</span> was selected with the arrow keys and <b
class="KEYCAP">Enter</b> pressed.</p>

<p>If you are connected to an existing <acronym class="ACRONYM">IPv6</acronym> network
with an <acronym class="ACRONYM">RA</acronym> server, then choose <span
class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and press <b class="KEYCAP">Enter</b>. It will
take several seconds to scan for RA servers.</p>

<pre class="SCREEN">
                             User Confirmation Requested 
        Do you want to try DHCP configuration of the interface?

                              Yes   [ No ]
</pre>

<p>If DHCP (Dynamic Host Configuration Protocol) is not required select <span
class="GUIBUTTON">[&nbsp;No&nbsp;]</span> with the arrow keys and press <b
class="KEYCAP">Enter</b>.</p>

<p>Selecting <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> will execute <b
class="APPLICATION">dhclient</b>, and if successful, will fill in the network
configuration information automatically. Refer to <a href="network-dhcp.html">Section
25.5</a> for more information.</p>

<p>The following Network Configuration screen shows the configuration of the Ethernet
device for a system that will act as the gateway for a Local Area Network.</p>

<div class="FIGURE"><a id="ED-CONFIG2" name="ED-CONFIG2"></a>
<p><b>Figure 2-32. Set Network Configuration for ed0</b></p>

<p><img src="install/ed0-conf2.png" /></p>
</div>

<p>Use <b class="KEYCAP">Tab</b> to select the information fields and fill in appropriate
information:</p>

<div class="VARIABLELIST">
<dl>
<dt>Host</dt>

<dd>
<p>The fully-qualified hostname, such as <tt class="HOSTID">k6-2.example.com</tt> in this
case.</p>
</dd>

<dt>Domain</dt>

<dd>
<p>The name of the domain that your machine is in, such as <tt
class="HOSTID">example.com</tt> for this case.</p>
</dd>

<dt>IPv4 Gateway</dt>

<dd>
<p>IP address of host forwarding packets to non-local destinations. You must fill this in
if the machine is a node on the network. <span class="emphasis"><i class="EMPHASIS">Leave
this field blank</i></span> if the machine is the gateway to the Internet for the
network. The IPv4 Gateway is also known as the default gateway or default route.</p>
</dd>

<dt>Name server</dt>

<dd>
<p>IP address of your local DNS server. There is no local DNS server on this private
local area network so the IP address of the provider's DNS server (<tt
class="HOSTID">208.163.10.2</tt>) was used.</p>
</dd>

<dt>IPv4 address</dt>

<dd>
<p>The IP address to be used for this interface was <tt
class="HOSTID">192.168.0.1</tt></p>
</dd>

<dt>Netmask</dt>

<dd>
<p>The address block being used for this local area network is a Class C block (<tt
class="HOSTID">192.168.0.0</tt> - <tt class="HOSTID">192.168.255.255</tt>). The default
netmask is for a Class C network (<tt class="HOSTID">255.255.255.0</tt>).</p>
</dd>

<dt>Extra options to ifconfig</dt>

<dd>
<p>Any interface-specific options to <tt class="COMMAND">ifconfig</tt> you would like to
add. There were none in this case.</p>
</dd>
</dl>
</div>

<p>Use <b class="KEYCAP">Tab</b> to select <span
class="GUIBUTTON">[&nbsp;OK&nbsp;]</span> when finished and press <b
class="KEYCAP">Enter</b>.</p>

<pre class="SCREEN">
                      User Confirmation Requested 
        Would you like to Bring Up the ed0 interface right now?

                             [ Yes ]   No
</pre>

<p>Choosing <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and pressing <b
class="KEYCAP">Enter</b> will bring the machine up on the network and be ready for use.
However, this does not accomplish much during installation, since the machine still needs
to be rebooted.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="GATEWAY" name="GATEWAY">2.9.2 Configure Gateway</a></h2>

<pre class="SCREEN">
                       User Confirmation Requested 
       Do you want this machine to function as a network gateway?

                              [ Yes ]    No
</pre>

<p>If the machine will be acting as the gateway for a local area network and forwarding
packets between other machines then select <span
class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and press <b class="KEYCAP">Enter</b>. If the
machine is a node on a network then select <span
class="GUIBUTTON">[&nbsp;No&nbsp;]</span> and press <b class="KEYCAP">Enter</b> to
continue.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="INETD-SERVICES" name="INETD-SERVICES">2.9.3 Configure Internet
Services</a></h2>

<pre class="SCREEN">
                      User Confirmation Requested
Do you want to configure inetd and the network services that it provides?

                               Yes   [ No ]
</pre>

<p>If <span class="GUIBUTTON">[&nbsp;No&nbsp;]</span> is selected, various services such
<b class="APPLICATION">telnetd</b> will not be enabled. This means that remote users will
not be able to <b class="APPLICATION">telnet</b> into this machine. Local users will be
still be able to access remote machines with <b class="APPLICATION">telnet</b>.</p>

<p>These services can be enabled after installation by editing <tt
class="FILENAME">/etc/inetd.conf</tt> with your favorite text editor. See <a
href="network-inetd.html#NETWORK-INETD-OVERVIEW">Section 25.2.1</a> for more
information.</p>

<p>Select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> if you wish to configure these
services during install. An additional confirmation will display:</p>

<pre class="SCREEN">
                      User Confirmation Requested
The Internet Super Server (inetd) allows a number of simple Internet
services to be enabled, including finger, ftp and telnetd.  Enabling
these services may increase risk of security problems by increasing
the exposure of your system.

With this in mind, do you wish to enable inetd?

                             [ Yes ]   No
</pre>

<p>Select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> to continue.</p>

<pre class="SCREEN">
                      User Confirmation Requested
inetd(8) relies on its configuration file, /etc/inetd.conf, to determine
which of its Internet services will be available.  The default FreeBSD
inetd.conf(5) leaves all services disabled by default, so they must be
specifically enabled in the configuration file before they will
function, even once inetd(8) is enabled.  Note that services for
IPv6 must be separately enabled from IPv4 services.

Select [Yes] now to invoke an editor on /etc/inetd.conf, or [No] to
use the current settings.

                             [ Yes ]   No
</pre>

<p>Selecting <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> will allow adding services
by deleting the <tt class="LITERAL">#</tt> at the beginning of a line.</p>

<div class="FIGURE"><a id="INETD-EDIT" name="INETD-EDIT"></a>
<p><b>Figure 2-33. Editing <tt class="FILENAME">inetd.conf</tt></b></p>

<p><img src="install/edit-inetd-conf.png" /></p>
</div>

<p>After adding the desired services, pressing <b class="KEYCAP">Esc</b> will display a
menu which will allow exiting and saving the changes.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="FTPANON" name="FTPANON">2.9.4 Anonymous FTP</a></h2>

<pre class="SCREEN">
                      User Confirmation Requested
 Do you want to have anonymous FTP access to this machine? 

                              Yes    [ No ]
</pre>

<div class="SECT3">
<h3 class="SECT3"><a id="DENY-ANON" name="DENY-ANON">2.9.4.1 Deny Anonymous FTP</a></h3>

<p>Selecting the default <span class="GUIBUTTON">[&nbsp;No&nbsp;]</span> and pressing <b
class="KEYCAP">Enter</b> will still allow users who have accounts with passwords to use
FTP to access the machine.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="FTPALLOW" name="FTPALLOW">2.9.4.2 Allow Anonymous FTP</a></h3>

<p>Anyone can access your machine if you elect to allow anonymous FTP connections. The
security implications should be considered before enabling this option. For more
information about security see <a href="security.html">Chapter 14</a>.</p>

<p>To allow anonymous FTP, use the arrow keys to select <span
class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and press <b class="KEYCAP">Enter</b>. The
following screen (or similar) will display:</p>

<div class="FIGURE"><a id="ANON-FTP2" name="ANON-FTP2"></a>
<p><b>Figure 2-34. Default Anonymous FTP Configuration</b></p>

<p><img src="install/ftp-anon1.png" /></p>
</div>

<p>Pressing <b class="KEYCAP">F1</b> will display the help:</p>

<pre class="SCREEN">
This screen allows you to configure the anonymous FTP user.

The following configuration values are editable:

UID:     The user ID you wish to assign to the anonymous FTP user.
         All files uploaded will be owned by this ID.

Group:   Which group you wish the anonymous FTP user to be in.

Comment: String describing this user in /etc/passwd


FTP Root Directory:

        Where files available for anonymous FTP will be kept.

Upload subdirectory:

        Where files uploaded by anonymous FTP users will go.
</pre>

<p>The ftp root directory will be put in <tt class="FILENAME">/var</tt> by default. If
you do not have enough room there for the anticipated FTP needs, the <tt
class="FILENAME">/usr</tt> directory could be used by setting the FTP Root Directory to
<tt class="FILENAME">/usr/ftp</tt>.</p>

<p>When you are satisfied with the values, press <b class="KEYCAP">Enter</b> to
continue.</p>

<pre class="SCREEN">
                          User Confirmation Requested 
         Create a welcome message file for anonymous FTP users?

                              [ Yes ]    No
</pre>

<p>If you select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and press <b
class="KEYCAP">Enter</b>, an editor will automatically start allowing you to edit the
message.</p>

<div class="FIGURE"><a id="ANON-FTP4" name="ANON-FTP4"></a>
<p><b>Figure 2-35. Edit the FTP Welcome Message</b></p>

<p><img src="install/ftp-anon2.png" /></p>
</div>

<p>This is a text editor called <tt class="COMMAND">ee</tt>. Use the instructions to
change the message or change the message later using a text editor of your choice. Note
the file name/location at the bottom of the editor screen.</p>

<p>Press <b class="KEYCAP">Esc</b> and a pop-up menu will default to <span
class="GUIMENUITEM">a) leave editor</span>. Press <b class="KEYCAP">Enter</b> to exit and
continue. Press <b class="KEYCAP">Enter</b> again to save changes if you made any.</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="NFSCONF" name="NFSCONF">2.9.5 Configure Network File
System</a></h2>

<p>Network File System (NFS) allows sharing of files across a network. A machine can be
configured as a server, a client, or both. Refer to <a href="network-nfs.html">Section
25.3</a> for a more information.</p>

<div class="SECT3">
<h3 class="SECT3"><a id="NSF-SERVER-OPTIONS" name="NSF-SERVER-OPTIONS">2.9.5.1 NFS
Server</a></h3>

<pre class="SCREEN">
                       User Confirmation Requested
 Do you want to configure this machine as an NFS server? 

                              Yes    [ No ]
</pre>

<p>If there is no need for a Network File System server, select <span
class="GUIBUTTON">[&nbsp;No&nbsp;]</span> and press <b class="KEYCAP">Enter</b>.</p>

<p>If <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> is chosen, a message will pop-up
indicating that the <tt class="FILENAME">exports</tt> file must be created.</p>

<pre class="SCREEN">
                               Message
Operating as an NFS server means that you must first configure an
/etc/exports file to indicate which hosts are allowed certain kinds of
access to your local filesystems.
Press [Enter] now to invoke an editor on /etc/exports
                               [ OK ]
</pre>

<p>Press <b class="KEYCAP">Enter</b> to continue. A text editor will start allowing the
<tt class="FILENAME">exports</tt> file to be created and edited.</p>

<div class="FIGURE"><a id="NFS-SERVER-EDIT" name="NFS-SERVER-EDIT"></a>
<p><b>Figure 2-36. Editing <tt class="FILENAME">exports</tt></b></p>

<p><img src="install/nfs-server-edit.png" /></p>
</div>

<p>Use the instructions to add the actual exported filesystems now or later using a text
editor of your choice. Note the file name/location at the bottom of the editor
screen.</p>

<p>Press <b class="KEYCAP">Esc</b> and a pop-up menu will default to <span
class="GUIMENUITEM">a) leave editor</span>. Press <b class="KEYCAP">Enter</b> to exit and
continue.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="NFS-CLIENT-OPTIONS" name="NFS-CLIENT-OPTIONS">2.9.5.2 NFS
Client</a></h3>

<p>The NFS client allows your machine to access NFS servers.</p>

<pre class="SCREEN">
                       User Confirmation Requested
 Do you want to configure this machine as an NFS client? 

                              Yes   [ No ]
</pre>

<p>With the arrow keys, select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> or <span
class="GUIBUTTON">[&nbsp;No&nbsp;]</span> as appropriate and press <b
class="KEYCAP">Enter</b>.</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="SECURITYPROFILE" name="SECURITYPROFILE">2.9.6 Security
Profile</a></h2>

<p>A “security profile” is a set of configuration options that attempts to achieve the
desired ratio of security to convenience by enabling and disabling certain programs and
other settings. The more severe the security profile, the fewer programs will be enabled
by default. This is one of the basic principles of security: do not run anything except
what you must.</p>

<p>Please note that the security profile is just a default setting. All programs can be
enabled and disabled after you have installed FreeBSD by editing or adding the
appropriate line(s) to <tt class="FILENAME">/etc/rc.conf</tt>. For more information,
please see the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">rc.conf</span>(5)</span></a> manual
page.</p>

<p>The following table describes what each of the security profiles does. The columns are
the choices you have for a security profile, and the rows are the program or feature that
the profile enables or disables.</p>

<div class="TABLE"><a id="AEN2366" name="AEN2366"></a>
<p><b>Table 2-4. Possible Security Profiles</b></p>

<table border="1" class="CALSTABLE">
<col />
<col />
<col />
<thead>
<tr>
<th>&nbsp;</th>
<th>Extreme</th>
<th>Moderate</th>
</tr>
</thead>

<tbody>
<tr>
<td><a href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">sendmail</span>(8)</span></a></td>
<td>NO</td>
<td>YES</td>
</tr>

<tr>
<td><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;manpath=OpenBSD+3.4">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sshd</span>(8)</span></a></td>
<td>NO</td>
<td>YES</td>
</tr>

<tr>
<td><a href="http://www.FreeBSD.org/cgi/man.cgi?query=portmap&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">portmap</span>(8)</span></a></td>
<td>NO</td>
<td>MAYBE <a id="AEN2396" name="AEN2396" href="#FTN.AEN2396"><span
class="footnote">[a]</span></a> </td>
</tr>

<tr>
<td>NFS server</td>
<td>NO</td>
<td>YES</td>
</tr>

<tr>
<td><a href="http://www.FreeBSD.org/cgi/man.cgi?query=securelevel&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">securelevel</span>(8)</span></a></td>
<td>YES <a id="AEN2408" name="AEN2408" href="#FTN.AEN2408"><span
class="footnote">[b]</span></a> </td>
<td>NO</td>
</tr>
</tbody>

<tr>
<td colspan="3">Notes:<br />
<a id="FTN.AEN2396" name="FTN.AEN2396">a.</a> The portmapper is enabled if the machine
has been configured as an NFS client or server earlier in the installation.<br />
<a id="FTN.AEN2408" name="FTN.AEN2408">b.</a> If you choose a security profile that sets
the securelevel to “Extreme” or “High”, you must be aware of the implications. Please
read the <a href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">init</span>(8)</span></a> manual page
and pay particular attention to the meanings of the security levels, or you may have
significant trouble later!<br />
</td>
</tr>
</table>
</div>

<pre class="SCREEN">
                       User Confirmation Requested
 Do you want to select a default security profile for this host (select
 No for "medium" security)? 

                            [ Yes ]    No
</pre>

<p>Selecting <span class="GUIBUTTON">[&nbsp;No&nbsp;]</span> and pressing <b
class="KEYCAP">Enter</b> will set the security profile to medium.</p>

<p>Selecting <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and pressing <b
class="KEYCAP">Enter</b> will allow selecting a different security profile.</p>

<div class="FIGURE"><a id="SECURITY-PROFILE" name="SECURITY-PROFILE"></a>
<p><b>Figure 2-37. Security Profile Options</b></p>

<p><img src="install/security.png" /></p>
</div>

<p>Press <b class="KEYCAP">F1</b> to display the help. Press <b class="KEYCAP">Enter</b>
to return to selection menu.</p>

<p>Use the arrow keys to choose <span class="GUIMENUITEM">Medium</span> unless your are
sure that another level is required for your needs. With <span
class="GUIBUTTON">[&nbsp;OK&nbsp;]</span> highlighted, press <b
class="KEYCAP">Enter</b>.</p>

<p>An appropriate confirmation message will display depending on which security setting
was chosen.</p>

<pre class="SCREEN">
                                 Message

Moderate security settings have been selected.

Sendmail and SSHd have been enabled, securelevels are
disabled, and NFS server setting have been left intact.
PLEASE NOTE that this still does not save you from having
to properly secure your system in other ways or exercise
due diligence in your administration, this simply picks
a standard set of out-of-box defaults to start with.

To change any of these settings later, edit /etc/rc.conf

                                  [OK]
</pre>

<pre class="SCREEN">
                                 Message

Extreme security settings have been selected.

Sendmail, SSHd, and NFS services have been disabled, and
securelevels have been enabled.
PLEASE NOTE that this still does not save you from having
to properly secure your system in other ways or exercise
due diligence in your administration, this simply picks
a more secure set of out-of-box defaults to start with.

To change any of these settings later, edit /etc/rc.conf

                                  [OK]
</pre>

<p>Press <b class="KEYCAP">Enter</b> to continue with the post-installation
configuration.</p>

<div class="WARNING">
<blockquote class="WARNING">
<p><b>Warning:</b> The security profile is not a silver bullet! Even if you use the
extreme setting, you need to keep up with security issues by reading an appropriate
mailing list (<a href="eresources.html#ERESOURCES-MAIL">Section C.1</a>), using good
passwords and passphrases, and generally adhering to good security practices. It simply
sets up the desired security to convenience ratio out of the box.</p>
</blockquote>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="CONSOLE" name="CONSOLE">2.9.7 System Console Settings</a></h2>

<p>There are several options available to customize the system console.</p>

<pre class="SCREEN">
                      User Confirmation Requested 
       Would you like to customize your system console settings?

                              [ Yes ]  No
</pre>

<p>To view and configure the options, select <span
class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and press <b class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="SAVER-OPTIONS" name="SAVER-OPTIONS"></a>
<p><b>Figure 2-38. System Console Configuration Options</b></p>

<p><img src="install/console-saver1.png" /></p>
</div>

<p>A commonly used option is the screen saver. Use the arrow keys to select <span
class="GUIMENUITEM">Saver</span> and then press <b class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="SAVER-SELECT" name="SAVER-SELECT"></a>
<p><b>Figure 2-39. Screen Saver Options</b></p>

<p><img src="install/console-saver2.png" /></p>
</div>

<p>Select the desired screen saver using the arrow keys and then press <b
class="KEYCAP">Enter</b>. The System Console Configuration menu will redisplay.</p>

<p>The default time interval is 300 seconds. To change the time interval, select <span
class="GUIMENUITEM">Saver</span> again. At the Screen Saver Options menu, select <span
class="GUIMENUITEM">Timeout</span> using the arrow keys and press <b
class="KEYCAP">Enter</b>. A pop-up menu will appear:</p>

<div class="FIGURE"><a id="SAVER-TIMEOUT" name="SAVER-TIMEOUT"></a>
<p><b>Figure 2-40. Screen Saver Timeout</b></p>

<p><img src="install/console-saver3.png" /></p>
</div>

<p>The value can be changed, then select <span class="GUIBUTTON">[&nbsp;OK&nbsp;]</span>
and press <b class="KEYCAP">Enter</b> to return to the System Console Configuration
menu.</p>

<div class="FIGURE"><a id="SAVER-EXIT" name="SAVER-EXIT"></a>
<p><b>Figure 2-41. System Console Configuration Exit</b></p>

<p><img src="install/console-saver4.png" /></p>
</div>

<p>Selecting <span class="GUIMENUITEM">Exit</span> and pressing <b
class="KEYCAP">Enter</b> will continue with the post-installation configurations.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="TIMEZONE" name="TIMEZONE">2.9.8 Setting the Time Zone</a></h2>

<p>Setting the time zone for your machine will allow it to automatically correct for any
regional time changes and perform other time zone related functions properly.</p>

<p>The example shown is for a machine located in the Eastern time zone of the United
States. Your selections will vary according to your geographical location.</p>

<pre class="SCREEN">
                      User Confirmation Requested 
          Would you like to set this machine's time zone now?

                            [ Yes ]   No
</pre>

<p>Select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and press <b
class="KEYCAP">Enter</b> to set the time zone.</p>

<pre class="SCREEN">
                       User Confirmation Requested
 Is this machine's CMOS clock set to UTC? If it is set to local time
 or you don't know, please choose NO here! 

                              Yes   [ No ]
</pre>

<p>Select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> or <span
class="GUIBUTTON">[&nbsp;No&nbsp;]</span> according to how the machine's clock is
configured and press <b class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="SET-TIMEZONE-REGION" name="SET-TIMEZONE-REGION"></a>
<p><b>Figure 2-42. Select Your Region</b></p>

<p><img src="install/timezone1.png" /></p>
</div>

<p>The appropriate region is selected using the arrow keys and then pressing <b
class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="SET-TIMEZONE-COUNTRY" name="SET-TIMEZONE-COUNTRY"></a>
<p><b>Figure 2-43. Select Your Country</b></p>

<p><img src="install/timezone2.png" /></p>
</div>

<p>Select the appropriate country using the arrow keys and press <b
class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="SET-TIMEZONE-LOCALITY" name="SET-TIMEZONE-LOCALITY"></a>
<p><b>Figure 2-44. Select Your Time Zone</b></p>

<p><img src="install/timezone3.png" /></p>
</div>

<p>The appropriate time zone is selected using the arrow keys and pressing <b
class="KEYCAP">Enter</b>.</p>

<pre class="SCREEN">
                            Confirmation 
            Does the abbreviation 'EDT' look reasonable?

                            [ Yes ]   No
</pre>

<p>Confirm the abbreviation for the time zone is correct. If it looks okay, press <b
class="KEYCAP">Enter</b> to continue with the post-installation configuration.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="LINUXCOMP" name="LINUXCOMP">2.9.9 Linux Compatibility</a></h2>

<pre class="SCREEN">
                      User Confirmation Requested 
          Would you like to enable Linux binary compatibility?

                            [ Yes ]   No
</pre>

<p>Selecting <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and pressing <b
class="KEYCAP">Enter</b> will allow running Linux software on FreeBSD. The install will
add the appropriate packages for Linux compatibility.</p>

<p>If installing by FTP, the machine will need to be connected to the Internet. Sometimes
a remote ftp site will not have all the distributions like the Linux binary
compatibility. This can be installed later if necessary.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="MOUSE" name="MOUSE">2.9.10 Mouse Settings</a></h2>

<p>This option will allow you to cut and paste text in the console and user programs with
a 3-button mouse. If using a 2-button mouse, refer to manual page, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">moused</span>(8)</span></a>, after
installation for details on emulating the 3-button style. This example depicts a non-USB
mouse configuration (such as a PS/2 or COM port mouse):</p>

<pre class="SCREEN">
                      User Confirmation Requested 
         Does this system have a non-USB mouse attached to it?

                            [ Yes ]    No
</pre>

<p>Select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> for a non-USB mouse or <span
class="GUIBUTTON">[&nbsp;No&nbsp;]</span> for a USB mouse and press <b
class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="MOUSE-PROTOCOL" name="MOUSE-PROTOCOL"></a>
<p><b>Figure 2-45. Select Mouse Protocol Type</b></p>

<p><img src="install/mouse1.png" /></p>
</div>

<p>Use the arrow keys to select <span class="GUIMENUITEM">Type</span> and press <b
class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="SET-MOUSE-PROTOCOL" name="SET-MOUSE-PROTOCOL"></a>
<p><b>Figure 2-46. Set Mouse Protocol</b></p>

<p><img src="install/mouse2.png" /></p>
</div>

<p>The mouse used in this example is a PS/2 type, so the default <span
class="GUIMENUITEM">Auto</span> was appropriate. To change protocol, use the arrow keys
to select another option. Ensure that <span class="GUIBUTTON">[&nbsp;OK&nbsp;]</span> is
highlighted and press <b class="KEYCAP">Enter</b> to exit this menu.</p>

<div class="FIGURE"><a id="CONFIG-MOUSE-PORT" name="CONFIG-MOUSE-PORT"></a>
<p><b>Figure 2-47. Configure Mouse Port</b></p>

<p><img src="install/mouse3.png" /></p>
</div>

<p>Use the arrow keys to select <span class="GUIMENUITEM">Port</span> and press <b
class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="SET-MOUSE-PORT" name="SET-MOUSE-PORT"></a>
<p><b>Figure 2-48. Setting the Mouse Port</b></p>

<p><img src="install/mouse4.png" /></p>
</div>

<p>This system had a PS/2 mouse, so the default <span class="GUIMENUITEM">PS/2</span> was
appropriate. To change the port, use the arrow keys and then press <b
class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="TEST-DAEMON" name="TEST-DAEMON"></a>
<p><b>Figure 2-49. Enable the Mouse Daemon</b></p>

<p><img src="install/mouse5.png" /></p>
</div>

<p>Last, use the arrow keys to select <span class="GUIMENUITEM">Enable</span>, and press
<b class="KEYCAP">Enter</b> to enable and test the mouse daemon.</p>

<div class="FIGURE"><a id="TEST-MOUSE-DAEMON" name="TEST-MOUSE-DAEMON"></a>
<p><b>Figure 2-50. Test the Mouse Daemon</b></p>

<p><img src="install/mouse6.png" /></p>
</div>

<p>Move the mouse around the screen and verify the cursor shown responds properly. If it
does, select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and press <b
class="KEYCAP">Enter</b>. If not, the mouse has not been configured correctly -- select
<span class="GUIBUTTON">[&nbsp;No&nbsp;]</span> and try using different configuration
options.</p>

<p>Select <span class="GUIMENUITEM">Exit</span> with the arrow keys and press <b
class="KEYCAP">Enter</b> to return to continue with the post-installation
configuration.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="NETWORK-SERVICES" name="NETWORK-SERVICES">2.9.11 Configure
Additional Network Services</a></h2>

<i class="AUTHORGROUP"><span class="CONTRIB">Contributed by</span> Tom Rhodes.</i> 

<p>Configuring network services can be a daunting task for new users if they lack
previous knowledge in this area. Networking, including the Internet, is critical to all
modern operating systems including FreeBSD; as a result, it is very useful to have some
understanding FreeBSD's extensive networking capabilities. Doing this during the
installation will ensure users have some understanding of the various services available
to them.</p>

<p>Network services are programs that accept input from anywhere on the network. Every
effort is made to make sure these programs will not do anything “harmful”.
Unfortunately, programmers are not perfect and through time there have been cases where
bugs in network services have been exploited by attackers to do bad things. It is
important that you only enable the network services you know that you need. If in doubt
it is best if you do not enable a network service until you find out that you do need it.
You can always enable it later by re-running <b class="APPLICATION">sysinstall</b> or by
using the features provided by the <tt class="FILENAME">/etc/rc.conf</tt> file.</p>

<p>Selecting the <span class="GUIMENU">Networking</span> option will display a menu
similar to the one below:</p>

<div class="FIGURE"><a id="NETWORK-CONFIGURATION" name="NETWORK-CONFIGURATION"></a>
<p><b>Figure 2-51. Network Configuration Upper-level</b></p>

<p><img src="install/net-config-menu1.png" /></p>
</div>

<p>The first option, <span class="GUIMENUITEM">Interfaces</span>, was previously covered
during the <a href="install-post.html#INST-NETWORK-DEV">Section 2.9.1</a>, thus this
option can safely be ignored.</p>

<p>Selecting the <span class="GUIMENUITEM">AMD</span> option adds support for the
<acronym class="ACRONYM">BSD</acronym> automatic mount utility. This is usually used in
conjunction with the <acronym class="ACRONYM">NFS</acronym> protocol (see below) for
automatically mounting remote file systems. No special configuration is required
here.</p>

<p>Next in line is the <span class="GUIMENUITEM">AMD Flags</span> option. When selected,
a menu will pop up for you to enter specific <acronym class="ACRONYM">AMD</acronym>
flags. The menu already contains a set of default options:</p>

<pre class="SCREEN">
-a /.amd_mnt -l syslog /host /etc/amd.map /net /etc/amd.map
</pre>

<p>The <code class="OPTION">-a</code> option sets the default mount location which is
specified here as <tt class="FILENAME">/.amd_mnt</tt>. The <code class="OPTION">-l</code>
option specifies the default <tt class="FILENAME">log</tt> file; however, when <tt
class="LITERAL">syslogd</tt> is used all log activity will be sent to the system log
daemon. The <tt class="FILENAME">/host</tt> directory is used to mount an exported file
system from a remote host, while <tt class="FILENAME">/net</tt> directory is used to
mount an exported file system from an <acronym class="ACRONYM">IP</acronym> address. The
<tt class="FILENAME">/etc/amd.map</tt> file defines the default options for <acronym
class="ACRONYM">AMD</acronym> exports.</p>

<p>The <span class="GUIMENUITEM">Anon FTP</span> option permits anonymous <acronym
class="ACRONYM">FTP</acronym> connections. Select this option to make this machine an
anonymous <acronym class="ACRONYM">FTP</acronym> server. Be aware of the security risks
involved with this option. Another menu will be displayed to explain the security risks
and configuration in depth.</p>

<p>The <span class="GUIMENUITEM">Gateway</span> configuration menu will set the machine
up to be a gateway as explained previously. This can be used to unset the <span
class="GUIMENUITEM">Gateway</span> option if you accidentally selected it during the
installation process.</p>

<p>The <span class="GUIMENUITEM">Inetd</span> option can be used to configure or
completely disable the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=inetd&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">inetd</span>(8)</span></a> daemon as
discussed above.</p>

<p>The <span class="GUIMENUITEM">Mail</span> option is used to configure the system's
default <acronym class="ACRONYM">MTA</acronym> or Mail Transfer Agent. Selecting this
option will bring up the following menu:</p>

<div class="FIGURE"><a id="MTA-SELECTION" name="MTA-SELECTION"></a>
<p><b>Figure 2-52. Select a default MTA</b></p>

<p><img src="install/mta-main.png" /></p>
</div>

<p>Here you are offered a choice as to which <acronym class="ACRONYM">MTA</acronym> to
install and set as the default. An <acronym class="ACRONYM">MTA</acronym> is nothing more
than a mail server which delivers email to users on the system or the Internet.</p>

<p>Selecting <span class="GUIMENUITEM">Sendmail</span> will install the popular <b
class="APPLICATION">sendmail</b> server which is the FreeBSD default. The <span
class="GUIMENUITEM">Sendmail local</span> option will set <b
class="APPLICATION">sendmail</b> to be the default <acronym
class="ACRONYM">MTA</acronym>, but disable its ability to receive incoming email from the
Internet. The other options here, <span class="GUIMENUITEM">Postfix</span> and <span
class="GUIMENUITEM">Exim</span> act similar to <span class="GUIMENUITEM">Sendmail</span>.
They both deliver email; however, some users prefer these alternatives to the <b
class="APPLICATION">sendmail</b> <acronym class="ACRONYM">MTA</acronym>.</p>

<p>After selecting an <acronym class="ACRONYM">MTA</acronym>, or choosing not to select
an MTA, the network configuration menu will appear with the next option being <span
class="GUIMENUITEM">NFS client</span>.</p>

<p>The <span class="GUIMENUITEM">NFS client</span> option will configure the system to
communicate with a server via <acronym class="ACRONYM">NFS</acronym>. An <acronym
class="ACRONYM">NFS</acronym> server makes file systems available to other machines on
the network via the <acronym class="ACRONYM">NFS</acronym> protocol. If this is a stand
alone machine, this option can remain unselected. The system may require more
configuration later; see <a href="network-nfs.html">Section 25.3</a> for more information
about client and server configuration.</p>

<p>Below that option is the <span class="GUIMENUITEM">NFS server</span> option,
permitting you to set the system up as an <acronym class="ACRONYM">NFS</acronym> server.
This adds the required information to start up the <acronym class="ACRONYM">RPC</acronym>
remote procedure call services. <acronym class="ACRONYM">RPC</acronym> is used to
coordinate connections between hosts and programs.</p>

<p>Next in line is the <span class="GUIMENUITEM">Ntpdate</span> option, which deals with
time synchronization. When selected, a menu like the one below shows up:</p>

<div class="FIGURE"><a id="NTPDATE-CONFIG" name="NTPDATE-CONFIG"></a>
<p><b>Figure 2-53. Ntpdate Configuration</b></p>

<p><img src="install/ntp-config.png" /></p>
</div>

<p>From this menu, select the server which is the closest to your location. Selecting a
close one will make the time synchronization more accurate as a server further from your
location may have more connection latency.</p>

<p>The next option is the <acronym class="ACRONYM">PCNFSD</acronym> selection. This
option will install the <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/net/pcnfsd/pkg-descr"><tt
class="FILENAME">net/pcnfsd</tt></a> package from the Ports Collection. This is a useful
utility which provides <acronym class="ACRONYM">NFS</acronym> authentication services for
systems which are unable to provide their own, such as Microsoft's <span
class="TRADEMARK">MS-DOS</span>&reg; operating system.</p>

<p>Now you must scroll down a bit to see the other options:</p>

<div class="FIGURE"><a id="NETWORK-CONFIGURATION-CONT"
name="NETWORK-CONFIGURATION-CONT"></a>
<p><b>Figure 2-54. Network Configuration Lower-level</b></p>

<p><img src="install/net-config-menu2.png" /></p>
</div>

<p>The <a href="http://www.FreeBSD.org/cgi/man.cgi?query=rpcbind&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">rpcbind</span>(8)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rpc.statd&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">rpc.statd</span>(8)</span></a>, and <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rpc.lockd&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">rpc.lockd</span>(8)</span></a> utilities
are all used for Remote Procedure Calls (<acronym class="ACRONYM">RPC</acronym>). The <tt
class="COMMAND">rpcbind</tt> utility manages communication between <acronym
class="ACRONYM">NFS</acronym> servers and clients, and is required for <acronym
class="ACRONYM">NFS</acronym> servers to operate correctly. The <b
class="APPLICATION">rpc.statd</b> daemon interacts with the <b
class="APPLICATION">rpc.statd</b> daemon on other hosts to provide status monitoring. The
reported status is usually held in the <tt class="FILENAME">/var/db/statd.status</tt>
file. The next option listed here is the <span class="GUIMENUITEM">rpc.lockd</span>
option, which, when selected, will provide file locking services. This is usually used
with <b class="APPLICATION">rpc.statd</b> to monitor what hosts are requesting locks and
how frequently they request them. While these last two options are marvelous for
debugging, they are not required for <acronym class="ACRONYM">NFS</acronym> servers and
clients to operate correctly.</p>

<p>As you progress down the list the next item here is <span
class="GUIMENUITEM">Routed</span>, which is the routing daemon. The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=routed&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">routed</span>(8)</span></a> utility
manages network routing tables, discovers multicast routers, and supplies a copy of the
routing tables to any physically connected host on the network upon request. This is
mainly used for machines which act as a gateway for the local network. When selected, a
menu will be presented requesting the default location of the utility. The default
location is already defined for you and can be selected with the <b
class="KEYCAP">Enter</b> key. You will then be presented with yet another menu, this time
asking for the flags you wish to pass on to <b class="APPLICATION">routed</b>. The
default is <code class="OPTION">-q</code> and it should already appear on the screen.</p>

<p>Next in line is the <span class="GUIMENUITEM">Rwhod</span> option which, when
selected, will start the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rwhod&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">rwhod</span>(8)</span></a> daemon during
system initialization. The <tt class="COMMAND">rwhod</tt> utility broadcasts system
messages across the network periodically, or collects them when in “consumer” mode.
More information can be found in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ruptime&amp;sektion=1"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">ruptime</span>(1)</span></a> and <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rwho&amp;sektion=1"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">rwho</span>(1)</span></a> manual
pages.</p>

<p>The next to the last option in the list is for the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;manpath=OpenBSD+3.4">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sshd</span>(8)</span></a> daemon.
This is the secure shell server for <b class="APPLICATION">OpenSSH</b> and it is highly
recommended over the standard <b class="APPLICATION">telnet</b> and <acronym
class="ACRONYM">FTP</acronym> servers. The <b class="APPLICATION">sshd</b> server is used
to create a secure connection from one host to another by using encrypted
connections.</p>

<p>Finally there is the <span class="GUIMENUITEM">TCP Extensions</span> option. This
enables the <acronym class="ACRONYM">TCP</acronym> Extensions defined in <acronym
class="ACRONYM">RFC</acronym>&nbsp;1323 and <acronym
class="ACRONYM">RFC</acronym>&nbsp;1644. While on many hosts this can speed up
connections, it can also cause some connections to be dropped. It is not recommended for
servers, but may be beneficial for stand alone machines.</p>

<p>Now that you have configured the network services, you can scroll up to the very top
item which is <span class="GUIMENUITEM">Exit</span> and continue on to the next
configuration section.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="X-SERVER" name="X-SERVER">2.9.12 Configure X Server</a></h2>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Note:</b> As of FreeBSD&nbsp;5.3-RELEASE, the X server configuration facility has
been removed from <b class="APPLICATION">sysinstall</b>, you have to install and
configure the X server after the installation of FreeBSD. More information regarding the
installation and the configuration of a X server can be found in <a
href="x11.html">Chapter 5</a>. You can skip this section if you are not installing a
FreeBSD version prior to 5.3-RELEASE.</p>
</blockquote>
</div>

<p>In order to use a graphical user interface such as <b class="APPLICATION">KDE</b>, <b
class="APPLICATION">GNOME</b>, or others, the X server will need to be configured.</p>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Note:</b> In order to run <b class="APPLICATION"><span
class="TRADEMARK">XFree86</span>&#8482;</b> as a non <tt class="USERNAME">root</tt> user
you will need to have <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/x11/wrapper/pkg-descr"><tt
class="FILENAME">x11/wrapper</tt></a> installed. This is installed by default beginning
with FreeBSD 4.7. For earlier versions this can be added from the Package Selection
menu.</p>
</blockquote>
</div>

<p>To see whether your video card is supported, check the <a
href="http://www.xfree86.org/" target="_top"><span class="TRADEMARK">XFree86</span></a>
web site.</p>

<pre class="SCREEN">
                      User Confirmation Requested 
        Would you like to configure your X server at this time?

                            [ Yes ]   No
</pre>

<div class="WARNING">
<blockquote class="WARNING">
<p><b>Warning:</b> It is necessary to know your monitor specifications and video card
information. Equipment damage can occur if settings are incorrect. If you do not have
this information, select <span class="GUIBUTTON">[&nbsp;No&nbsp;]</span> and perform the
configuration after installation when you have the information using <tt
class="COMMAND">sysinstall</tt> (<tt class="COMMAND">/stand/sysinstall</tt> in FreeBSD
versions older than 5.2), selecting <span class="GUIMENUITEM">Configure</span> and then
<span class="GUIMENUITEM">XFree86</span>. Improper configuration of the X server at this
time can leave the machine in a frozen state. It is often advised to configure the X
server once the installation has completed.</p>
</blockquote>
</div>

<p>If you have graphics card and monitor information, select <span
class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and press <b class="KEYCAP">Enter</b> to
proceed with configuring the X server.</p>

<div class="FIGURE"><a id="XSERVER2" name="XSERVER2"></a>
<p><b>Figure 2-55. Select Configuration Method Menu</b></p>

<p><img src="install/xf86setup.png" /></p>
</div>

<p>There are several ways to configure the X server. Use the arrow keys to select one of
the methods and press <b class="KEYCAP">Enter</b>. Be sure to read all instructions
carefully.</p>

<p>The <b class="APPLICATION">xf86cfg</b> and <b class="APPLICATION">xf86cfg
-textmode</b> methods may make the screen go dark and take a few seconds to start. Be
patient.</p>

<p>The following will illustrate the use of the <b class="APPLICATION">xf86config</b>
configuration tool. The configuration choices you make will depend on the hardware in the
system so your choices will probably be different than those shown:</p>

<pre class="SCREEN">
                                Message
 You have configured and been running the mouse daemon. 
 Choose "/dev/sysmouse" as the mouse port and "SysMouse" or
 "MouseSystems" as the mouse protocol in the X configuration utility. 

                                 [ OK ]

                      [ Press enter to continue ]
</pre>

<p>This indicates that the mouse daemon previously configured has been detected. Press <b
class="KEYCAP">Enter</b> to continue.</p>

<p>Starting <b class="APPLICATION">xf86config</b> will display a brief introduction:</p>

<pre class="SCREEN">
This program will create a basic XF86Config file, based on menu selections you
make.

The XF86Config file usually resides in /usr/X11R6/etc/X11 or /etc/X11. A sample
XF86Config file is supplied with XFree86; it is configured for a standard
VGA card and monitor with 640x480 resolution. This program will ask for a
pathname when it is ready to write the file.

You can either take the sample XF86Config as a base and edit it for your
configuration, or let this program produce a base XF86Config file for your
configuration and fine-tune it.

Before continuing with this program, make sure you know what video card
you have, and preferably also the chipset it uses and the amount of video
memory on your video card. SuperProbe may be able to help with this.

Press enter to continue, or ctrl-c to abort.
</pre>

<p>Pressing <b class="KEYCAP">Enter</b> will start the mouse configuration. Be sure to
follow the instructions and use “Mouse Systems” as the mouse protocol and <tt
class="FILENAME">/dev/sysmouse</tt> as the mouse port even if using a PS/2 mouse is shown
as an illustration.</p>

<pre class="SCREEN">
First specify a mouse protocol type. Choose one from the following list:

 1.  Microsoft compatible (2-button protocol)
 2.  Mouse Systems (3-button protocol) &#38; FreeBSD moused protocol
 3.  Bus Mouse
 4.  PS/2 Mouse
 5.  Logitech Mouse (serial, old type, Logitech protocol)
 6.  Logitech MouseMan (Microsoft compatible)
 7.  MM Series
 8.  MM HitTablet
 9.  Microsoft IntelliMouse

If you have a two-button mouse, it is most likely of type 1, and if you have
a three-button mouse, it can probably support both protocol 1 and 2. There are
two main varieties of the latter type: mice with a switch to select the
protocol, and mice that default to 1 and require a button to be held at
boot-time to select protocol 2. Some mice can be convinced to do 2 by sending
a special sequence to the serial port (see the ClearDTR/ClearRTS options).

Enter a protocol number: 2

You have selected a Mouse Systems protocol mouse. If your mouse is normally
in Microsoft-compatible mode, enabling the ClearDTR and ClearRTS options
may cause it to switch to Mouse Systems mode when the server starts.

Please answer the following question with either 'y' or 'n'.
Do you want to enable ClearDTR and ClearRTS? n

You have selected a three-button mouse protocol. It is recommended that you
do not enable Emulate3Buttons, unless the third button doesn't work.

Please answer the following question with either 'y' or 'n'.
Do you want to enable Emulate3Buttons? y

Now give the full device name that the mouse is connected to, for example
/dev/tty00. Just pressing enter will use the default, /dev/mouse.
On FreeBSD, the default is /dev/sysmouse.

Mouse device: /dev/sysmouse
</pre>

<p>The keyboard is the next item to be configured. A generic 101-key model is shown for
illustration. Any name may be used for the variant or simply press <b
class="KEYCAP">Enter</b> to accept the default value.</p>

<pre class="SCREEN">
Please select one of the following keyboard types that is the better
description of your keyboard. If nothing really matches,
choose 1 (Generic 101-key PC)

  1  Generic 101-key PC                                
  2  Generic 102-key (Intl) PC                         
  3  Generic 104-key PC                                
  4  Generic 105-key (Intl) PC                         
  5  Dell 101-key PC                                   
  6  Everex STEPnote                                   
  7  Keytronic FlexPro                                 
  8  Microsoft Natural                                 
  9  Northgate OmniKey 101                             
 10  Winbook Model XP5                                 
 11  Japanese 106-key                                  
 12  PC-98xx Series                                    
 13  Brazilian ABNT2                                   
 14  HP Internet                                       
 15  Logitech iTouch                                   
 16  Logitech Cordless Desktop Pro                     
 17  Logitech Internet Keyboard                        
 18  Logitech Internet Navigator Keyboard              
 19  Compaq Internet                                   
 20  Microsoft Natural Pro                             
 21  Genius Comfy KB-16M                               
 22  IBM Rapid Access                                  
 23  IBM Rapid Access II                               
 24  Chicony Internet Keyboard                         
 25  Dell Internet Keyboard                            

Enter a number to choose the keyboard.

1


Please select the layout corresponding to your keyboard


  1  U.S. English                                      
  2  U.S. English w/ ISO9995-3                         
  3  U.S. English w/ deadkeys                          
  4  Albanian                                          
  5  Arabic                                            
  6  Armenian                                          
  7  Azerbaidjani                                      
  8  Belarusian                                        
  9  Belgian                                           
 10  Bengali                                           
 11  Brazilian                                         
 12  Bulgarian                                         
 13  Burmese                                           
 14  Canadian                                          
 15  Croatian                                          
 16  Czech                                             
 17  Czech (qwerty)                                    
 18  Danish                                            

Enter a number to choose the country.
Press enter for the next page

1


Please enter a variant name for 'us' layout. Or just press enter
for default variant

us


Please answer the following question with either 'y' or 'n'.
Do you want to select additional XKB options (group switcher,
group indicator, etc.)? n
</pre>

<p>Next, we proceed to the configuration for the monitor. Do not exceed the ratings of
your monitor. Damage could occur. If you have any doubts, do the configuration after you
have the information.</p>

<pre class="SCREEN">
Now we want to set the specifications of the monitor. The two critical
parameters are the vertical refresh rate, which is the rate at which the
whole screen is refreshed, and most importantly the horizontal sync rate,
which is the rate at which scanlines are displayed.

The valid range for horizontal sync and vertical sync should be documented
in the manual of your monitor. If in doubt, check the monitor database
/usr/X11R6/lib/X11/doc/Monitors to see if your monitor is there.

Press enter to continue, or ctrl-c to abort.



You must indicate the horizontal sync range of your monitor. You can either
select one of the predefined ranges below that correspond to industry-
standard monitor types, or give a specific range.

It is VERY IMPORTANT that you do not specify a monitor type with a horizontal
sync range that is beyond the capabilities of your monitor. If in doubt,
choose a conservative setting.

    hsync in kHz; monitor type with characteristic modes
 1  31.5; Standard VGA, 640x480 @ 60 Hz
 2  31.5 - 35.1; Super VGA, 800x600 @ 56 Hz
 3  31.5, 35.5; 8514 Compatible, 1024x768 @ 87 Hz interlaced (no 800x600)
 4  31.5, 35.15, 35.5; Super VGA, 1024x768 @ 87 Hz interlaced, 800x600 @ 56 Hz
 5  31.5 - 37.9; Extended Super VGA, 800x600 @ 60 Hz, 640x480 @ 72 Hz
 6  31.5 - 48.5; Non-Interlaced SVGA, 1024x768 @ 60 Hz, 800x600 @ 72 Hz
 7  31.5 - 57.0; High Frequency SVGA, 1024x768 @ 70 Hz
 8  31.5 - 64.3; Monitor that can do 1280x1024 @ 60 Hz
 9  31.5 - 79.0; Monitor that can do 1280x1024 @ 74 Hz
10  31.5 - 82.0; Monitor that can do 1280x1024 @ 76 Hz
11  Enter your own horizontal sync range

Enter your choice (1-11): 6

You must indicate the vertical sync range of your monitor. You can either
select one of the predefined ranges below that correspond to industry-
standard monitor types, or give a specific range. For interlaced modes,
the number that counts is the high one (e.g. 87 Hz rather than 43 Hz).

 1  50-70
 2  50-90
 3  50-100
 4  40-150
 5  Enter your own vertical sync range

Enter your choice: 2

You must now enter a few identification/description strings, namely an
identifier, a vendor name, and a model name. Just pressing enter will fill
in default names.

The strings are free-form, spaces are allowed.
Enter an identifier for your monitor definition: Hitachi
</pre>

<p>The selection of a video card driver from a list is next. If you pass your card on the
list, continue to press <b class="KEYCAP">Enter</b> and the list will repeat. Only an
excerpt from the list is shown:</p>

<pre class="SCREEN">
Now we must configure video card specific settings. At this point you can
choose to make a selection out of a database of video card definitions.
Because there can be variation in Ramdacs and clock generators even
between cards of the same model, it is not sensible to blindly copy
the settings (e.g. a Device section). For this reason, after you make a
selection, you will still be asked about the components of the card, with
the settings from the chosen database entry presented as a strong hint.

The database entries include information about the chipset, what driver to
run, the Ramdac and ClockChip, and comments that will be included in the
Device section. However, a lot of definitions only hint about what driver
to run (based on the chipset the card uses) and are untested.

If you can't find your card in the database, there's nothing to worry about.
You should only choose a database entry that is exactly the same model as
your card; choosing one that looks similar is just a bad idea (e.g. a
GemStone Snail 64 may be as different from a GemStone Snail 64+ in terms of
hardware as can be).

Do you want to look at the card database? y



288  Matrox Millennium G200 8MB                        mgag200
289  Matrox Millennium G200 SD 16MB                    mgag200
290  Matrox Millennium G200 SD 4MB                     mgag200
291  Matrox Millennium G200 SD 8MB                     mgag200
292  Matrox Millennium G400                            mgag400
293  Matrox Millennium II 16MB                         mga2164w
294  Matrox Millennium II 4MB                          mga2164w
295  Matrox Millennium II 8MB                          mga2164w
296  Matrox Mystique                                   mga1064sg
297  Matrox Mystique G200 16MB                         mgag200
298  Matrox Mystique G200 4MB                          mgag200
299  Matrox Mystique G200 8MB                          mgag200
300  Matrox Productiva G100 4MB                        mgag100
301  Matrox Productiva G100 8MB                        mgag100
302  MediaGX                                           mediagx
303  MediaVision Proaxcel 128                          ET6000
304  Mirage Z-128                                      ET6000
305  Miro CRYSTAL VRX                                  Verite 1000

Enter a number to choose the corresponding card definition.
Press enter for the next page, q to continue configuration.

288

Your selected card definition:

Identifier: Matrox Millennium G200 8MB
Chipset:    mgag200
Driver:     mga
Do NOT probe clocks or use any Clocks line.

Press enter to continue, or ctrl-c to abort.



Now you must give information about your video card. This will be used for
the "Device" section of your video card in XF86Config.

You must indicate how much video memory you have. It is probably a good
idea to use the same approximate amount as that detected by the server you
intend to use. If you encounter problems that are due to the used server
not supporting the amount memory you have (e.g. ATI Mach64 is limited to
1024K with the SVGA server), specify the maximum amount supported by the
server.

How much video memory do you have on your video card:

 1  256K
 2  512K
 3  1024K
 4  2048K
 5  4096K
 6  Other

Enter your choice: 6

Amount of video memory in Kbytes: 8192

You must now enter a few identification/description strings, namely an
identifier, a vendor name, and a model name. Just pressing enter will fill
in default names (possibly from a card definition).

Your card definition is Matrox Millennium G200 8MB.

The strings are free-form, spaces are allowed.
Enter an identifier for your video card definition:
</pre>

<p>Next, the video modes are set for the resolutions desired. Typically, useful ranges
are 640x480, 800x600, and 1024x768 but those are a function of video card capability,
monitor size, and eye comfort. When selecting a color depth, select the highest mode that
your card will support.</p>

<pre class="SCREEN">
For each depth, a list of modes (resolutions) is defined. The default
resolution that the server will start-up with will be the first listed
mode that can be supported by the monitor and card.
Currently it is set to:

"640x480" "800x600" "1024x768" "1280x1024" for 8-bit
"640x480" "800x600" "1024x768" "1280x1024" for 16-bit
"640x480" "800x600" "1024x768" "1280x1024" for 24-bit

Modes that cannot be supported due to monitor or clock constraints will
be automatically skipped by the server.

 1  Change the modes for 8-bit (256 colors)
 2  Change the modes for 16-bit (32K/64K colors)
 3  Change the modes for 24-bit (24-bit color)
 4  The modes are OK, continue.

Enter your choice: 2

Select modes from the following list:

 1  "640x400"
 2  "640x480"
 3  "800x600"
 4  "1024x768"
 5  "1280x1024"
 6  "320x200"
 7  "320x240"
 8  "400x300"
 9  "1152x864"
 a  "1600x1200"
 b  "1800x1400"
 c  "512x384"

Please type the digits corresponding to the modes that you want to select.
For example, 432 selects "1024x768" "800x600" "640x480", with a
default mode of 1024x768.

Which modes? 432

You can have a virtual screen (desktop), which is screen area that is larger
than the physical screen and which is panned by moving the mouse to the edge
of the screen. If you don't want virtual desktop at a certain resolution,
you cannot have modes listed that are larger. Each color depth can have a
differently-sized virtual screen

Please answer the following question with either 'y' or 'n'.
Do you want a virtual screen that is larger than the physical screen? n



For each depth, a list of modes (resolutions) is defined. The default
resolution that the server will start-up with will be the first listed
mode that can be supported by the monitor and card.
Currently it is set to:

"640x480" "800x600" "1024x768" "1280x1024" for 8-bit
"1024x768" "800x600" "640x480" for 16-bit
"640x480" "800x600" "1024x768" "1280x1024" for 24-bit

Modes that cannot be supported due to monitor or clock constraints will
be automatically skipped by the server.

 1  Change the modes for 8-bit (256 colors)
 2  Change the modes for 16-bit (32K/64K colors)
 3  Change the modes for 24-bit (24-bit color)
 4  The modes are OK, continue.

Enter your choice: 4



Please specify which color depth you want to use by default:

  1  1 bit (monochrome)                                
  2  4 bits (16 colors)                                
  3  8 bits (256 colors)                               
  4  16 bits (65536 colors)                            
  5  24 bits (16 million colors)                       

Enter a number to choose the default depth.

4
</pre>

<p>Finally, the configuration needs to be saved. Be sure to enter <tt
class="FILENAME">/etc/X11/XF86Config</tt> as the location for saving the
configuration.</p>

<pre class="SCREEN">
I am going to write the XF86Config file now. Make sure you don't accidently
overwrite a previously configured one.

Shall I write it to /etc/X11/XF86Config? y
</pre>

<p>If the configuration fails, you can try the configuration again by selecting <span
class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> when the following message appears:</p>

<pre class="SCREEN">
          User Confirmation Requested
The XFree86 configuration process seems to have
failed.  Would you like to try again?

             [ Yes ]         No
</pre>

<p>If you have trouble configuring <b class="APPLICATION"><span
class="TRADEMARK">XFree86</span></b>, select <span
class="GUIBUTTON">[&nbsp;No&nbsp;]</span> and press <b class="KEYCAP">Enter</b> and
continue with the installation process. After installation you can use <tt
class="COMMAND">xf86cfg -textmode</tt> or <tt class="COMMAND">xf86config</tt> to access
the command line configuration utilities as <tt class="USERNAME">root</tt>. There is an
additional method for configuring <b class="APPLICATION"><span
class="TRADEMARK">XFree86</span></b> described in <a href="x11.html">Chapter 5</a>. If
you choose not to configure <b class="APPLICATION"><span
class="TRADEMARK">XFree86</span></b> at this time the next menu will be for package
selection.</p>

<p>The default setting which allows the server to be killed is the hotkey sequence <b
class="KEYCAP">Ctrl</b>+<b class="KEYCAP">Alt</b>+<b class="KEYCAP">Backspace</b>. This
can be executed if something is wrong with the server settings and prevent hardware
damage.</p>

<p>The default setting that allows video mode switching will permit changing of the mode
while running X with the hotkey sequence <b class="KEYCAP">Ctrl</b>+<b
class="KEYCAP">Alt</b>+<b class="KEYCAP">+</b> or <b class="KEYCAP">Ctrl</b>+<b
class="KEYCAP">Alt</b>+<b class="KEYCAP">-</b>.</p>

<p>After you have <b class="APPLICATION"><span class="TRADEMARK">XFree86</span></b>
running, the display can be adjusted for height, width, or centering by using <b
class="APPLICATION">xvidtune</b>.</p>

<p>There are warnings that improper settings can damage your equipment. Heed them. If in
doubt, do not do it. Instead, use the monitor controls to adjust the display for X
Window. There may be some display differences when switching back to text mode, but it is
better than damaging equipment.</p>

<p>Read the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=xvidtune&amp;sektion=1&amp;manpath=XFree86+4.4.0">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">xvidtune</span>(1)</span></a>
manual page before making any adjustments.</p>

<p>Following a successful <b class="APPLICATION"><span
class="TRADEMARK">XFree86</span></b> configuration, it will proceed to the selection of a
default desktop.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="DEFAULT-DESKTOP" name="DEFAULT-DESKTOP">2.9.13 Select Default X
Desktop</a></h2>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Note:</b> As of FreeBSD&nbsp;5.3-RELEASE, the X desktop selection facility has been
removed from <b class="APPLICATION">sysinstall</b>, you have to configure the X desktop
after the installation of FreeBSD. More information regarding the installation and the
configuration of a X desktop can be found in <a href="x11.html">Chapter 5</a>. You can
skip this section if you are not installing a FreeBSD version prior to 5.3-RELEASE.</p>
</blockquote>
</div>

<p>There are a variety of window managers available. They range from very basic
environments to full desktop environments with a large suite of software. Some require
only minimal disk space and low memory while others with more features require much more.
The best way to determine which is most suitable for you is to try a few different ones.
Those are available from the Ports Collection or as packages and can be added after
installation.</p>

<p>You can select one of the popular desktops to be installed and configured as the
default desktop. This will allow you to start it right after installation.</p>

<div class="FIGURE"><a id="X-DESKTOP" name="X-DESKTOP"></a>
<p><b>Figure 2-56. Select Default Desktop</b></p>

<p><img src="install/desktop.png" /></p>
</div>

<p>Use the arrow keys to select a desktop and press <b class="KEYCAP">Enter</b>.
Installation of the selected desktop will proceed.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="PACKAGES" name="PACKAGES">2.9.14 Install Packages</a></h2>

<p>Packages are pre-compiled binaries and are a convenient way to install software.</p>

<p>Installation of one package is shown for purposes of illustration. Additional packages
can also be added at this time if desired. After installation <tt
class="COMMAND">sysinstall</tt> (<tt class="COMMAND">/stand/sysinstall</tt> in FreeBSD
versions older than 5.2) can be used to add additional packages.</p>

<pre class="SCREEN">
                     User Confirmation Requested
 The FreeBSD package collection is a collection of hundreds of
 ready-to-run applications, from text editors to games to WEB servers
 and more. Would you like to browse the collection now? 

                            [ Yes ]   No
</pre>

<p>Selecting <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and pressing <b
class="KEYCAP">Enter</b> will be followed by the Package Selection screens:</p>

<div class="FIGURE"><a id="PACKAGE-CATEGORY" name="PACKAGE-CATEGORY"></a>
<p><b>Figure 2-57. Select Package Category</b></p>

<p><img src="install/pkg-cat.png" /></p>
</div>

<p>Only packages on the current installation media are available for installation at any
given time.</p>

<p>All packages available will be displayed if <span class="GUIMENUITEM">All</span> is
selected or you can select a particular category. Highlight your selection with the arrow
keys and press <b class="KEYCAP">Enter</b>.</p>

<p>A menu will display showing all the packages available for the selection made:</p>

<div class="FIGURE"><a id="PACKAGE-SELECT" name="PACKAGE-SELECT"></a>
<p><b>Figure 2-58. Select Packages</b></p>

<p><img src="install/pkg-sel.png" /></p>
</div>

<p>The <b class="APPLICATION">bash</b> shell is shown selected. Select as many as desired
by highlighting the package and pressing the <b class="KEYCAP">Space</b> key. A short
description of each package will appear in the lower left corner of the screen.</p>

<p>Pressing the <b class="KEYCAP">Tab</b> key will toggle between the last selected
package, <span class="GUIBUTTON">[&nbsp;OK&nbsp;]</span>, and <span
class="GUIBUTTON">[&nbsp;Cancel&nbsp;]</span>.</p>

<p>When you have finished marking the packages for installation, press <b
class="KEYCAP">Tab</b> once to toggle to the <span
class="GUIBUTTON">[&nbsp;OK&nbsp;]</span> and press <b class="KEYCAP">Enter</b> to return
to the Package Selection menu.</p>

<p>The left and right arrow keys will also toggle between <span
class="GUIBUTTON">[&nbsp;OK&nbsp;]</span> and <span
class="GUIBUTTON">[&nbsp;Cancel&nbsp;]</span>. This method can also be used to select
<span class="GUIBUTTON">[&nbsp;OK&nbsp;]</span> and press <b class="KEYCAP">Enter</b> to
return to the Package Selection menu.</p>

<div class="FIGURE"><a id="PACKAGE-INSTALL" name="PACKAGE-INSTALL"></a>
<p><b>Figure 2-59. Install Packages</b></p>

<p><img src="install/pkg-install.png" /></p>
</div>

<p>Use the <b class="KEYCAP">Tab</b> and arrow keys to select <span
class="GUIBUTTON">[&nbsp;Install&nbsp;]</span> and press <b class="KEYCAP">Enter</b>. You
will then need to confirm that you want to install the packages:</p>

<div class="FIGURE"><a id="PACKAGE-INSTALL-CONFIRM" name="PACKAGE-INSTALL-CONFIRM"></a>
<p><b>Figure 2-60. Confirm Package Installation</b></p>

<p><img src="install/pkg-confirm.png" /></p>
</div>

<p>Selecting <span class="GUIBUTTON">[&nbsp;OK&nbsp;]</span> and pressing <b
class="KEYCAP">Enter</b> will start the package installation. Installing messages will
appear until completed. Make note if there are any error messages.</p>

<p>The final configuration continues after packages are installed. If you end up not
selecting any packages, and wish to return to the final configuration, select <span
class="GUIBUTTON">Install</span> anyways.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="ADDUSERS" name="ADDUSERS">2.9.15 Add Users/Groups</a></h2>

<p>You should add at least one user during the installation so that you can use the
system without being logged in as <tt class="USERNAME">root</tt>. The root partition is
generally small and running applications as <tt class="USERNAME">root</tt> can quickly
fill it. A bigger danger is noted below:</p>

<pre class="SCREEN">
                     User Confirmation Requested
 Would you like to add any initial user accounts to the system? Adding
 at least one account for yourself at this stage is suggested since
 working as the "root" user is dangerous (it is easy to do things which
 adversely affect the entire system). 

                            [ Yes ]   No
</pre>

<p>Select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and press <b
class="KEYCAP">Enter</b> to continue with adding a user.</p>

<div class="FIGURE"><a id="ADD-USER2" name="ADD-USER2"></a>
<p><b>Figure 2-61. Select User</b></p>

<p><img src="install/adduser1.png" /></p>
</div>

<p>Select <span class="GUIMENUITEM">User</span> with the arrow keys and press <b
class="KEYCAP">Enter</b>.</p>

<div class="FIGURE"><a id="ADD-USER3" name="ADD-USER3"></a>
<p><b>Figure 2-62. Add User Information</b></p>

<p><img src="install/adduser2.png" /></p>
</div>

<p>The following descriptions will appear in the lower part of the screen as the items
are selected with <b class="KEYCAP">Tab</b> to assist with entering the required
information:</p>

<div class="VARIABLELIST">
<dl>
<dt>Login ID</dt>

<dd>
<p>The login name of the new user (mandatory).</p>
</dd>

<dt>UID</dt>

<dd>
<p>The numerical ID for this user (leave blank for automatic choice).</p>
</dd>

<dt>Group</dt>

<dd>
<p>The login group name for this user (leave blank for automatic choice).</p>
</dd>

<dt>Password</dt>

<dd>
<p>The password for this user (enter this field with care!).</p>
</dd>

<dt>Full name</dt>

<dd>
<p>The user's full name (comment).</p>
</dd>

<dt>Member groups</dt>

<dd>
<p>The groups this user belongs to (i.e. gets access rights for).</p>
</dd>

<dt>Home directory</dt>

<dd>
<p>The user's home directory (leave blank for default).</p>
</dd>

<dt>Login shell</dt>

<dd>
<p>The user's login shell (leave blank for default, e.g. <tt
class="FILENAME">/bin/sh</tt>).</p>
</dd>
</dl>
</div>

<p>The login shell was changed from <tt class="FILENAME">/bin/sh</tt> to <tt
class="FILENAME">/usr/local/bin/bash</tt> to use the <b class="APPLICATION">bash</b>
shell that was previously installed as a package. Do not try to use a shell that does not
exist or you will not be able to login. The most common shell used in the BSD-world is
the C shell, which can be indicated as <tt class="FILENAME">/bin/tcsh</tt>.</p>

<p>The user was also added to the <tt class="GROUPNAME">wheel</tt> group to be able to
become a superuser with <tt class="USERNAME">root</tt> privileges.</p>

<p>When you are satisfied, press <span class="GUIBUTTON">[&nbsp;OK&nbsp;]</span> and the
User and Group Management menu will redisplay:</p>

<div class="FIGURE"><a id="ADD-USER4" name="ADD-USER4"></a>
<p><b>Figure 2-63. Exit User and Group Management</b></p>

<p><img src="install/adduser3.png" /></p>
</div>

<p>Groups can also be added at this time if specific needs are known. Otherwise, this may
be accessed through using <tt class="COMMAND">sysinstall</tt> (<tt
class="COMMAND">/stand/sysinstall</tt> in FreeBSD versions older than 5.2) after
installation is completed.</p>

<p>When you are finished adding users, select <span class="GUIMENUITEM">Exit</span> with
the arrow keys and press <b class="KEYCAP">Enter</b> to continue the installation.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="ROOTPASS" name="ROOTPASS">2.9.16 Set the <tt
class="USERNAME">root</tt> Password</a></h2>

<pre class="SCREEN">
                        Message
 Now you must set the system manager's password.  
 This is the password you'll use to log in as "root". 

                         [ OK ] 

               [ Press enter to continue ]
</pre>

<p>Press <b class="KEYCAP">Enter</b> to set the <tt class="USERNAME">root</tt>
password.</p>

<p>The password will need to be typed in twice correctly. Needless to say, make sure you
have a way of finding the password if you forget. Notice that the password you type in is
not echoed, nor are asterisks displayed.</p>

<pre class="SCREEN">
Changing local password for root. 
New password : 
Retype new password :
</pre>

<p>The installation will continue after the password is successfully entered.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="EXIT-INST" name="EXIT-INST">2.9.17 Exiting Install</a></h2>

<p>If you need to configure additional network devices or any other configuration, you
can do it at this point or after installation with <tt class="COMMAND">sysinstall</tt>
(<tt class="COMMAND">/stand/sysinstall</tt> in FreeBSD versions older than 5.2).</p>

<pre class="SCREEN">
                     User Confirmation Requested
 Visit the general configuration menu for a chance to set any last
 options? 

                              Yes   [ No ]
</pre>

<p>Select <span class="GUIBUTTON">[&nbsp;No&nbsp;]</span> with the arrow keys and press
<b class="KEYCAP">Enter</b> to return to the Main Installation Menu.</p>

<div class="FIGURE"><a id="FINAL-MAIN" name="FINAL-MAIN"></a>
<p><b>Figure 2-64. Exit Install</b></p>

<p><img src="install/mainexit.png" /></p>
</div>

<p>Select <span class="GUIBUTTON">[X Exit Install]</span> with the arrow keys and press
<b class="KEYCAP">Enter</b>. You will be asked to confirm exiting the installation:</p>

<pre class="SCREEN">
                     User Confirmation Requested
 Are you sure you wish to exit? The system will reboot (be sure to  
 remove any floppies from the drives). 

                            [ Yes ]   No
</pre>

<p>Select <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> and remove the floppy if
booting from the floppy. The CDROM drive is locked until the machine starts to reboot.
The CDROM drive is then unlocked and the disk can be removed from drive (quickly).</p>

<p>The system will reboot so watch for any error messages that may appear.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="FREEBSDBOOT" name="FREEBSDBOOT">2.9.18 FreeBSD Bootup</a></h2>

<div class="SECT3">
<h3 class="SECT3"><a id="FREEBSDBOOT-I386" name="FREEBSDBOOT-I386">2.9.18.1 FreeBSD
Bootup on the <span class="TRADEMARK">i386</span>&#8482;</a></h3>

<p>If everything went well, you will see messages scroll off the screen and you will
arrive at a login prompt. You can view the content of the messages by pressing <b
class="KEYCAP">Scroll-Lock</b> and using <b class="KEYCAP">PgUp</b> and <b
class="KEYCAP">PgDn</b>. Pressing <b class="KEYCAP">Scroll-Lock</b> again will return to
the prompt.</p>

<p>The entire message may not display (buffer limitation) but it can be viewed from the
command line after logging in by typing <tt class="COMMAND">dmesg</tt> at the prompt.</p>

<p>Login using the username/password you set during installation (<tt
class="USERNAME">rpratt</tt>, in this example). Avoid logging in as <tt
class="USERNAME">root</tt> except when necessary.</p>

<p>Typical boot messages (version information omitted):</p>

<pre class="SCREEN">
Copyright (c) 1992-2002 The FreeBSD Project. 
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved. 

Timecounter "i8254"  frequency 1193182 Hz
CPU: AMD-K6(tm) 3D processor (300.68-MHz 586-class CPU)
  Origin = "AuthenticAMD"  Id = 0x580  Stepping = 0
  Features=0x8001bf&lt;FPU,VME,DE,PSE,TSC,MSR,MCE,CX8,MMX&gt; 
  AMD Features=0x80000800&lt;SYSCALL,3DNow!&gt; 
real memory  = 268435456 (262144K bytes) 
config&gt; di sn0 
config&gt; di lnc0 
config&gt; di le0 
config&gt; di ie0 
config&gt; di fe0 
config&gt; di cs0 
config&gt; di bt0  
config&gt; di aic0 
config&gt; di aha0 
config&gt; di adv0 
config&gt; q 
avail memory = 256311296 (250304K bytes)
Preloaded elf kernel "kernel" at 0xc0491000. 
Preloaded userconfig_script "/boot/kernel.conf" at 0xc049109c. 
md0: Malloc disk 
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard 
npx0: INT 16 interface 
pcib0: &lt;Host to PCI bridge&gt; on motherboard 
pci0: &lt;PCI bus&gt; on pcib0 
pcib1: &lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0 
pci1: &lt;PCI bus&gt; on pcib1 
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11 
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0 
isa0: &lt;ISA bus&gt; on isab0 
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0 
ata0: at 0x1f0 irq 14 on atapci0 
ata1: at 0x170 irq 15 on atapci0 
uhci0: &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci0 
usb0: &lt;VIA 83C572 USB controller&gt; on uhci0 
usb0: USB revision 1.0 
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr 1 
uhub0: 2 ports with 2 removable, self powered 
chip1: &lt;VIA 82C586B ACPI interface&gt; at device 7.3 on pci0 
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xe800-0xe81f irq 9 at
device 10.0 on pci0 
ed0: address 52:54:05:de:73:1b, type NE2000 (16 bit) 
isa0: too many dependant configs (8) 
isa0: unexpected small tag 14 
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq 2 on isa0
fdc0: FIFO enabled, 8 bytes threshold 
fd0: &lt;1440-KB 3.5" drive&gt; on fdc0 drive 0 
atkbdc0: &lt;keyboard controller (i8042)&gt; at port 0x60-0x64 on isa0 
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq 1 on atkbdc0 
kbd0 at atkbd0 
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0 
psm0: model Generic PS/2 mouse, device ID 0 
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x1 on isa0 
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt; 
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0 
sio0: type 16550A 
sio1 at port 0x2f8-0x2ff irq 3 on isa0 
sio1: type 16550A 
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0 
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode 
ppc0: FIFO with 16/16/15 bytes threshold 
ppbus0: IEEE1284 device found /NIBBLE
Probing for PnP devices on ppbus0: 
plip0: &lt;PLIP network interface&gt; on ppbus0 
lpt0: &lt;Printer&gt; on ppbus0 
lpt0: Interrupt-driven port 
ppi0: &lt;Parallel I/O&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master using UDMA33 
ad2: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata1-master using UDMA33 
acd0: CDROM &lt;DELTA OTC-H101/ST3 F/W by OIPD&gt; at ata0-slave using PIO4 
Mounting root from ufs:/dev/ad0s1a 
swapon: adding /dev/ad0s1b as swap device 
Automatic boot in progress... 
/dev/ad0s1a: FILESYSTEM CLEAN; SKIPPING CHECKS 
/dev/ad0s1a: clean, 48752 free (552 frags, 6025 blocks, 0.9% fragmentation)
/dev/ad0s1f: FILESYSTEM CLEAN; SKIPPING CHECKS 
/dev/ad0s1f: clean, 128997 free (21 frags, 16122 blocks, 0.0% fragmentation)
/dev/ad0s1g: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1g: clean, 3036299 free (43175 frags, 374073 blocks, 1.3% fragmentation)
/dev/ad0s1e: filesystem CLEAN; SKIPPING CHECKS 
/dev/ad0s1e: clean, 128193 free (17 frags, 16022 blocks, 0.0% fragmentation)
Doing initial network setup: hostname. 
ed0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&#62; mtu 1500
        inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
        inet6 fe80::5054::5ff::fede:731b%ed0 prefixlen 64 tentative scopeid 0x1
        ether 52:54:05:de:73:1b
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384 
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x8 
        inet6 ::1 prefixlen 128 
        inet 127.0.0.1 netmask 0xff000000 
Additional routing options: IP gateway=YES TCP keepalive=YES
routing daemons:. 
additional daemons: syslogd. 
Doing additional network setup:. 
Starting final network daemons: creating ssh RSA host key 
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key. 
Your public key has been saved in /etc/ssh/ssh_host_key.pub. 
The key fingerprint is: 
cd:76:89:16:69:0e:d0:6e:f8:66:d0:07:26:3c:7e:2d root@k6-2.example.com
 creating ssh DSA host key 
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key. 
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub. 
The key fingerprint is: 
f9:a1:a9:47:c4:ad:f9:8d:52:b8:b8:ff:8c:ad:2d:e6 root@k6-2.example.com.
setting ELF ldconfig path: /usr/lib /usr/lib/compat /usr/X11R6/lib
/usr/local/lib 
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout 
starting standard daemons: inetd cron sshd usbd sendmail.
Initial rc.i386 initialization:. 
rc.i386 configuring syscons: blank_time screensaver moused. 
Additional ABI support: linux. 
Local package initialization:. 
Additional TCP options:. 

FreeBSD/i386 (k6-2.example.com) (ttyv0)

login: rpratt 
Password:
</pre>

<p>Generating the RSA and DSA keys may take some time on slower machines. This happens
only on the initial boot-up of a new installation. Subsequent boots will be faster.</p>

<p>If the X server has been configured and a Default Desktop chosen, it can be started by
typing <tt class="COMMAND">startx</tt> at the command line.</p>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="AEN3073" name="AEN3073">2.9.18.2 Bootup of FreeBSD on the
Alpha</a></h3>

<p>Once the install procedure has finished, you will be able to start FreeBSD by typing
something like this to the SRM prompt:</p>

<pre class="SCREEN">
&gt;&gt;&gt;<kbd class="USERINPUT">BOOT DKC0</kbd>
</pre>

<p>This instructs the firmware to boot the specified disk. To make FreeBSD boot
automatically in the future, use these commands:</p>

<pre class="SCREEN">
<samp class="PROMPT">&gt;&gt;&gt;</samp> <kbd class="USERINPUT">SET BOOT_OSFLAGS A</kbd>
<samp class="PROMPT">&gt;&gt;&gt;</samp> <kbd class="USERINPUT">SET BOOT_FILE ''</kbd>
<samp class="PROMPT">&gt;&gt;&gt;</samp> <kbd
class="USERINPUT">SET BOOTDEF_DEV DKC0</kbd>
<samp class="PROMPT">&gt;&gt;&gt;</samp> <kbd
class="USERINPUT">SET AUTO_ACTION BOOT</kbd>
</pre>

<p>The boot messages will be similar (but not identical) to those produced by FreeBSD
booting on the <span class="TRADEMARK">i386</span>&#8482;.</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="SHUTDOWN" name="SHUTDOWN">2.9.19 FreeBSD Shutdown</a></h2>

<p>It is important to properly shutdown the operating system. Do not just turn off power.
First, become a superuser by typing <tt class="COMMAND">su</tt> at the command line and
entering the <tt class="USERNAME">root</tt> password. This will work only if the user is
a member of the <tt class="GROUPNAME">wheel</tt> group. Otherwise, login as <tt
class="USERNAME">root</tt> and use <tt class="COMMAND">shutdown -h now</tt>.</p>

<pre class="SCREEN">
The operating system has halted. 
Please press any key to reboot.
</pre>

<p>It is safe to turn off the power after the shutdown command has been issued and the
message “Please press any key to reboot” appears. If any key is pressed instead of
turning off the power switch, the system will reboot.</p>

<p>You could also use the <b class="KEYCAP">Ctrl</b>+<b class="KEYCAP">Alt</b>+<b
class="KEYCAP">Del</b> key combination to reboot the system, however this is not
recommended during normal operation.</p>
</div>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="install-final-warning.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="install-supported-hardware.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">開始進行安裝</td>
<td width="34%" align="center" valign="top"><a href="install.html"
accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">支援的硬體</td>
</tr>
</table>
</div>

<p align="center"><small>This, and other documents, can be downloaded from <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p>

<p align="center"><small>For questions about FreeBSD, read the <a
href="http://www.FreeBSD.org/docs.html">documentation</a> before contacting &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.<br />
For questions about this documentation, e-mail &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</small></p>
</body>
</html>

