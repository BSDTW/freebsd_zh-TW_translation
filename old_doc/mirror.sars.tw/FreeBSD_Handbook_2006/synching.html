<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Synchronizing Your Source</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="FreeBSD 使用手冊" href="index.html" />
<link rel="UP" title="The Cutting Edge" href="cutting-edge.html" />
<link rel="PREVIOUS" title="FreeBSD-CURRENT vs. FreeBSD-STABLE"
href="current-stable.html" />
<link rel="NEXT" title="Rebuilding world" href="makeworld.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=Big5" />
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">FreeBSD 使用手冊</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="current-stable.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 21 The Cutting Edge</td>
<td width="10%" align="right" valign="bottom"><a href="makeworld.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECT1">
<h1 class="SECT1"><a id="SYNCHING" name="SYNCHING">21.3 Synchronizing Your
Source</a></h1>

<p>There are various ways of using an Internet (or email) connection to stay up-to-date
with any given area of the FreeBSD project sources, or all areas, depending on what
interests you. The primary services we offer are <a href="anoncvs.html">Anonymous
CVS</a>, <a href="cvsup.html">CVSup</a>, and <a href="ctm.html">CTM</a>.</p>

<div class="WARNING">
<blockquote class="WARNING">
<p><b>Warning:</b> While it is possible to update only parts of your source tree, the
only supported update procedure is to update the entire tree and recompile both userland
(i.e., all the programs that run in user space, such as those in <tt
class="FILENAME">/bin</tt> and <tt class="FILENAME">/sbin</tt>) and kernel sources.
Updating only part of your source tree, only the kernel, or only userland will often
result in problems. These problems may range from compile errors to kernel panics or data
corruption.</p>
</blockquote>
</div>

<p><b class="APPLICATION">Anonymous CVS</b> and <b class="APPLICATION">CVSup</b> use the
<span class="emphasis"><i class="EMPHASIS">pull</i></span> model of updating sources. In
the case of <b class="APPLICATION">CVSup</b> the user (or a <tt class="COMMAND">cron</tt>
script) invokes the <tt class="COMMAND">cvsup</tt> program, and it interacts with a <tt
class="COMMAND">cvsupd</tt> server somewhere to bring your files up-to-date. The updates
you receive are up-to-the-minute and you get them when, and only when, you want them. You
can easily restrict your updates to the specific files or directories that are of
interest to you. Updates are generated on the fly by the server, according to what you
have and what you want to have. <b class="APPLICATION">Anonymous CVS</b> is quite a bit
more simplistic than <b class="APPLICATION">CVSup</b> in that it is just an extension to
<b class="APPLICATION">CVS</b> which allows it to pull changes directly from a remote CVS
repository. <b class="APPLICATION">CVSup</b> can do this far more efficiently, but <b
class="APPLICATION">Anonymous CVS</b> is easier to use.</p>

<p><b class="APPLICATION">CTM</b>, on the other hand, does not interactively compare the
sources you have with those on the master archive or otherwise pull them across. Instead,
a script which identifies changes in files since its previous run is executed several
times a day on the master CTM machine, any detected changes being compressed, stamped
with a sequence-number and encoded for transmission over email (in printable ASCII only).
Once received, these “CTM deltas” can then be handed to the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ctm_rmail&amp;sektion=1"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">ctm_rmail</span>(1)</span></a> utility
which will automatically decode, verify and apply the changes to the user's copy of the
sources. This process is far more efficient than <b class="APPLICATION">CVSup</b>, and
places less strain on our server resources since it is a <span class="emphasis"><i
class="EMPHASIS">push</i></span> rather than a <span class="emphasis"><i
class="EMPHASIS">pull</i></span> model.</p>

<p>There are other trade-offs, of course. If you inadvertently wipe out portions of your
archive, <b class="APPLICATION">CVSup</b> will detect and rebuild the damaged portions
for you. <b class="APPLICATION">CTM</b> will not do this, and if you wipe some portion of
your source tree out (and do not have it backed up) then you will have to start from
scratch (from the most recent CVS “base delta”) and rebuild it all with <b
class="APPLICATION">CTM</b> or, with <b class="APPLICATION">Anonymous CVS</b>, simply
delete the bad bits and resync.</p>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="current-stable.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="makeworld.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">FreeBSD-CURRENT vs. FreeBSD-STABLE</td>
<td width="34%" align="center" valign="top"><a href="cutting-edge.html"
accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">Rebuilding “world”</td>
</tr>
</table>
</div>

<p align="center"><small>This, and other documents, can be downloaded from <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p>

<p align="center"><small>For questions about FreeBSD, read the <a
href="http://www.FreeBSD.org/docs.html">documentation</a> before contacting &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.<br />
For questions about this documentation, e-mail &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</small></p>
</body>
</html>

