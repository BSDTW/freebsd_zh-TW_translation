<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Using fetchmail</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="FreeBSD 使用手冊" href="index.html" />
<link rel="UP" title="Electronic Mail" href="mail.html" />
<link rel="PREVIOUS" title="Mail User Agents" href="mail-agents.html" />
<link rel="NEXT" title="Using procmail" href="mail-procmail.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=Big5" />
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">FreeBSD 使用手冊</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="mail-agents.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 24 Electronic Mail</td>
<td width="10%" align="right" valign="bottom"><a href="mail-procmail.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECT1">
<h1 class="SECT1"><a id="MAIL-FETCHMAIL" name="MAIL-FETCHMAIL">24.12 Using
fetchmail</a></h1>

<i class="AUTHORGROUP"><span class="CONTRIB">Contributed by</span> Marc Silver.</i> 

<p><b class="APPLICATION">fetchmail</b> is a full-featured <acronym
class="ACRONYM">IMAP</acronym> and <acronym class="ACRONYM">POP</acronym> client which
allows users to automatically download mail from remote <acronym
class="ACRONYM">IMAP</acronym> and <acronym class="ACRONYM">POP</acronym> servers and
save it into local mailboxes; there it can be accessed more easily. <b
class="APPLICATION">fetchmail</b> can be installed using the <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/mail/fetchmail/pkg-descr"><tt
class="FILENAME">mail/fetchmail</tt></a> port, and offers various features, some of which
include:</p>

<ul>
<li>
<p>Support of <acronym class="ACRONYM">POP3</acronym>, <acronym
class="ACRONYM">APOP</acronym>, <acronym class="ACRONYM">KPOP</acronym>, <acronym
class="ACRONYM">IMAP</acronym>, <acronym class="ACRONYM">ETRN</acronym> and <acronym
class="ACRONYM">ODMR</acronym> protocols.</p>
</li>

<li>
<p>Ability to forward mail using <acronym class="ACRONYM">SMTP</acronym>, which allows
filtering, forwarding, and aliasing to function normally.</p>
</li>

<li>
<p>May be run in daemon mode to check periodically for new messages.</p>
</li>

<li>
<p>Can retrieve multiple mailboxes and forward them based on configuration, to different
local users.</p>
</li>
</ul>

<p>While it is outside the scope of this document to explain all of <b
class="APPLICATION">fetchmail</b>'s features, some basic features will be explained. The
<b class="APPLICATION">fetchmail</b> utility requires a configuration file known as <tt
class="FILENAME">.fetchmailrc</tt>, in order to run correctly. This file includes server
information as well as login credentials. Due to the sensitive nature of the contents of
this file, it is advisable to make it readable only by the owner, with the following
command:</p>

<pre class="SCREEN">
<samp class="PROMPT">%</samp> <kbd class="USERINPUT">chmod 600 .fetchmailrc</kbd>
</pre>

<p>The following <tt class="FILENAME">.fetchmailrc</tt> serves as an example for
downloading a single user mailbox using <acronym class="ACRONYM">POP</acronym>. It tells
<b class="APPLICATION">fetchmail</b> to connect to <tt class="HOSTID">example.com</tt>
using a username of <tt class="USERNAME">joesoap</tt> and a password of <tt
class="LITERAL">XXX</tt>. This example assumes that the user <tt
class="USERNAME">joesoap</tt> is also a user on the local system.</p>

<pre class="PROGRAMLISTING">
poll example.com protocol pop3 username "joesoap" password "XXX"
</pre>

<p>The next example connects to multiple <acronym class="ACRONYM">POP</acronym> and
<acronym class="ACRONYM">IMAP</acronym> servers and redirects to different local
usernames where applicable:</p>

<pre class="PROGRAMLISTING">
poll example.com proto pop3:
user "joesoap", with password "XXX", is "jsoap" here;
user "andrea", with password "XXXX";
poll example2.net proto imap:
user "john", with password "XXXXX", is "myth" here;
</pre>

<p>The <b class="APPLICATION">fetchmail</b> utility can be run in daemon mode by running
it with the <code class="OPTION">-d</code> flag, followed by the interval (in seconds)
that <b class="APPLICATION">fetchmail</b> should poll servers listed in the <tt
class="FILENAME">.fetchmailrc</tt> file. The following example would cause <b
class="APPLICATION">fetchmail</b> to poll every 600 seconds:</p>

<pre class="SCREEN">
<samp class="PROMPT">%</samp> <kbd class="USERINPUT">fetchmail -d 600</kbd>
</pre>

<p>More information on <b class="APPLICATION">fetchmail</b> can be found at <a
href="http://fetchmail.berlios.de/" target="_top">http://fetchmail.berlios.de/</a>.</p>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="mail-agents.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="mail-procmail.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">Mail User Agents</td>
<td width="34%" align="center" valign="top"><a href="mail.html" accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">Using procmail</td>
</tr>
</table>
</div>

<p align="center"><small>This, and other documents, can be downloaded from <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p>

<p align="center"><small>For questions about FreeBSD, read the <a
href="http://www.FreeBSD.org/docs.html">documentation</a> before contacting &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.<br />
For questions about this documentation, e-mail &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</small></p>
</body>
</html>

