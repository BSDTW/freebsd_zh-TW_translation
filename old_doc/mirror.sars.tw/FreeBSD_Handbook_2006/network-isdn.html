<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>ISDN</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="FreeBSD 使用手冊" href="index.html" />
<link rel="UP" title="Advanced Networking" href="advanced-networking.html" />
<link rel="PREVIOUS" title="Diskless Operation" href="network-diskless.html" />
<link rel="NEXT" title="Network Address Translation" href="network-natd.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=Big5" />
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">FreeBSD 使用手冊</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="network-diskless.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 27 Advanced Networking</td>
<td width="10%" align="right" valign="bottom"><a href="network-natd.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECT1">
<h1 class="SECT1"><a id="NETWORK-ISDN" name="NETWORK-ISDN">27.7 ISDN</a></h1>

<p>A good resource for information on ISDN technology and hardware is <a
href="http://www.alumni.caltech.edu/~dank/isdn/" target="_top">Dan Kegel's ISDN
Page</a>.</p>

<p>A quick simple road map to ISDN follows:</p>

<ul>
<li>
<p>If you live in Europe you might want to investigate the ISDN card section.</p>
</li>

<li>
<p>If you are planning to use ISDN primarily to connect to the Internet with an Internet
Provider on a dial-up non-dedicated basis, you might look into Terminal Adapters. This
will give you the most flexibility, with the fewest problems, if you change
providers.</p>
</li>

<li>
<p>If you are connecting two LANs together, or connecting to the Internet with a
dedicated ISDN connection, you might consider the stand alone router/bridge option.</p>
</li>
</ul>

<p>Cost is a significant factor in determining what solution you will choose. The
following options are listed from least expensive to most expensive.</p>

<div class="SECT2">
<h2 class="SECT2"><a id="NETWORK-ISDN-CARDS" name="NETWORK-ISDN-CARDS">27.7.1 ISDN
Cards</a></h2>

<i class="AUTHORGROUP"><span class="CONTRIB">Contributed by</span> Hellmuth
Michaelis.</i> 

<p>FreeBSD's ISDN implementation supports only the DSS1/Q.931 (or Euro-ISDN) standard
using passive cards. Starting with FreeBSD&nbsp;4.4, some active cards are supported
where the firmware also supports other signaling protocols; this also includes the first
supported Primary Rate (PRI) ISDN card.</p>

<p>The <b class="APPLICATION">isdn4bsd</b> software allows you to connect to other ISDN
routers using either IP over raw HDLC or by using synchronous PPP: either by using kernel
PPP with <tt class="LITERAL">isppp</tt>, a modified <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sppp&amp;sektion=4"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">sppp</span>(4)</span></a> driver, or by
using userland <a href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">ppp</span>(8)</span></a>. By using
userland <a href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">ppp</span>(8)</span></a>, channel
bonding of two or more ISDN B-channels is possible. A telephone answering machine
application is also available as well as many utilities such as a software 300 Baud
modem.</p>

<p>Some growing number of PC ISDN cards are supported under FreeBSD and the reports show
that it is successfully used all over Europe and in many other parts of the world.</p>

<p>The passive ISDN cards supported are mostly the ones with the Infineon (formerly
Siemens) ISAC/HSCX/IPAC ISDN chipsets, but also ISDN cards with chips from Cologne Chip
(ISA bus only), PCI cards with Winbond W6692 chips, some cards with the Tiger300/320/ISAC
chipset combinations and some vendor specific chipset based cards such as the AVM
Fritz!Card PCI V.1.0 and the AVM Fritz!Card PnP.</p>

<p>Currently the active supported ISDN cards are the AVM B1 (ISA and PCI) BRI cards and
the AVM T1 PCI PRI cards.</p>

<p>For documentation on <b class="APPLICATION">isdn4bsd</b>, have a look at <tt
class="FILENAME">/usr/share/examples/isdn/</tt> directory on your FreeBSD system or at
the <a href="http://www.freebsd-support.de/i4b/" target="_top">homepage of isdn4bsd</a>
which also has pointers to hints, erratas and much more documentation such as the <a
href="http://people.FreeBSD.org/~hm/" target="_top">isdn4bsd handbook</a>.</p>

<p>In case you are interested in adding support for a different ISDN protocol, a
currently unsupported ISDN PC card or otherwise enhancing <b
class="APPLICATION">isdn4bsd</b>, please get in touch with Hellmuth Michaelis <code
class="EMAIL">&#60;<a href="mailto:hm@FreeBSD.org">hm@FreeBSD.org</a>&#62;</code>.</p>

<p>For questions regarding the installation, configuration and troubleshooting <b
class="APPLICATION">isdn4bsd</b>, a <a
href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-isdn"
target="_top">freebsd-isdn</a> mailing list is available.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="AEN40178" name="AEN40178">27.7.2 ISDN Terminal Adapters</a></h2>

<p>Terminal adapters (TA), are to ISDN what modems are to regular phone lines.</p>

<p>Most TA's use the standard Hayes modem AT command set, and can be used as a drop in
replacement for a modem.</p>

<p>A TA will operate basically the same as a modem except connection and throughput
speeds will be much faster than your old modem. You will need to configure <a
href="ppp.html">PPP</a> exactly the same as for a modem setup. Make sure you set your
serial speed as high as possible.</p>

<p>The main advantage of using a TA to connect to an Internet Provider is that you can do
Dynamic PPP. As IP address space becomes more and more scarce, most providers are not
willing to provide you with a static IP anymore. Most stand-alone routers are not able to
accommodate dynamic IP allocation.</p>

<p>TA's completely rely on the PPP daemon that you are running for their features and
stability of connection. This allows you to upgrade easily from using a modem to ISDN on
a FreeBSD machine, if you already have PPP set up. However, at the same time any problems
you experienced with the PPP program and are going to persist.</p>

<p>If you want maximum stability, use the kernel <a href="ppp.html">PPP</a> option, not
the <a href="userppp.html">userland PPP</a>.</p>

<p>The following TA's are known to work with FreeBSD:</p>

<ul>
<li>
<p>Motorola BitSurfer and Bitsurfer Pro</p>
</li>

<li>
<p>Adtran</p>
</li>
</ul>

<p>Most other TA's will probably work as well, TA vendors try to make sure their product
can accept most of the standard modem AT command set.</p>

<p>The real problem with external TA's is that, like modems, you need a good serial card
in your computer.</p>

<p>You should read the <a
href="../../../../doc/zh_TW.Big5/articles/serial-uart/index.html" target="_top">FreeBSD
Serial Hardware</a> tutorial for a detailed understanding of serial devices, and the
differences between asynchronous and synchronous serial ports.</p>

<p>A TA running off a standard PC serial port (asynchronous) limits you to
115.2&nbsp;Kbs, even though you have a 128&nbsp;Kbs connection. To fully utilize the
128&nbsp;Kbs that ISDN is capable of, you must move the TA to a synchronous serial
card.</p>

<p>Do not be fooled into buying an internal TA and thinking you have avoided the
synchronous/asynchronous issue. Internal TA's simply have a standard PC serial port chip
built into them. All this will do is save you having to buy another serial cable and find
another empty electrical socket.</p>

<p>A synchronous card with a TA is at least as fast as a stand-alone router, and with a
simple 386 FreeBSD box driving it, probably more flexible.</p>

<p>The choice of synchronous card/TA v.s. stand-alone router is largely a religious
issue. There has been some discussion of this in the mailing lists. We suggest you search
the <a href="../../../../search/index.html" target="_top">archives</a> for the complete
discussion.</p>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="AEN40208" name="AEN40208">27.7.3 Stand-alone ISDN
Bridges/Routers</a></h2>

<p>ISDN bridges or routers are not at all specific to FreeBSD or any other operating
system. For a more complete description of routing and bridging technology, please refer
to a networking reference book.</p>

<p>In the context of this section, the terms router and bridge will be used
interchangeably.</p>

<p>As the cost of low end ISDN routers/bridges comes down, it will likely become a more
and more popular choice. An ISDN router is a small box that plugs directly into your
local Ethernet network, and manages its own connection to the other bridge/router. It has
built in software to communicate via PPP and other popular protocols.</p>

<p>A router will allow you much faster throughput than a standard TA, since it will be
using a full synchronous ISDN connection.</p>

<p>The main problem with ISDN routers and bridges is that interoperability between
manufacturers can still be a problem. If you are planning to connect to an Internet
provider, you should discuss your needs with them.</p>

<p>If you are planning to connect two LAN segments together, such as your home LAN to the
office LAN, this is the simplest lowest maintenance solution. Since you are buying the
equipment for both sides of the connection you can be assured that the link will
work.</p>

<p>For example to connect a home computer or branch office network to a head office
network the following setup could be used:</p>

<div class="EXAMPLE"><a id="AEN40220" name="AEN40220"></a>
<p><b>Example 27-1. Branch Office or Home Network</b></p>

<p>Network uses a bus based topology with 10 base 2 Ethernet (“thinnet”). Connect
router to network cable with AUI/10BT transceiver, if necessary.</p>

<p><img src="advanced-networking/isdn-bus.png" /></p>

<p>If your home/branch office is only one computer you can use a twisted pair crossover
cable to connect to the stand-alone router directly.</p>
</div>

<div class="EXAMPLE"><a id="AEN40234" name="AEN40234"></a>
<p><b>Example 27-2. Head Office or Other LAN</b></p>

<p>Network uses a star topology with 10 base T Ethernet (“Twisted Pair”).</p>

<p><img src="advanced-networking/isdn-twisted-pair.png" /></p>
</div>

<p>One large advantage of most routers/bridges is that they allow you to have 2 <span
class="emphasis"><i class="EMPHASIS">separate independent</i></span> PPP connections to 2
separate sites at the <span class="emphasis"><i class="EMPHASIS">same</i></span> time.
This is not supported on most TA's, except for specific (usually expensive) models that
have two serial ports. Do not confuse this with channel bonding, MPP, etc.</p>

<p>This can be a very useful feature if, for example, you have an dedicated ISDN
connection at your office and would like to tap into it, but do not want to get another
ISDN line at work. A router at the office location can manage a dedicated B channel
connection (64&nbsp;Kbps) to the Internet and use the other B channel for a separate data
connection. The second B channel can be used for dial-in, dial-out or dynamically bonding
(MPP, etc.) with the first B channel for more bandwidth.</p>

<p>An Ethernet bridge will also allow you to transmit more than just IP traffic. You can
also send IPX/SPX or whatever other protocols you use.</p>
</div>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="network-diskless.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="network-natd.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">Diskless Operation</td>
<td width="34%" align="center" valign="top"><a href="advanced-networking.html"
accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">Network Address Translation</td>
</tr>
</table>
</div>

<p align="center"><small>This, and other documents, can be downloaded from <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p>

<p align="center"><small>For questions about FreeBSD, read the <a
href="http://www.FreeBSD.org/docs.html">documentation</a> before contacting &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.<br />
For questions about this documentation, e-mail &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</small></p>
</body>
</html>

