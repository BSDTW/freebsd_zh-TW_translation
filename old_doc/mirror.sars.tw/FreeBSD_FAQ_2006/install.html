<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>安裝</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="FreeBSD 4.X、5.X、6.X 常見問答集" href="index.html" />
<link rel="PREVIOUS" title="文件與技術支援" href="support.html" />
<link rel="NEXT" title="硬體支援方面" href="hardware.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=Big5" />
</head>
<body class="CHAPTER" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">FreeBSD 4.X、5.X、6.X 常見問答集</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="support.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom"></td>
<td width="10%" align="right" valign="bottom"><a href="hardware.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="CHAPTER">
<h1><a id="INSTALL" name="INSTALL"></a>Chapter 3 安裝</h1>

Nik Clayton

<div class="QANDASET">
<dl>
<dt>3.1. <a href="install.html#FLOPPY-DOWNLOAD">若要用軟碟片開機來安裝 FreeBSD
的話，要下載哪些檔案呢？</a></dt>

<dt>3.2. <a href="install.html#FLOPPY-IMAGE-TOO-LARGE">若磁片裝不下 image
檔的話，該怎麼辦呢？</a></dt>

<dt>3.3. <a href="install.html#INSTALL-INSTRUCTIONS-LOCATION">可以在哪邊找到安裝 FreeBSD
的解說步驟呢？</a></dt>

<dt>3.4. <a href="install.html#NEED-TO-RUN">要跑 FreeBSD 需要什麼的配備呢？</a></dt>

<dt>3.5. <a href="install.html#FOUR-MEG-RAM-INSTALL">我電腦 RAM 只有 4MB 而已，可以裝
FreeBSD 嗎？</a></dt>

<dt>3.6. <a
href="install.html#CUSTOM-BOOT-FLOPPY">要怎樣才能自行打造專用的開機、安裝磁片呢？</a></dt>

<dt>3.7. <a href="install.html#MULTIBOOT">我電腦上可以有多重作業系統嗎？</a></dt>

<dt>3.8. <a href="install.html#WINDOWS-COEXIST"><span class="TRADEMARK">Windows</span>
可以與 FreeBSD 共存於電腦上嗎？</a></dt>

<dt>3.9. <a href="install.html#WIN95-DAMAGED-BOOT-MANAGER">嗚.. <span
class="TRADEMARK">Windows</span> 把我的多重開機管理員(boot
manager)拿掉了！要怎麼救回來呢？</a></dt>

<dt>3.10. <a href="install.html#BOOT-ON-THINKPAD">IBM Thinkpad A系列、T系列或
X系列的筆記型電腦裝完 FreeBSD 之後重開機，就當了，該怎麼辦呢？</a></dt>

<dt>3.11. <a href="install.html#INSTALL-BAD-BLOCKS">有壞軌的硬碟可以拿來裝 FreeBSD
嘛？</a></dt>

<dt>3.12. <a
href="install.html#BOOT-FLOPPY-STRANGENESS">用安裝磁片開機時，卻有些怪現象發生！這是什麼情況呢？</a></dt>

<dt>3.13. <a
href="install.html#NO-INSTALL-CDROM">用光碟開機片來安裝，但光碟開機後，安裝程式說找不到光碟...這是怎麼了？</a></dt>

<dt>3.14. <a href="install.html#INSTALL-PLIP">我可以用 PLIP(Parallel Line IP)方式來安裝
FreeBSD 到筆記型電腦上嗎？</a></dt>

<dt>3.15. <a href="install.html#GEOMETRY">該用哪一種硬碟設定參數(geometry)呢？</a></dt>

<dt>3.16. <a
href="install.html#DISK-DIVIDE-RESTRICTIONS">分割磁碟機時有任何限制嗎﹖</a></dt>

<dt>3.17. <a href="install.html#DISK-MANAGER">可以使用哪些磁碟管理程式(disk
managers)呢？</a></dt>

<dt>3.18. <a href="install.html#MISSING-OS">FreeBSD 安裝完畢後重開機，但是電腦卻說 “<tt
class="ERRORNAME">Missing Operating System</tt>”這是怎麼了？</a></dt>

<dt>3.19. <a href="install.html#STOP-AT-BOOT-MANAGER">為什麼機器上多重開機管理員(boot
manager)出現了 <samp class="PROMPT">F?</samp> 這個選單畫面，
但卻不會自動跳過而繼續開機呢？</a></dt>

<dt>3.20. <a href="install.html#NEED-COMPLETE-SOURCES">安裝 FreeBSD 時，需要安裝完整的
sources 嗎？</a></dt>

<dt>3.21. <a href="install.html#NEED-KERNEL">需要重新 build kernel 嗎？</a></dt>

<dt>3.22. <a href="install.html#PASSWORD-ENCRYPTION">密碼編碼該採用 DES、Blowfish 或 MD5
的哪一種？該怎麼設定呢？</a></dt>

<dt>3.23. <a href="install.html#BOOT-FLOPPY-HANGS">為什麼開機磁片開到一半，就出現 <tt
class="LITERAL">Probing Devices...</tt> 的畫面訊息，然後就停住了？</a></dt>

<dt>3.24. <a href="install.html#PANIC-ON-INSTALL-REBOOT">系統裝完並重開機後，為什麼卻出現
“<tt class="ERRORNAME">panic: can't mount root</tt>”？</a></dt>

<dt>3.25. <a href="install.html#MEMORY-LIMITS">記憶體最大限制為多少？</a></dt>

<dt>3.26. <a href="install.html#FFS-LIMITS">檔案系統最大限制為多少？</a></dt>

<dt>3.27. <a href="install.html#ARCHSW-READIN-FAILED-ERROR">為何在啟動新的 kernel
時，看到 “<tt class="ERRORNAME">archsw.readin.failed</tt>” 錯誤訊息？</a></dt>

<dt>3.28. <a href="install.html#SECURITY-PROFILES">“security profiles”
是指什麼？</a></dt>

<dt>3.29. <a href="install.html#BOOT-ACPI">在開機時，選擇使用 ACPI
則在安裝過程就掛了，該怎麼辦？</a></dt>
</dl>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="FLOPPY-DOWNLOAD" name="FLOPPY-DOWNLOAD"></a><b>3.1.</b> 若要用軟碟片開機來安裝
FreeBSD 的話，要下載哪些檔案呢？</p>
</div>

<div class="ANSWER">
<p><b></b>FreeBSD 4.X 的話，需要兩個 image 檔： <tt
class="FILENAME">floppies/kernel.flp</tt> 及 <tt
class="FILENAME">floppies/mfsroot.flp</tt>。image 檔必須用工具像是 <tt
class="COMMAND">fdimage</tt> 或 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">dd</span>(1)</span></a> 來傳送到磁片上。
若是在 FreeBSD 5.3 (及之後版本)有重新規劃開機片架構，所以要抓的是 <tt
class="FILENAME">floppies/boot.flp</tt> 以及 <tt class="FILENAME">floppies/kern<tt
class="REPLACEABLE"><i>X</i></tt></tt> 檔案(目前 X 為 1 跟 2 兩個，加上 <tt
class="FILENAME">floppies/boot.flp</tt>，總共是 3 個檔案)。</p>

<p>若想自己下載 distributions 的話(比如以 <span class="TRADEMARK">MS-DOS</span>&reg;
檔案系統格式安裝)， 以下是建議要抓的 distributions ：</p>

<ul>
<li>
<p>base/ (4.X 版本則為 bin/)</p>
</li>

<li>
<p>manpages/</p>
</li>

<li>
<p>compat*/</p>
</li>

<li>
<p>doc/</p>
</li>

<li>
<p>src/ssys.*</p>
</li>
</ul>

<p>完整安裝步驟以及大部分的安裝問題，請參閱 FreeBSD 使用手冊的 <a
href="http://www.FreeBSD.org/doc/zh_TW.Big5/books/handbook/install.html"
target="_top">安裝 FreeBSD</a> 章節</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="FLOPPY-IMAGE-TOO-LARGE" name="FLOPPY-IMAGE-TOO-LARGE"></a><b>3.2.</b>
若磁片裝不下 image 檔的話，該怎麼辦呢？</p>
</div>

<div class="ANSWER">
<p><b></b>一張 3.5 英吋(1.44MB) 的磁碟片是可以裝上 1474560 bytes 的資料 ，而開機片的
image 檔案大小實際上也是 1474560 bytes。</p>

<p>在製作開機片時，常見錯誤有：</p>

<ul>
<li>
<p>使用 <acronym class="ACRONYM">FTP</acronym> 來下載檔案時， 未選擇 <span
class="emphasis"><i class="EMPHASIS">binary</i></span> 傳輸模式來下載。</p>

<p>有些 FTP client端程式，是預設將傳輸模式設定為 <span class="emphasis"><i
class="EMPHASIS">ascii</i></span> 模式，而且會修改接收到的檔案行尾字串為 client
端的作業系統方式 ，比如 newline(<span class="TRADEMARK">UNIX</span>&reg;格式)
到了作業系統為 <span class="TRADEMARK">Windows</span>&reg; 的 client 端會被改為
CR-LF(<span class="TRADEMARK">MS-DOS</span>格式)， 這會使得 image
檔本身遭到修改而無法正常使用。因此，如果下載的 image 檔案大小若與 FTP
主機上面的檔案『<span class="emphasis"><i class="EMPHASIS">不一致</i></span>』
的話，請重新使用 binary 傳輸模式下載即可。</p>

<p>FTP 指令: 進入 FTP 之後，打 <span class="emphasis"><i
class="EMPHASIS">binary</i></span> 指令，即可切換到 binary 傳輸模式，然後再下載相關 image
檔案。</p>
</li>

<li>
<p>直接用 <span class="TRADEMARK">MS-DOS</span> 的 <tt class="COMMAND">copy</tt>
指令(或類似 的 GUI 程式、或是視窗上直接複製)來複製開機用的 image 檔到磁片上。</p>

<p>不可以用像是 <tt class="COMMAND">copy</tt> 這類程式直接將 image 檔複製到磁片上，因為
image 檔本身包含了完整的磁軌資料，所以不能單純用複製方式， 而必須使用低階工具程式(像是
<tt class="COMMAND">fdimage</tt> 或 <tt class="COMMAND">rawrite</tt>)， 以 “raw”
方式傳送到磁片上。(這部分可參閱 FreeBSD 使用手冊上的 <a
href="http://www.FreeBSD.org/doc/zh_TW.Big5/books/handbook/install.html"
target="_top">安裝 FreeBSD</a>)</p>
</li>
</ul>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="INSTALL-INSTRUCTIONS-LOCATION"
name="INSTALL-INSTRUCTIONS-LOCATION"></a><b>3.3.</b> 可以在哪邊找到安裝 FreeBSD
的解說步驟呢？</p>
</div>

<div class="ANSWER">
<p><b></b>安裝步驟的解說，請參閱 FreeBSD 使用手冊上的 <a
href="http://www.FreeBSD.org/doc/zh_TW.Big5/books/handbook/install.html"
target="_top">安裝 FreeBSD</a> 章節部分。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="NEED-TO-RUN" name="NEED-TO-RUN"></a><b>3.4.</b> 要跑 FreeBSD
需要什麼的配備呢？</p>
</div>

<div class="ANSWER">
<p><b></b>FreeBSD 4.X 之前的版本，硬體需求為 386 或更高級的 PC ，記憶體(RAM)至少要 5 MB
或更多，硬碟空間至少要 60 MB 或更多。 不過，FreeBSD
『系統安裝程式』的記憶體(RAM)需求為至少 16 MB。</p>

<p>從 FreeBSD 5.X 起，硬體需求為 486 或更高級的 PC ，記憶體(RAM)至少要 24 MB
或更多，硬碟空間至少要 150 MB 或更多。</p>

<p>FreeBSD 的所有版本都可以只用低階的 MDA 規格顯示卡，不過...要跑 X11R6 視窗的話，
還是至少用 VGA 或更好規格的顯示卡來用吧。</p>

<p>這部分也可參閱 <a href="hardware.html">Chapter 4</a>。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="FOUR-MEG-RAM-INSTALL" name="FOUR-MEG-RAM-INSTALL"></a><b>3.5.</b> 我電腦 RAM
只有 4MB 而已，可以裝 FreeBSD 嗎？</p>
</div>

<div class="ANSWER">
<p><b></b>安裝 FreeBSD 4.X 的記憶體需求為至少 5 MB ，而 安裝 FreeBSD 5.X (含之後版本)
則是至少要 8 MB 。</p>

<p>在 5.X 之前的所有 FreeBSD 版本，都可以只用 4 MB 的記憶體來 <span class="emphasis"><i
class="EMPHASIS">『運作』</i></span>，不過，前面那節我們說過了『系統安裝程式』的話，
則無法只用 4 MB 的記憶體來執行。因此，你可以先在『系統安裝程式』這步驟之前，
先將記憶體加到 16 MB 以上，安裝完 FreeBSD 之後，就可以把多餘的記憶體拿下來。
或者是，先把要安裝的硬碟拿到有足夠記憶體的機器上先裝好， 然後再把硬碟放回原機器。</p>

<p>此外，只用 4 MB 的記憶體來運作的話，必須要自製 kernel(拿掉不必要的以及犧牲一些東西)。
也有人成功只用 2 MB 的記憶體以 FreeBSD 開機(雖然這樣的系統幾乎等於廢了..)</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="CUSTOM-BOOT-FLOPPY" name="CUSTOM-BOOT-FLOPPY"></a><b>3.6.</b>
要怎樣才能自行打造專用的開機、安裝磁片呢？</p>
</div>

<div class="ANSWER">
<p><b></b>目前，還沒有辦法<span class="emphasis"><i
class="EMPHASIS">『只』</i></span>自製專用的開機、安裝磁片。
必須透過自行打造完整作業系統的 release(發行)，這樣裡面才會包括自己的開機、安裝磁片。</p>

<p>若想自行打造、發行(release)一個完整的作業系統，請參閱這篇 <a
href="http://www.FreeBSD.org/doc/zh_TW.Big5/articles/releng/article.html"
target="_top">Release Engineering</a> 文章。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="MULTIBOOT" name="MULTIBOOT"></a><b>3.7.</b> 我電腦上可以有多重作業系統嗎？</p>
</div>

<div class="ANSWER">
<p><b></b>可以呀，請參閱 <a
href="http://www.FreeBSD.org/doc/zh_TW.Big5/articles/multi-os/index.html"
target="_top">多重作業系統</a> 這篇文章。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="WINDOWS-COEXIST" name="WINDOWS-COEXIST"></a><b>3.8.</b> <span
class="TRADEMARK">Windows</span> 可以與 FreeBSD 共存於電腦上嗎？</p>
</div>

<div class="ANSWER">
<p><b></b>先裝 <span class="TRADEMARK">Windows</span> 再裝 FreeBSD。 那麼 FreeBSD
多重開機管理員(boot manager)就會出現選單讓你選擇要以 <span
class="TRADEMARK">Windows</span> 或 FreeBSD 來開機。不過，若你是先裝 FreeBSD 再裝 <span
class="TRADEMARK">Windows</span> 的話， 那麼 <span class="TRADEMARK">Windows</span>
將會不問先宰，把 FreeBSD 的多重開機管理員(boot manager)蓋掉，
當你遇上這種情況時，請參考下一節說明。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="WIN95-DAMAGED-BOOT-MANAGER" name="WIN95-DAMAGED-BOOT-MANAGER"></a><b>3.9.</b>
嗚.. <span class="TRADEMARK">Windows</span> 把我的多重開機管理員(boot
manager)拿掉了！要怎麼救回來呢？</p>
</div>

<div class="ANSWER">
<p><b></b>可以用以下三種方式之一，來救回你的 FreeBSD 多重開機管理員(boot manager)：</p>

<ul>
<li>
<p>可以從各 FreeBSD FTP 站的 <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/"
target="_top">/pub/FreeBSD/tools/</a> 找到 <tt class="FILENAME">bootinst.exe</tt> 及 <tt
class="FILENAME">boot.bin</tt> 這兩個檔， 以 binary 傳輸模式下載後，複製到磁片上，再用
DOS 開機片開機， 接著打類似下面的指令：</p>

<pre class="SCREEN">
<samp class="PROMPT">&gt;</samp> <kbd class="USERINPUT">bootinst.exe boot.bin</kbd>
</pre>

<p>這樣，多重開機管理員(boot manager)就會重裝完畢了。</p>
</li>

<li>
<p>用 FreeBSD 開機片開機，然後選單那邊選 Custom installation(自訂安裝)， 再選
Partition，接著選擇你要裝多重開機管理員(boot manager)的硬碟(通常是第一顆)， 然後會出現
partition editor 的畫面，這時請不要做任何修改，直接按 W 儲存， 這時程式就會問是否要確定
Write ，最後出現 Boot Manager 選擇畫面， 記得要選 “Boot Manager”
，這樣就會重新將多重開機管理員(boot manager)
安裝到硬碟上。現在，就大功告成可以離開安裝選單並重開機了。</p>
</li>

<li>
<p>用 FreeBSD 開機片或是開機光碟開機，然後選單那邊選 “Fixit” ，或是以 Fixit
開機片或是光碟安裝的第二片(選擇 “live” filesystem 選項)然後就會進入 fixit shell
了，接著打下列指令：</p>

<pre class="SCREEN">
<samp class="PROMPT">Fixit#</samp> <kbd class="USERINPUT">fdisk -B -b /boot/boot0 <tt
class="REPLACEABLE"><i>bootdevice</i></tt></kbd>
</pre>

<p>請將上面的 <tt class="REPLACEABLE"><i>bootdevice</i></tt> 修改為您實際的開機硬碟代號
比如 <tt class="DEVICENAME">ad0</tt> (第一顆 IDE 硬碟) ，或是<tt
class="DEVICENAME">ad4</tt> (first IDE disk on auxiliary controller), <tt
class="DEVICENAME">da0</tt> (第一顆 SCSI 硬碟)等等。</p>
</li>
</ul>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="BOOT-ON-THINKPAD" name="BOOT-ON-THINKPAD"></a><b>3.10.</b> IBM Thinkpad
A系列、T系列或 X系列的筆記型電腦裝完 FreeBSD 之後重開機，就當了，該怎麼辦呢？</p>
</div>

<div class="ANSWER">
<p><b></b>(本問題主要是發生在 2000 ~ 2001 四月間時)這些 IBM 機器上的 BIOS
早期版本有個臭蟲(bug)會把 FreeBSD 分割區誤認為是 FAT 格式分割區，然後當 BIOS 試著偵測
FreeBSD 分割區時，就會當了。</p>

<p>根據 IBM 方面的說法<a id="AEN736" name="AEN736" href="#FTN.AEN736"><span
class="footnote">[1]</span></a> ，以下型號/BIOS版本的機種，已經都有修正：</p>

<div class="INFORMALTABLE"><a id="AEN739" name="AEN739"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>型號</th>
<th>BIOS 版本</th>
</tr>
</thead>

<tbody>
<tr>
<td>T20</td>
<td>IYET49WW(含之後)</td>
</tr>

<tr>
<td>T21</td>
<td>KZET22WW(含之後)</td>
</tr>

<tr>
<td>A20p</td>
<td>IVET62WW(含之後)</td>
</tr>

<tr>
<td>A20m</td>
<td>IWET54WW(含之後)</td>
</tr>

<tr>
<td>A21p</td>
<td>KYET27WW(含之後)</td>
</tr>

<tr>
<td>A21m</td>
<td>KXET24WW(含之後)</td>
</tr>

<tr>
<td>A21e</td>
<td>KUET30WW</td>
</tr>
</tbody>
</table>
</div>

<p>這些後期的 IBM BIOS 修訂版大多已經修正此一臭蟲。Jacques Vidrine 寫給 <a
href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-mobile" target="_top">FreeBSD
laptop computer mailing list</a> 的 <a
href="http://docs.FreeBSD.org/cgi/mid.cgi?20010427133759.A71732" target="_top">這封信</a>
上面說明了若你新的 IBM 筆記型電腦無法順利以 FreeBSD 開機的解法步驟 (假設可以升級或降級
BIOS 版本的話)。</p>

<p>如果機器用的是較古早版本的 BIOS，而且不適合更新 BIOS
的話，那麼以下我們會介紹暫時解法， 教你如何修改 FreeBSD 分割區所使用的 ID
，並安裝相關修補程式。</p>

<p>First, you will need to restore the machine to a state where it can get through its
self-test screen. Doing this requires powering up the machine without letting it find a
FreeBSD partition on its primary disk. One way is to remove the hard disk and temporarily
move it to an older ThinkPad (such as a ThinkPad 600) or a desktop PC with an appropriate
conversion cable. Once it is there, you can delete the FreeBSD partition and move the
hard disk back. The ThinkPad should now be in a bootable state again.</p>

<p>With the machine functional again, you can use the workaround procedure described here
to get a working FreeBSD installation.</p>

<div class="PROCEDURE">
<ol type="1">
<li class="STEP">
<p>從 <a href="http://people.FreeBSD.org/~bmah/ThinkPad/"
target="_top">http://people.FreeBSD.org/~bmah/ThinkPad/</a> 來下載 <tt
class="FILENAME">boot1</tt> 及 <tt class="FILENAME">boot2</tt> 這兩個檔。
把這兩個檔案放在磁片、光碟或其他硬碟上。</p>
</li>

<li class="STEP">
<p>以一般安裝 FreeBSD 裝到 ThinkPad 上，記得 <span class="emphasis"><i
class="EMPHASIS">『不要用』</i></span> <tt class="LITERAL">Dangerously Dedicated</tt>
模式。 此外，<span class="emphasis"><i class="EMPHASIS">『不要』</i></span>
在完成安裝之後就重開機。</p>
</li>

<li class="STEP">
<p>進入 shell：(按 <b class="KEYCAP">ALT</b>+<b class="KEYCAP">F4</b>) 切換到“Emergency
Holographic Shell” 或是選單上面選擇 “fixit” shell。</p>
</li>

<li class="STEP">
<p>用 <a href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">fdisk</span>(8)</span></a> 把 FreeBSD
分割區 ID 由 <tt class="LITERAL">165</tt> 改為 <tt
class="LITERAL">166</tt>(OpenBSD所使用的ID)。</p>
</li>

<li class="STEP">
<p>把剛剛提的 <tt class="FILENAME">boot1</tt> 跟 <tt class="FILENAME">boot2</tt>
這兩個檔案放到目前的硬碟檔案系統上。</p>
</li>

<li class="STEP">
<p>以 <a href="http://www.FreeBSD.org/cgi/man.cgi?query=disklabel&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">disklabel</span>(8)</span></a> 把 <tt
class="FILENAME">boot1</tt> 及 <tt class="FILENAME">boot2</tt> 存到你的 FreeBSD slice
上面。</p>

<pre class="SCREEN">
<samp class="PROMPT">#</samp> <kbd
class="USERINPUT">disklabel -B -b boot1 -s boot2 ad0s<tt
class="REPLACEABLE"><i>n</i></tt></kbd>
</pre>

<p><tt class="REPLACEABLE"><i>「n」</i></tt> 是你裝 FreeBSD 的 slice， 請將 <tt
class="REPLACEABLE"><i>「n」</i></tt> 改為符合你系統現況的 slice。</p>
</li>

<li class="STEP">
<p>重開機，在 boot prompt 會看到有 <tt class="LITERAL">OpenBSD</tt> 的選項，
選它，這樣就會以 FreeBSD 開機。</p>
</li>
</ol>
</div>

<p>另外，至於如何讓 OpenBSD 及 FreeBSD 並存在同一台 IBM ThinkPad 上...
這個問題就交給各位看倌們去嘗試了 :p</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="INSTALL-BAD-BLOCKS" name="INSTALL-BAD-BLOCKS"></a><b>3.11.</b>
有壞軌的硬碟可以拿來裝 FreeBSD 嘛？</p>
</div>

<div class="ANSWER">
<p><b></b>(如果很堅持的話)也是可以，不過這想法顯然不太明智。:(</p>

<p>如果在一般較新的 IDE 硬碟上看到有壞軌，很有可能代表：這顆硬碟即將掛點了。
(因為目前所有較新的 IDE 硬碟，內部都有自動 remapping 壞軌的能力。
如果看到有壞軌，則表示它內部自動 remapping 功能失效，無法處理壞軌，
也就是說這顆硬碟已經是嚴重損壞程度了。)我們建議買顆新硬碟比較乾脆些唷。</p>

<p>如果是 SCSI 硬碟有壞軌的話，請試著參考這個 <a
href="troubleshoot.html#AWRE">解法</a>。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="BOOT-FLOPPY-STRANGENESS" name="BOOT-FLOPPY-STRANGENESS"></a><b>3.12.</b>
用安裝磁片開機時，卻有些怪現象發生！這是什麼情況呢？</p>
</div>

<div class="ANSWER">
<p><b></b>若看到一些怪異現象，像是開機片開機開到一半就當了，磁碟機完全沒任何動作、
或是不斷反覆重開機，請先檢查以下幾個線索：</p>

<ol type="1">
<li>
<p>請確定是否為全新、沒有磁軌錯誤的磁片？
(最好使用新買的，而非雜誌、書本附贈的，甚至還放在床底下三年了...=_="")</p>
</li>

<li>
<p>請確定是否有用 binary(或image)傳輸模式來下載 image 檔？
(不用覺得不好意思，即使是我們也曾意外以 ASCII 傳輸模式來下載 binary 檔案！)</p>
</li>

<li>
<p>若你是 <span class="TRADEMARK">Windows</span> 95/98/ME/NT/2000/XP/2003
來下載、製作開機磁片的話， 請確定是否有在 DOS 模式使用 <tt class="COMMAND">fdimage</tt>
或 <tt class="COMMAND">rawrite</tt> 這兩個工具程式？剛講的這些作業系統，
都會影響程式去直接寫入硬體，像是製作開機片之類的動作。 有時候，在 GUI 介面上的 DOS shell
也可能會發生這樣的問題。</p>
</li>
</ol>

<p>此外，直接透過 <span class="TRADEMARK">Netscape</span>&reg; 瀏覽器下載 image
檔的話，也有類似現象。 所以，如果可以的話，請改用其他可以調整設定的 FTP
client端程式來進行下載。 (當然，要記得調 binary 傳輸模式)</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="NO-INSTALL-CDROM" name="NO-INSTALL-CDROM"></a><b>3.13.</b>
用光碟開機片來安裝，但光碟開機後，安裝程式說找不到光碟...這是怎麼了？</p>
</div>

<div class="ANSWER">
<p><b></b>通常問題在於光碟機設定錯誤。目前很多電腦的出廠標準配備都有光碟機，並且
會預先設定為 IDE 通道上面 Secondary 的 Slave 設備，而 Secondary 上面的 卻沒有 Master
設備。以 ATAPI 的規格而言，這是錯誤的設定，然而 <span class="TRADEMARK">Windows</span>
的作法 是不理會這些規格上的設定問題，而且開機時 BIOS 偵測也會略過這點。 這也就是為什麼
BIOS 可以看到光碟，並且可用光碟開機，但 FreeBSD 無法正常抓到光碟以順利進行安裝。</p>

<p>解法：重新設定系統，讓光碟成為它所連接那條 IDE 通道的 Master， 或者只有一條 IDE
通道的話，那就讓光碟機成為 Slave ，當然該 IDE 通道上至少要有 Master 設備。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="INSTALL-PLIP" name="INSTALL-PLIP"></a><b>3.14.</b> 我可以用 PLIP(Parallel Line
IP)方式來安裝 FreeBSD 到筆記型電腦上嗎？</p>
</div>

<div class="ANSWER">
<p><b></b>可以，用一條普通的 Laplink 線就可以囉。若有這方面需求的話，請參閱 FreeBSD
使用手冊中的 <a
href="http://www.FreeBSD.org/doc/zh_TW.Big5/books/handbook/network-plip.html"
target="_top">PLIP 章節</a> 的細部設定</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="GEOMETRY" name="GEOMETRY"></a><b>3.15.</b>
該用哪一種硬碟設定參數(geometry)呢？</p>
</div>

<div class="ANSWER">
<p><b></b></p>

<p><b>Note:</b> 這裡的『硬碟設定參數(geometry)』，指的是硬碟上的
「cylinders」、「heads」、「sectors/track」 這三個設定參數。
接下來的文章內，為了方便介紹，將簡稱為『C/H/S』。 這些設定參數是讓 PC 上的 BIOS
能順利地正常判別硬碟， 與硬碟本身讀寫的重要因素。</p>

<br />
<br />
<p>對剛接手的系統管理者新手而言，這些設定參數常造成一些困擾。 首先，SCSI 硬碟上的 <span
class="emphasis"><i class="EMPHASIS">physical</i></span> geometry 跟 FreeBSD 上的 disk
blocks 是完全無關的。事實上， 就硬碟上磁區密度的變化而言，並沒有所謂『physical
geometry』這種東西。 硬碟製造商所說的『physical geometry』通常是指：
硬碟上所使用最小空間來存放資料的設定參數(geometry)。 以 IDE 硬碟而言，FreeBSD
用以存取硬碟設定的方式是 C/H/S ， 然而，目前市面上的硬碟早就在內部運作時，就自動轉換為
block 方式 了。</p>

<p>真正關鍵的地方，其實是在於 『<span class="emphasis"><i
class="EMPHASIS">logical</i></span> geometry』— 這是 BIOS
偵測硬碟時所得到的設定，並且用來決定硬碟存取方式。 由於 FreeBSD 是採用 BIOS
的偵測設定值，所以如何來讓 BIOS 偵測到的設定值保持正確，
是十分重要。尤其是同一顆硬碟上有多個作業系統的情況，
它們都必須採用一致的硬碟設定參數(geometry)，
否則就會有開機進不去作業系統的嚴重問題了。</p>

<p>以 SCSI 硬碟而言，硬碟設定參數(geometry)是由 SCSI 卡上的 extended
translation(通常指的是有標示 “support &gt;1GB”(支援 1GB 以上容量，或類似名詞)
支援與否來作決定。 如果不支援，那麼就會採用 <tt class="REPLACEABLE"><i>N</i></tt>
cylinders、 64 heads、 32 sectors/track 作為硬碟設定參數(geometry)，這裡講的『<tt
class="REPLACEABLE"><i>N</i></tt>』 是指硬碟的容量(單位：MB)。舉個例子來說，一顆 2GB
硬碟應該是 2048 cylinders、64 heads、32 sectors/track。</p>

<p>如果該 SCSI 有支援使用 extended translation 的話， (通常這個方式在 <span
class="TRADEMARK">MS-DOS</span> 使用上有某些限制)，並且硬碟容量大於 1GB，
那麼硬碟設定參數(geometry)就會使用像是： M cylinders、255 heads、每磁軌 63
sectors(請注意：不是『64』哦)， 這裡講的『<tt
class="LITERAL">M</tt>』是指硬碟的容量(單位：MB)再除以 7.844238
所得出的數值喔！所以，這個例子的話，同樣是 2GB 硬碟應該是 261 cylinders、255
heads、每磁軌 63 sectors。</p>

<p>若對上面講的不瞭解，或是 FreeBSD 在安裝時所偵測到的硬碟設定參數(geometry)
有問題的話，最簡單的解法通常是在硬碟上建立一塊小小的 DOS 分割區(partition)。
這樣一來，就可以偵測到正確的硬碟設定參數了，而且， 如果不想繼續留著那小塊 DOS
分割區的話，可以隨時用 partition editor
來拿掉它。或者把它留著當作網路卡驅動程式使用，或隨你高興怎麼用它。</p>

<p>此外呢，有個免費好用的工具程式叫做『<tt class="FILENAME">pfdisk.exe</tt>』，
這個程式放在各 FreeBSD FTP 站或光碟的 <tt class="FILENAME">tools</tt> 目錄下，
它可以用來找出硬碟上其他作業系統所使用的硬碟設定參數， 然後就可以在 partition editor
內輸入剛剛找到的那些設定參數就可以了。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="DISK-DIVIDE-RESTRICTIONS" name="DISK-DIVIDE-RESTRICTIONS"></a><b>3.16.</b>
分割磁碟機時有任何限制嗎﹖</p>
</div>

<div class="ANSWER">
<p><b></b>有，你必須確認你的 root 分割區是在 1024 cylinders 之內，讓 BIOS
可以從其中啟動核心。(注意：這是 PC 的 BIOS 功能限制，而不 是 FreeBSD 的)</p>

<p>以 SCSI 硬碟而言，通常是把 <tt class="LITERAL">root</tt> (<tt class="FILENAME">/</tt>)
分割區放到硬碟最前面的 1024MB (如果有支援 extended translation 的話， 那麼是最前面的
4096MB — 這點請參考上一小節)。而 IDE 硬碟的話，相對應的則是 504MB。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="DISK-MANAGER" name="DISK-MANAGER"></a><b>3.17.</b>
可以使用哪些磁碟管理程式(disk managers)呢？</p>
</div>

<div class="ANSWER">
<p><b></b>FreeBSD 可以用 Ontrack Disk Manager 並且運作正常， 至於其他的 disk manager
則不在正式支援之列。</p>

<p>若整顆硬碟只裝 FreeBSD ，那麼就不用再裝 disk manager 了。 只要把硬碟設定為 BIOS
所能抓到的最大空間，那麼 FreeBSD 就可算出實際上可使用的空間了。 如果，正在使用的是古早
MFM 控制卡的舊式硬碟， 那麼就需要在 FreeBSD內作 cylinders 相關設定了。</p>

<p>如果想在磁碟上使用 FreeBSD 和另外的作業系統，也可以不裝 disk manager， 只要確定
FreeBSD 的啟動分割區跟其他作業系統的 slice 都位於開始的 1024 cylinders
內就可以了。如果你相當地高明的話，一個 20MB 的啟動分割區應該就夠用了。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="MISSING-OS" name="MISSING-OS"></a><b>3.18.</b> FreeBSD
安裝完畢後重開機，但是電腦卻說 “<tt class="ERRORNAME">Missing Operating
System</tt>”這是怎麼了？</p>
</div>

<div class="ANSWER">
<p><b></b>通常原因出在 FreeBSD 及 DOS 或其他作業系統在硬碟的 <a
href="install.html#GEOMETRY">設定參數(geometry)</a>上的規劃有相衝。解法是重裝，但是請照
上述的相關章節步驟來做。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="STOP-AT-BOOT-MANAGER" name="STOP-AT-BOOT-MANAGER"></a><b>3.19.</b>
為什麼機器上多重開機管理員(boot manager)出現了 <samp class="PROMPT">F?</samp>
這個選單畫面， 但卻不會自動跳過而繼續開機呢？</p>
</div>

<div class="ANSWER">
<p><b></b>這個症狀是本文上面所提的另外一個問題了，原因在於 BIOS 上跟 FreeBSD
上面兩邊的硬碟的 <a href="install.html#GEOMETRY">設定參數(geometry)</a> 並不一致。
若你硬碟或 BIOS 支援 cylinder translation (通常會被標為 “support &gt;1GB(支援 1
GB以上容量)”的話， 試試看更改相關設定，並重裝 FreeBSD。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="NEED-COMPLETE-SOURCES" name="NEED-COMPLETE-SOURCES"></a><b>3.20.</b> 安裝
FreeBSD 時，需要安裝完整的 sources 嗎？</p>
</div>

<div class="ANSWER">
<p><b></b>一般來說，這是用不著的。然而，我們強烈建議您的 source 至少要裝 <tt
class="LITERAL">base</tt>(包含了本文中所提的一些檔案)、以及 <tt class="LITERAL">sys</tt>
(kernel 的 source 檔)。 雖然，作業系統本身運是不需要裝 source 檔，但是 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">config</span>(8)</span></a> 這個
kernel設定程式則需要 src 。 若沒裝 kernel 的 source 檔，仍然可以用其他地方透過 NFS
掛載的唯讀檔案系統， 來編譯程式。 但由於 kernel-source 本身的限制，我們建議不要直接 mount
在 <tt class="FILENAME">/usr/src</tt>， 最好是用 symbolic link(參閱 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ln&amp;sektion=1"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">ln</span>(1)</span></a>)
將掛載的路徑，設定連結到<tt class="FILENAME">/usr/src</tt> 目錄。</p>

<p>在機器上直接裝有 source 並且瞭解相關編譯過程，這樣子日後升級 FreeBSD
會來得方便多。</p>

<p>若忘了裝相關 source 的話，可以事後用 <tt class="COMMAND">sysinstalll</tt> (FreeBSD 6.X
之前為 <tt class="COMMAND">/stand/sysinstall</tt>) 來補裝，選單：Configure →
Distributions → src。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="NEED-KERNEL" name="NEED-KERNEL"></a><b>3.21.</b> 需要重新 build kernel 嗎？</p>
</div>

<div class="ANSWER">
<p><b></b>在很久很久以前，原本重新 build kernel 在 FreeBSD 安裝過程中，
是絕對必需的步驟之一。但目前早就不用這麼麻煩了， 目前主要常見的版本都使用更友善的 kernel
設定指令。 FreeBSD 4.X(含之前版本)，在 FreeBSD 啟動提示號(boot:)時，使用 <code
class="OPTION">"-c"</code> flag 就會進入設定畫面，來對 kernel 作常見的 ISA 卡細節設定。
而 FreeBSD 5.X(含之後版本)的話，則是以更具彈性的 "hints" 設定方式。</p>

<p>如果想更節省 RAM 的使用、縮短開機流程，那麼建議：新的 kernel
設定檔只要包含你需要的驅動程式， 然後重新編譯、安裝 kernel
並重開機。然而呢，這點對大多數的系統來說， 這不一定是必要的。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="PASSWORD-ENCRYPTION" name="PASSWORD-ENCRYPTION"></a><b>3.22.</b> 密碼編碼該採用
DES、Blowfish 或 MD5 的哪一種？該怎麼設定呢？</p>
</div>

<div class="ANSWER">
<p><b></b>FreeBSD 預設的密碼編碼方式是採 <span class="emphasis"><i
class="EMPHASIS">MD5</i></span>。 就密碼編碼方式而言，MD5 方式一般被視為比傳統 <span
class="TRADEMARK">UNIX</span> 的 <span class="emphasis"><i
class="EMPHASIS">DES</i></span> 方式較為安全。
然而，若有需要在使用舊環境(較不安全的密碼編碼方式的)，DES 密碼編碼方式一樣可以使用。
(若使用 sysinstall 時有選擇 “crypto” 套件，或是從 source 內編譯安裝) 有裝 crypto
的話，crypto libraries 也支援更安全的 Blowfish 編碼方式。</p>

<p>密碼編碼的方式是由 <tt class="FILENAME">/etc/login.conf</tt> 內的 “passwd_format”
欄位來決定的。該欄設定值，(若有裝 crypto 的話)可以是 “des” 或 “blf” 或是原本的
“md5”。 詳情請參閱 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">login.conf</span>(5)</span></a>
說明。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="BOOT-FLOPPY-HANGS" name="BOOT-FLOPPY-HANGS"></a><b>3.23.</b>
為什麼開機磁片開到一半，就出現 <tt class="LITERAL">Probing Devices...</tt>
的畫面訊息，然後就停住了？</p>
</div>

<div class="ANSWER">
<p><b></b>若機器上有裝 IDE 介面的 Iomega <span class="TRADEMARK">Zip</span>&reg; 或是
<span class="TRADEMARK">Jaz</span>&reg; 的話，
因為這些設備可能跟開機片有相衝，請先拿掉這些設備再重試。
當整個作業系統裝好後，就可以把這些設備接回去使用了。 希望這點在日後 release 的 FreeBSD
可以獲得徹底解決。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="PANIC-ON-INSTALL-REBOOT" name="PANIC-ON-INSTALL-REBOOT"></a><b>3.24.</b>
系統裝完並重開機後，為什麼卻出現 “<tt class="ERRORNAME">panic: can't mount
root</tt>”？</p>
</div>

<div class="ANSWER">
<p><b></b>這個錯誤是因為啟動磁區跟 kernel 兩者對磁碟裝置的認知不相同。
通常這問題會發生在有兩顆 IDE 硬碟的系統，比如：硬碟 Jumper 設定為 Master、 或是兩條 IDE
排線各只連接一顆硬碟，但是裝 FreeBSD 那顆開機硬碟， 卻接在 Secondary IDE 排線上。
如此一來，在開機時當 kernel 指定第二個 IDE 控制器的第一個磁碟機 ad2，
啟動磁區卻認為系統是裝在 ad0(BIOS偵測的第二顆硬碟)！ 偵測完裝置後，kernel
試著把啟動磁區所認為的開機硬碟(ad0) mount 起來，事實上應該是 ad2
才對，所以就會出現上面的錯誤訊息了。</p>

<p>解法如下，請選擇其中一種方式就好：</p>

<ol type="1">
<li>
<p>重開機並在出現『<tt class="LITERAL">Booting kernel in 10 seconds; hit [Enter] to
interrupt</tt>』 提示的時候，按下 <b class="KEYCAP">Enter</b>鍵。 這樣子就會進入 boot
loader 畫面：</p>

<p>請輸入 <tt class="LITERAL">set root_disk_unit="<tt
class="REPLACEABLE"><i>disk_number</i></tt>"</tt> 這裡的『<tt
class="REPLACEABLE"><i>disk_number</i></tt>』請依據情況換成相關代號： 若 FreeBSD
硬碟是設定裝在 Primary IDE 接線的 Master，就設為 0 ； 若是 Primary IDE 接線的
Slave，就設為 1； 若是 Secondary IDE 接線的 Master，就設為 2； 若是 Secondary IDE 接線的
Slave，就設為 3。</p>

<p>接著請再輸入 <tt class="LITERAL">boot</tt>，然後系統應該就可以正常開機了。</p>

<p>若要每次開機都自動設定，而不必每次都打一次，那麼就在 <tt
class="FILENAME">/boot/loader.conf.local</tt> 檔案內加上 <tt
class="LITERAL">root_disk_unit="<tt class="REPLACEABLE"><i>disk_number</i></tt>"</tt>
這行 (當然，『<tt class="REPLACEABLE"><i>disk_number</i></tt>』要改成相關代號)</p>
</li>

<li>
<p>把 FreeBSD 硬碟改接到 Primary IDE 接線上，如此一來就可順利使用。</p>
</li>
</ol>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="MEMORY-LIMITS" name="MEMORY-LIMITS"></a><b>3.25.</b> 記憶體最大限制為多少？</p>
</div>

<div class="ANSWER">
<p><b></b>一般 <span class="TRADEMARK">i386</span>&#8482; 機器上最多可支援到 4
GB(gigabytes)。 而自 FreeBSD 4.9 及 5.1 可以開始使用 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pae&amp;sektion=4"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">pae</span>(4)</span></a>
來支援更多的記憶體。 有關這點，需要在 kernel 設定檔內加入下列內容並重新編譯
kernel，才能使用 PAE。</p>

<pre class="PROGRAMLISTING">
options       PAE
</pre>

<p>FreeBSD 在 pc98 機器上最多則只支援 4 GB ，而且不能使用 PAE。 在 Alpha
機器上，記憶體限制方面要視所使用的型號支援程度而定，這點請參閱 所使用的 Alpha
硬體規格表。至於其他架構的 FreeBSD 理論上最多可使用的記憶體，有較多的限制。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="FFS-LIMITS" name="FFS-LIMITS"></a><b>3.26.</b> 檔案系統最大限制為多少？</p>
</div>

<div class="ANSWER">
<p><b></b>就檔案系統方面，理論上的限制是最多到 8TB(2G blocks)， 或是使用內定 8K block
大小時，限制是 16TB。 實際上，目前軟體使用上限制只能用到 1 TB，
然而如果是有另行改造過檔案系統，那麼達到 4TB 的目標是可行的 (也有人成功過)。</p>

<p>單一檔案的大小方面，假如 block 以 4K 作規劃的話， 則最大是趨近 1G blocks(4TB)。</p>

<div class="TABLE"><a id="AEN1003" name="AEN1003"></a>
<p><b>Table 3-1. 檔案大小的最大限制</b></p>

<table border="1" class="CALSTABLE">
<col />
<col />
<col />
<thead>
<tr>
<th>檔案系統 block 大小</th>
<th>works</th>
<th>should work</th>
</tr>
</thead>

<tbody>
<tr>
<td>4K</td>
<td>4T-1</td>
<td>&gt;4T</td>
</tr>

<tr>
<td>8K</td>
<td>&gt;32G</td>
<td>32T-1</td>
</tr>

<tr>
<td>16K</td>
<td>&gt;128G</td>
<td>32T-1</td>
</tr>

<tr>
<td>32K</td>
<td>&gt;512G</td>
<td>64T-1</td>
</tr>

<tr>
<td>64K</td>
<td>&gt;2048G</td>
<td>128T-1</td>
</tr>
</tbody>
</table>
</div>

<p>When the fs block size is 4K, triple indirect blocks work and everything should be
limited by the maximum fs block number that can be represented using triple indirect
blocks (approx. 1K^3 + 1K^2 + 1K), but everything is limited by a (wrong) limit of 1G-1
on fs block numbers. The limit on fs block numbers should be 2G-1. There are some bugs
for fs block numbers near 2G-1, but such block numbers are unreachable when the fs block
size is 4K.</p>

<p>block 大小如果是 8K 或更大，檔案系統 block 數目會被限制在 2G-1 ，但實際上應該說限制是
1G-1 才對，因為採用 2G-1 block 的檔案系統會導致一些問題。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="ARCHSW-READIN-FAILED-ERROR" name="ARCHSW-READIN-FAILED-ERROR"></a><b>3.27.</b>
為何在啟動新的 kernel 時，看到 “<tt class="ERRORNAME">archsw.readin.failed</tt>”
錯誤訊息？</p>
</div>

<div class="ANSWER">
<p><b></b>原因出在你的 world 以及 kernel 並不同步，舉例：kernel 用 4.11， 而 world 卻是
4.8，這樣是會有問題的。 請再次確認，是否有以 <tt class="COMMAND">make buildworld</tt> 及
<tt class="COMMAND">make buildkernel</tt> 來正常更新 kernel。</p>

<p>在啟動 loader 之前，會看到 "|" 這個符號在轉動，這時可以按任何鍵中斷，
然後再指定要載入哪個 kernel 來開機。</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="SECURITY-PROFILES" name="SECURITY-PROFILES"></a><b>3.28.</b> “security
profiles” 是指什麼？</p>
</div>

<div class="ANSWER">
<p><b></b>A “security profile” is a set of configuration options that attempts to
achieve the desired ratio of security to convenience by enabling and disabling certain
programs and other settings. For full details, see the <a
href="http://www.FreeBSD.org/doc/zh_TW.Big5/books/handbook/install-post.html#SECURITYPROFILE"
 target="_top">Security Profile</a> section of the Handbook's <a
href="http://www.FreeBSD.org/doc/zh_TW.Big5/books/handbook/install-post.html"
target="_top">post-install chapter</a>.</p>
</div>
</div>

<div class="QANDAENTRY">
<div class="QUESTION">
<p><a id="BOOT-ACPI" name="BOOT-ACPI"></a><b>3.29.</b> 在開機時，選擇使用 ACPI
則在安裝過程就掛了，該怎麼辦？</p>
</div>

<div class="ANSWER">
<p><b></b>試試看關閉 ACPI support。 當在載入 bootloader時，按下空白鍵。 系統會顯示</p>

<pre class="SCREEN">
OK
</pre>

這時輸入 

<pre class="SCREEN">
<kbd class="USERINPUT">unset acpi_load</kbd>
</pre>

接著打 

<pre class="SCREEN">
<kbd class="USERINPUT">boot</kbd>
</pre>

以繼續開機，這樣子應該就可以了。<br />
<br />
</div>
</div>
</div>
</div>

<h3 class="FOOTNOTES">Notes</h3>

<table border="0" class="FOOTNOTES" width="100%">
<tr>
<td align="LEFT" valign="TOP" width="5%"><a id="FTN.AEN736" name="FTN.AEN736"
href="install.html#AEN736"><span class="footnote">[1]</span></a></td>
<td align="LEFT" valign="TOP" width="95%">
<p>一封來自 Keith Frechette 的 e-mail <code class="EMAIL">&#60;<a
href="mailto:kfrechet@us.ibm.com">kfrechet@us.ibm.com</a>&#62;</code>。</p>
</td>
</tr>
</table>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="support.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="hardware.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">文件與技術支援</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">硬體支援方面</td>
</tr>
</table>
</div>

<p align="center"><small>This, and other documents, can be downloaded from <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p>

<p align="center"><small>For questions about FreeBSD, read the <a
href="http://www.FreeBSD.org/docs.html">documentation</a> before contacting &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.<br />
For questions about this documentation, e-mail &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</small></p>
</body>
</html>

