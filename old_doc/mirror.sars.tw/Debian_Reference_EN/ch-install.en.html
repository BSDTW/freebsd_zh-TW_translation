<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<title>Debian Reference - Debian System installation hints</title>

</head>

<body>

<p><a name="ch-install"></a></p>
<hr>

<p>
[ <a href="ch-system.en.html">previous</a> ]
[ <a href="index.en.html#contents">Contents</a> ]
[ <a href="ch-preface.en.html">1</a> ]
[ <a href="ch-system.en.html">2</a> ]
[ 3 ]
[ <a href="ch-tutorial.en.html">4</a> ]
[ <a href="ch-woody.en.html">5</a> ]
[ <a href="ch-package.en.html">6</a> ]
[ <a href="ch-kernel.en.html">7</a> ]
[ <a href="ch-tips.en.html">8</a> ]
[ <a href="ch-tune.en.html">9</a> ]
[ <a href="ch-gateway.en.html">10</a> ]
[ <a href="ch-edit.en.html">11</a> ]
[ <a href="ch-vcs.en.html">12</a> ]
[ <a href="ch-program.en.html">13</a> ]
[ <a href="ch-gnupg.en.html">14</a> ]
[ <a href="ch-support.en.html">15</a> ]
[ <a href="ap-appendix.en.html">A</a> ]
[ <a href="ch-tutorial.en.html">next</a> ]
</p>

<hr>

<h1>
Debian Reference
<br>Chapter 3 - Debian System installation hints
</h1>

<hr>

<p>
Official documentation for installing Debian is located at <code><a
href="http://www.debian.org/releases/stable/">http://www.debian.org/releases/stable/</a></code>
and <code><a
href="http://www.debian.org/releases/stable/installmanual">http://www.debian.org/releases/stable/installmanual</a></code>.
</p>

<p>
The development versions are located at <code><a
href="http://www.debian.org/releases/testing/">http://www.debian.org/releases/testing/</a></code>
and <code><a
href="http://www.debian.org/releases/testing/installmanual">http://www.debian.org/releases/testing/installmanual</a></code>
(work in progress, sometimes this may not exist).
</p>

<p>
Although this chapter was initially written during the days of the Potato
installer, most of the contents have been updated to the Woody installer and
they are very similar installers.  Since Sarge will use a totally new
installer, please use this as a reference point for the Sarge installer.  Also
some key packages have changed names and priorities.  For example, default MTA
of Sarge is <code>exim4</code> instead of <code>exim</code>, and
<code>coreutils</code> has been introduced to replace several packages.  You
may need to adjust actions.
</p>

<hr>

<h2><a name="s3.1"></a>3.1 General Linux system installation hints</h2>

<p>
Do not forget to check <code><a
href="http://www.debian.org/CD/netinst/">http://www.debian.org/CD/netinst/</a></code>
if you are looking for a compact CD image of the Debian installer.
</p>

<p>
Running the <samp>testing</samp> or <samp>unstable</samp> distribution
increases the risk of hitting serious bugs.  This risk can be managed by
deploying a multibooting scheme with a more stable Debian distribution or by
using the nice trick provided by <code>chroot</code> as described in <a
href="ch-tips.en.html#s-chroot"><code>chroot</code>, Section 8.6.35</a>.  The
latter will enable running different Debian distributions simultaneously on
different consoles.
</p>

<hr>

<h3><a name="s3.1.1"></a>3.1.1 Hardware compatibility basics</h3>

<p>
Linux is compatible with most PC hardware and can be installed to almost any
system.  For me it was as easy as installing Windows 95/98/Me.  The hardware
compatibility list just seems to keep growing.
</p>

<p>
If you have a laptop PC, check <code><a
href="http://www.linux-laptop.net/">Linux on Laptops</a></code> for
installation pointers by brand and model.
</p>

<p>
My recommendation for desktop PC hardware is &quot;Just be conservative&quot;:
</p>
<ul>
<li>
<p>
SCSI rather than IDE for work, IDE/ATAPI HD for private use.
</p>
</li>
<li>
<p>
IDE/ATAPI CD-ROM (or CD-RW).
</p>
</li>
<li>
<p>
PCI rather than ISA, especially for the network card (NIC).
</p>
</li>
<li>
<p>
Use a cheap NIC.  Tulip for PCI, NE2000 for ISA are good.
</p>
</li>
<li>
<p>
Avoid PCMCIA (notebook) as your first Linux install.
</p>
</li>
<li>
<p>
No USB keyboard, mouse, ...  unless you want a challenge.
</p>
</li>
</ul>

<p>
If you have a slow machine, yanking out the hard drive and plugging it into
another faster machine for installation is a good idea.
</p>

<hr>

<h3><a name="s3.1.2"></a>3.1.2 Determining a PC's hardware and chip set</h3>

<p>
During installation, one will be asked to identify the hardware or chip set of
the PC.  Sometimes that information may not seem easy to find.  Here is one
method:
</p>
<!-- ol type="1" start="1"  -->
<li>
<p>
Open your PC's case and look inside.
</p>
</li>
<li>
<p>
Record the product ID codes on the large chips on the graphics card, network
card, chip near serial ports, chip near IDE ports.
</p>
</li>
<li>
<p>
Record card names printed on the back of the PCI and ISA cards.
</p>
</li>
</ol>

<hr>

<h3><a name="s3.1.3"></a>3.1.3 Determining a PC's hardware via Debian</h3>

<p>
The following commands on a Linux system should give some idea of actual
hardware and configuration.
</p>

<pre>
     $ pager /proc/pci
     $ pager /proc/interrupts
     $ pager /proc/ioports
     $ pager /proc/bus/usb/devices
</pre>

<p>
These commands can be run during the install process from the console screen by
pressing Alt-F2.
</p>

<p>
After the initial installation, with the installation of optional packages such
as <code>pciutils</code>, <code>usbutils</code>, and <code>lshw</code>, you can
obtain more extensive system information.
</p>

<pre>
     $ lspci -v |pager
     $ lsusb -v |pager
     # lshw  |pager
</pre>

<p>
Typical uses of interrupts:
</p>
<ul>
<li>
<p>
IRQ0: timer output (8254)
</p>
</li>
<li>
<p>
IRQ1: keyboard controller
</p>
</li>
<li>
<p>
IRQ2: cascade to IRQ8&ndash;IRQ15 on PC-AT
</p>
</li>
<li>
<p>
IRQ3: secondary serial port (io-port=0x2F8) (<code>/dev/ttyS1</code>)
</p>
</li>
<li>
<p>
IRQ4: primary serial port (io-port=0x3F8) (<code>/dev/ttyS0</code>)
</p>
</li>
<li>
<p>
IRQ5: free [sound card (SB16: io-port=0x220, DMA-low=1, DMA-high=5)]
</p>
</li>
<li>
<p>
IRQ6: floppy disk controller (io-port=0x3F0) (<code>/dev/fd0</code>,
<code>/dev/fd1</code>)
</p>
</li>
<li>
<p>
IRQ7: parport (io-port=0x378) (<code>/dev/lp0</code>)
</p>
</li>
<li>
<p>
IRQ8: rtc
</p>
</li>
<li>
<p>
IRQ9: software interrupt (int 0x0A), redirect to IRQ2
</p>
</li>
<li>
<p>
IRQ10: free [network interface card (NE2000: io-port=0x300)]
</p>
</li>
<li>
<p>
IRQ11: free [(SB16-SCSI: io-port=0x340, SB16-IDE: io-port=0x1E8,0x3EE)]
</p>
</li>
<li>
<p>
IRQ12: PS/2 Mouse
</p>
</li>
<li>
<p>
IRQ13: free (was 80287 math coprocessor)
</p>
</li>
<li>
<p>
IRQ14: primary IDE controller (<code>/dev/hda</code>, <code>/dev/hdb</code>)
</p>
</li>
<li>
<p>
IRQ15: secondary IDE controller (<code>/dev/hdc</code>, <code>/dev/hdd</code>)
</p>
</li>
</ul>

<p>
For old non-PnP ISA cards, you may want to set IRQ5, IRQ10, and IRQ11 as
non-PnP from the BIOS.
</p>

<p>
For USB devices, device classes are listed in
<code>/proc/bus/usb/devices</code> as <samp>Cls=<var>nn</var></samp>:
</p>
<ul>
<li>
<p>
Cls=00 : Unused
</p>
</li>
<li>
<p>
Cls=01 : Audio (speaker etc.)
</p>
</li>
<li>
<p>
Cls=02 : Communication (MODEM, NIC, ...)
</p>
</li>
<li>
<p>
Cls=03 : HID (Human Interface Device: KB, mouse, joystick)
</p>
</li>
<li>
<p>
Cls=07 : Printer
</p>
</li>
<li>
<p>
Cls=08 : Mass storage (FDD, CD/DVD drive, HDD, Flash, ...)
</p>
</li>
<li>
<p>
Cls=09 : Hub (USB hub)
</p>
</li>
<li>
<p>
Cls=255 : Vendor specific
</p>
</li>
</ul>

<p>
If the device class of a device is not 255, Linux supports the device.
</p>

<hr>

<h3><a name="s3.1.4"></a>3.1.4 Determining a PC's hardware via other OSs</h3>

<p>
Hardware information can also be obtained from other OSs:
</p>

<p>
Install another commercial Linux distribution.  Hardware detection on those
tends to be better than on Debian as of now.  (This situation should even out
once <code>debian-installer</code> is introduced with Sarge.)
</p>

<p>
Install Windows.  Hardware configuration can be obtained by right-clicking
&quot;My Computer&quot; to get to Properties / Device Manager.  Record all
resource information such as IRQ, I/O port address, and DMA.  Some old ISA
cards may need to be configured under DOS and used accordingly.
</p>

<hr>

<h3><a name="s3.1.5"></a>3.1.5 A Lilo myth</h3>

<p>
&quot;Lilo is limited to 1024 cylinders.&quot; Wrong!
</p>

<p>
The newer <code>lilo</code> used after Debian Potato has lba32 support.  If the
BIOS of your motherboard is recent enough to support lba32, <code>lilo</code>
should be able to load beyond the old 1024-cylinder limitation.
</p>

<p>
Just make sure to add a line reading &quot;lba32&quot; somewhere near the
beginning of your <code>lilo.conf</code> file if you have kept an old
<code>lilo.conf</code>.  See
<code>file:///usr/share/doc/lilo/Manual.txt.gz</code>.
</p>

<hr>

<h3><a name="s-instgrub"></a>3.1.6 GRUB</h3>

<p>
The new boot loader <code>grub</code> from the GNU Hurd project can be
installed on a Debian Woody system:
</p>

<pre>
     # apt-get update
     # apt-get install grub-doc
     # mc file:///usr/share/doc/grub-doc/html/
     ... read contents
     # apt-get install grub
     # pager file:///usr/share/doc/grub/README.Debian.gz
     ... read it :)
</pre>

<p>
To edit the GRUB menu, edit <code>/boot/grub/menu.lst</code>.  See <a
href="ch-tips.en.html#s-bootgrub">Setting GRUB boot parameters, Section
8.1.6</a> for how to set boot parameters during the boot process since it is
slightly different from <code>lilo</code> configuration.
</p>

<hr>

<h3><a name="s-bootfloppy"></a>3.1.7 Choice of boot floppies</h3>

<p>
For Potato, I liked the IDEPCI disk set for normal install to a desktop.  For
Woody, I like the bf2.4 boot disk set.  They both use a version of
<code>boot-floppies</code> to create boot floppies.
</p>

<p>
If you have a PCMCIA network card, you need to use the standard boot disk set
(largest number of floppies but all driver modules available) and configure the
NIC in the PCMCIA setup; do not try to set up an NIC card in the standard
network setup dialog.
</p>

<p>
For special systems, you may need to create a custom rescue disk.  This can be
done by replacing the kernel image named &quot;linux&quot; on the Debian rescue
disk by overwriting it with another compressed kernel image compiled off-site
for the machine.  Details are documented in <code>readme.txt</code> on the
rescue disk.  The rescue floppy uses the MS-DOS filesystem, so you can use any
system to read and edit it.  This should make life easier for people with a
special network card, etc.
</p>

<p>
For Sarge, <code>debian-installer</code> and/or <code>pgi</code> is expected to
be used for creating boot floppies.
</p>

<hr>

<h3><a name="s3.1.8"></a>3.1.8 Installation</h3>

<p>
Follow the official instructions found in <code><a
href="http://www.debian.org/releases/stable/installmanual">http://www.debian.org/releases/stable/installmanual</a></code>
or <code><a
href="http://www.debian.org/releases/testing/installmanual">http://www.debian.org/releases/testing/installmanual</a></code>
(work in progress, sometimes this may not exist).
</p>

<p>
If you are installing a system using <code>boot-floppies</code> in the
<samp>testing</samp> distribution, you may need to open a console terminal
during the install process by pressing Alt-F2 and manually edit
<code>/etc/apt/sources.list</code> entries, changing &quot;stable&quot; to
&quot;testing&quot; to adjust APT sources.
</p>

<p>
I tend to install <code>lilo</code> into places like <code>/dev/hda3</code>,
while installing <code>mbr</code> into <code>/dev/hda</code>.  This minimizes
the risk of overwriting boot information.
</p>

<p>
Here is what I choose during the install process.
</p>
<ul>
<li>
<p>
MD5 passwords &quot;yes&quot;
</p>
</li>
<li>
<p>
shadow passwords &quot;yes&quot;
</p>
</li>
<li>
<p>
Install &quot;advanced&quot; (dselect **) and select
</p>
<ul>
<li>
<p>
Exclude emacs (if selected), nvi, tex, telnet, talk(d);
</p>
</li>
<li>
<p>
Include mc, vim, either one of nano-tiny or elvis-tiny.
</p>
<p>
See <a href="ch-package.en.html#s-dselect"><code>dselect</code>, Section
6.2.4</a>.  Even if you are an Emacs fan, avoid it now and be content with nano
during install.  Also avoid installing other large packages such as TeX (Potato
used to do this) at this stage.  See <a
href="ch-edit.en.html#s-bin-editor">Rescue editors, Section 11.2</a> for the
reason for installing nano-tiny or elvis-tiny here.
</p>
</li>
</ul>
</li>
<li>
<p>
All configuration questions = &quot;y&quot; (replace current) during each
package install dialog.
</p>
</li>
<li>
<p>
<code>exim</code>: select 2 for machine since I send mail through my ISP's SMTP
server.
</p>
</li>
</ul>

<p>
For more information on dselect, see <a
href="ch-package.en.html#s-dselect"><code>dselect</code>, Section 6.2.4</a>.
</p>

<hr>

<h3><a name="s-ipmap"></a>3.1.9 Hosts and IP to use for LAN</h3>

<p>
Example of LAN configuration (C subnet: 192.168.1.0/24):
</p>

<pre>
     Internet
        |
        +--- External ISP provides POP service (accessed by fetchmail)
        | 
       Access point ISP provides DHCP service and SMTP relay service
        |                     :
       Cable modem         (Dialup)
        |                     :
     LAN Gateway machine external port: eth0 (IP given by ISP's DHCP)
      use old notebook PC (IBM Thinkpad, 486 DX2 50MHz, 20MB RAM)
      run Linux 2.4 kernel with ext3 filesystem.
      run &quot;ipmasq&quot; package (with stronger patch, NAT, and firewall)
      run &quot;dhcp-client&quot; package configured for eth0 (override DNS setting)
      run &quot;dhcp&quot; package configured for eth1
      run &quot;exim&quot; as the smarthost (mode 2)
      run &quot;fetchmail&quot; with a long interval (fallback)
      run &quot;bind&quot; as the cache nameserver for Internet from LAN
                 as authoritative nameserver for LAN domain from LAN
      run &quot;ssh&quot; on port 22 and 8080 (connect from anywhere)
      run &quot;squid&quot; as the cache server for the Debian archive (for APT)
     LAN Gateway machine internal port: eth1 (IP = 192.168.1.1, fixed)
                              |
              +--- LAN Switch (100base T) ---+
              |                              |
     Some fixed IP clients on LAN     Some DHCP clients on LAN
     (IP = 192.168.1.2-127, fixed)    (IP = 192.168.1.128-200, dynamic)
</pre>

<p>
See <a href="ch-gateway.en.html">Network configuration, Chapter 10</a> for the
details of configuring the network.  See <a
href="ch-gateway.en.html#s-net-router">Building a gateway router, Section
10.12</a> for the details of configuring the LAN gateway server.
</p>

<hr>

<h3><a name="s3.1.10"></a>3.1.10 User accounts</h3>

<p>
In order to have a consistent feel across machines, the first few accounts are
always the same in my system.
</p>

<p>
I always create a first user account with a name like &quot;admin&quot;
(uid=1000).  I forward all root email there.  This account is given membership
in the <samp>adm</samp> group (see <a href="ch-tune.en.html#s-wheel">&quot;Why
GNU <code>su</code> does not support the <samp>wheel</samp> group&quot;,
Section 9.2.2</a>), which can be given a good amount of root privilege through
<code>su</code> using PAM or the <code>sudo</code> command.  See <a
href="ch-tutorial.en.html#s-newuser">Add a user account, Section 4.1.3</a> for
details.
</p>

<hr>

<h3><a name="s3.1.11"></a>3.1.11 Creating filesystems</h3>

<hr>

<h4><a name="s3.1.11.1"></a>3.1.11.1 Hard disk partition</h4>

<p>
I prefer to use different partitions for different directory trees to limit
damage upon system crash.  E.g.,
</p>

<pre>
     /          == (/ + /boot + /bin + /sbin)
                == 50MB+
     /tmp       == 100MB+
     /var       == 100MB+
     /home      == 100MB+
     /usr       == 700MB+ with X
     /usr/local == 100MB
</pre>

<p>
The size of the <code>/usr</code> directory is very dependent on X Window
applications and documentation.  <code>/usr/</code> can be 300MB if one runs a
console terminal only, whereas 2GB&ndash;3GB is not an unusual size if one has
installed many Gnome applications.  When <code>/usr/</code> grows too big,
moving out <code>/usr/share/</code> to a different partition is the most
effective cure.  With the new large prepackaged Linux 2.4 kernels,
<code>/</code> may need more than 200MB.
</p>

<p>
For example, the current status of my Internet gateway machine is as follows
(output of the <samp>df -h</samp> command):
</p>

<pre>
     Filesystem            Size  Used Avail Use% Mounted on
     /dev/hda3             300M  106M  179M  38% /
     /dev/hda7             100M   12M   82M  13% /home
     /dev/hda8             596M   53M  513M  10% /var
     /dev/hda6             100M  834k   94M   1% /var/lib/cvs
     /dev/hda9             596M  222M  343M  40% /usr
     /dev/hda10            596M  130M  436M  23% /var/cache/apt/archives
     /dev/hda11            1.5G  204M  1.2G  14% /var/spool/squid
</pre>

<p>
(The large area reserved for <code>/var/spool/squid/</code> is for a proxy
cache for package downloading.)
</p>

<p>
Following is <samp>fdisk -l</samp> output to provide an idea of partition
structure:
</p>

<pre>
     # fdisk -l /dev/hda # comment
     
     /dev/hda1             1        41    309928+   6  FAT16 # DOS
     /dev/hda2            42        84    325080   83  Linux # (not used)
     /dev/hda3   *        85       126    317520   83  Linux # Main
     /dev/hda4           127       629   3802680    5  Extended
     /dev/hda5           127       143    128488+  82  Linux swap
     /dev/hda6           144       157    105808+  83  Linux
     /dev/hda7           158       171    105808+  83  Linux
     /dev/hda8           172       253    619888+  83  Linux
     /dev/hda9           254       335    619888+  83  Linux
     /dev/hda10          336       417    619888+  83  Linux
     /dev/hda11          418       629   1602688+  83  Linux
</pre>

<p>
A few unused partitions exist.  These are for installing a second Linux
distribution or as expansion space for growing directory trees.
</p>

<hr>

<h4><a name="s3.1.11.2"></a>3.1.11.2 Mount filesystems</h4>

<p>
Mounting the above filesystems properly is accomplished with the following
<code>/etc/fstab</code>:
</p>

<pre>
     
     # /etc/fstab: static filesystem information.
     #
     # filesystem    mount point     type    options                dump pass
     /dev/hda3       /               ext2    defaults,errors=remount-ro 0 1
     /dev/hda5       none            swap    sw                      0 0
     proc            /proc           proc    defaults                0 0
     /dev/fd0        /floppy         auto    defaults,user,noauto    0 0
     /dev/cdrom      /cdrom          iso9660 defaults,ro,user,noauto 0 0
     #
     # keep partitions separate
     /dev/hda7       /home           ext2    defaults                0 2
     /dev/hda8       /var            ext2    defaults                0 2
     /dev/hda6       /var/lib/cvs    ext2    defaults                0 2
     # noatime will speed up file access for read access
     /dev/hda9       /usr            ext2    defaults,noatime        0 2
     /dev/hda10      /var/cache/apt/archives ext2    defaults        0 2
     
     # very big partition for proxy cache
     /dev/hda11      /var/spool/squid ext2   rw                      0 2
     
     # backup bootable DOS
     /dev/hda1       /mnt/dos        vfat    rw,noauto               0 0
     # backup bootable Linux system (not done)
     /dev/hda2       /mnt/linux      ext2    rw,noauto               0 0
     #
     # nfs mounts
     mickey:/        /mnt/mickey     nfs     ro,noauto,intr          0 0
     goofy:/         /mnt/goofy      nfs     ro,noauto,intr          0 0
     # minnie:/ /mnt/minnie smbfs ro,soft,intr,credentials={filename} 0 2
</pre>

<p>
For NFS, I use <samp>noauto,intr</samp> combined with the default
<samp>hard</samp> option.  This way, it is possible to recover from a hung
process due to a dead connection using Ctrl-C.
</p>

<p>
For a Windows machine connected with Samba (smbfs),
<samp>rw,auto,soft,intr</samp> may be good idea.  See <a href="#s-samba">Samba
configuration, Section 3.5</a>.
</p>

<p>
For a floppy drive, using <samp>noauto,rw,sync,user,exec</samp> instead
prevents file corruption after accidental disk eject before unmount, but this
slows the write process.
</p>

<hr>

<h4><a name="s3.1.11.3"></a>3.1.11.3 Autofs mount</h4>

<p>
Key points to auto mount:
</p>
<ul>
<li>
<p>
Load the <samp>vfat</samp> module to allow <code>/etc/auto.misc</code> to
contain <samp>-fstype=auto</samp>:
</p>
<pre>
     # modprobe vfat # prior to the floppy access attempt
      ... or to automate this setting,
     # echo &quot;vfat&quot; &gt;&gt; /etc/modules
      ... and reboot the system.
</pre>
</li>
<li>
<p>
Set <code>/etc/auto.misc</code> as follows:
</p>
<pre>
     floppy -fstype=auto,sync,nodev,nosuid,gid=100,umask=000 :/dev/fd0
      ... where gid=100 is &quot;users&quot;.
</pre>
</li>
<li>
<p>
Create <code>cdrom</code> and <code>floppy</code> links in
<code>/home/<var>user</var></code>, that point to
<code>/var/autofs/misc/cdrom</code> and <code>/var/autofs/misc/floppy</code>
respectively.
</p>
</li>
<li>
<p>
Add <var>user</var> to the &quot;users&quot; group.
</p>
</li>
</ul>

<hr>

<h4><a name="s3.1.11.4"></a>3.1.11.4 NFS mount</h4>

<p>
The external Linux NFS server (goofy) resides behind a firewall (gateway).  I
have a very relaxed security policy on my LAN since I am the only user.  To
enable NFS access, the NFS server side needs to add <code>/etc/exports</code>
as follows:
</p>

<pre>
     # /etc/exports: the access control list for filesystems which may be
     #               exported to NFS clients.  See exports(5).
     /       (rw,no_root_squash)
</pre>

<p>
This is needed to activate the NFS server in addition to installing and
activating the NFS server and client packages.
</p>

<p>
For simplicity, I usually create a single partition of 2GB for an experimental
or secondary lazy Linux install.  I optionally share swap and <code>/tmp</code>
partitions for these installs.  A multipartition scheme is too involved for
these usages.  If only a simple console system is needed, 500MB may be more
than sufficient.
</p>

<hr>

<h3><a name="s3.1.12"></a>3.1.12 DRAM memory guidelines</h3>

<p>
Following are rough guidelines for DRAM.
</p>

<pre>
       4MB:  Bare minimum for Linux kernel to function.
      16MB:  Minimum for reasonable console system.
      32MB:  Minimum for simple X system.
      64MB:  Minimum for X system with GNOME/KDE.
     128MB:  Comfortable for X system with GNOME/KDE.
     256MB (or more): Why not if you can afford it?  DRAM is cheap.
</pre>

<p>
Using the boot option <samp>mem=4m</samp> (or lilo
<samp>append=&quot;mem=4m&quot;</samp>) will show how the system would perform
with 4MB of memory installed.  A lilo boot parameter is needed for a system
containing more than 64MB of memory with an old BIOS.
</p>

<hr>

<h3><a name="s3.1.13"></a>3.1.13 Swap space</h3>

<p>
I use the following guidelines for swap space:
</p>
<ul>
<li>
<p>
Each swap partition is &lt; 128MB (if using an old 2.0 kernel), &lt; 2GB (with
recent kernels)
</p>
</li>
<li>
<p>
Total = either (1 to 2 times installed RAM) or (128MB to 2GB) as a guideline
</p>
</li>
<li>
<p>
Spread them on different drives and mount all of them with
<samp>sw,pri=1</samp> options in <code>/etc/fstab</code>.  This ensures that
the kernel does a striping RAID of the swap partitions and offers the maximum
swap performance.
</p>
</li>
<li>
<p>
Use a central portion of the hard disk when possible.
</p>
</li>
</ul>

<p>
Even if you never need it, some swap space (128MB) is desirable so the system
will slow down before it crashes hard with a program which leaks memory.
</p>

<hr>

<h2><a name="s-bashconf"></a>3.2 Bash configuration</h2>

<p>
I modify shell startup scripts to my taste across the system:
</p>

<pre>
     /etc/bash.bashrc        Replace with private one
     /etc/profile            Keep distribution copy ( \w -&gt; \W)
     /etc/skel/.bashrc       Replace with private copy
     /etc/skel/.profile      Replace with private copy
     /etc/skel/.bash_profile Replace with private copy
     ~/.bashrc               Replace with private copy for all accounts
     ~/.profile              Replace with private copy for all accounts
     ~/.bash_profile         Replace with private copy for all accounts
</pre>

<p>
<code><a href="examples/">See details in my example scripts</a></code>.  I like
a transparent system, so I set <code>umask</code> to 002 or 022.
</p>

<p>
<code>PATH</code> is set by the following configuration files in this order:
</p>

<pre>
     /etc/login.defs  - before the shell sets PATH
     /etc/profile     (may call /etc/bash.bashrc)
     ~/.bash_profile  (may call ~/.bashrc)
</pre>

<hr>

<h2><a name="s-gpm"></a>3.3 Mouse configuration</h2>

<hr>

<h3><a name="s3.3.1"></a>3.3.1 PS/2 mice</h3>

<p>
In the case of a PS/2-connector mouse on an ATX motherboard, the signal flow
should be:
</p>

<pre>
     mouse -&gt; /dev/psaux -&gt; gpm -&gt; /dev/gpmdata = /dev/mouse -&gt; X
</pre>

<p>
Here, a symlink <code>/dev/mouse</code> is created and is pointing to
<code>/dev/gpmdata</code> to make some configuration utilities happy and to
make reconfiguration easy.  (E.g., if you decide not to use the
<code>gpm</code> daemon after all, just point the symlink
<code>/dev/mouse</code> to <code>/dev/psaux</code> after getting rid of the
<code>gpm</code> daemon.)
</p>

<p>
This signal flow allows the keyboard and mouse to be unplugged and
reinitialized by restarting <code>gpm</code> upon reconnect.  X will stay
alive!
</p>

<p>
The protocol of the signal flow between <code>gpm</code> output and X input can
be implemented in either of two ways, as &quot;ms3&quot; (use the Microsoft
3-button serial mouse protocol) or &quot;raw&quot; (use the same protocol as
the mouse that is connected), and this choice dictates the choice of protocol
used in X configuration.
</p>

<p>
I will demonstrate the configuration examples using a Logitech 3-button
(traditional Unix-style mouse) PS/2 mouse as an example in the following.
</p>

<p>
If you are one of the unfortunate whose graphics card is not supported by the
new X4 and need to use the old X3 (some ATI 64 bit cards), configure
<samp>/etc/X11/XF86Config</samp> instead of <samp>/etc/X11/XF86Config-4</samp>
in the following examples while installing X3 packages.
</p>

<hr>

<h4><a name="s-gpmms3"></a>3.3.1.1 The ms3 protocol approach</h4>

<pre>
     /etc/gpm.conf            | /etc/X11/XF86Config-4
     =========================+======================================
     device=/dev/psaux        | Section &quot;InputDevice&quot;
     responsiveness=          |  Identifier &quot;Configured Mouse&quot;
     repeat_type=ms3          |  Driver     &quot;mouse&quot;
     type=autops2             |  Option     &quot;CorePointer&quot;
     append=&quot;&quot;                |  Option     &quot;Device&quot;   &quot;/dev/mouse&quot;
     sample_rate=             |  Option     &quot;Protocol&quot; &quot;IntelliMouse&quot;
                              | EndSection
</pre>

<p>
If this approach is used, the mouse type adjustment is done only by editing
<code>gpm.conf</code> and X configuration stays constant.  See <code><a
href="examples/">my example scripts</a></code>.
</p>

<hr>

<h4><a name="s-gpmraw"></a>3.3.1.2 The raw protocol approach</h4>

<pre>
     /etc/gpm.conf            | /etc/X11/XF86Config-4
     =========================+======================================
     device=/dev/psaux        | Section &quot;InputDevice&quot;
     responsiveness=          |  Identifier &quot;Configured Mouse&quot;
     repeat_type=raw          |  Driver     &quot;mouse&quot;
     type=autops2             |  Option     &quot;CorePointer&quot;
     append=&quot;&quot;                |  Option     &quot;Device&quot;   &quot;/dev/mouse&quot;
     sample_rate=             |  Option     &quot;Protocol&quot; &quot;MouseManPlusPS/2&quot;
                              | EndSection
</pre>

<p>
If this approach is used, the mouse type adjustment is done by editing
<code>gpm.conf</code> as well as adjusting X configuration.
</p>

<hr>

<h4><a name="s3.3.1.3"></a>3.3.1.3 How to adjust to different mice</h4>

<p>
The <code>gpm</code> device type <samp>autops2</samp> is supposed to autodetect
most of the PS/2 mice in the market.  Unfortunately it doesn't always work and
it isn't available in pre-Woody versions.  Try using <samp>ps2</samp>, or
<samp>imps2</samp> in <code>gpm.conf</code> instead of <samp>autops2</samp> for
such cases.  To find out the specific types of mouse <code>gpm</code> knows
about, type: <samp>gpm -t help</samp>.  See <code>gpm(8)</code>.
</p>

<p>
If a 2-button PS/2 mouse is used, set the X protocol to enable
<samp>Emulate3Buttons</samp>.  The difference of protocol between the 2-button
mouse and the 3-button mouse is autodetected and auto-adjusted for
<code>gpm</code> after tapping the middle button once.
</p>

<p>
For X protocol with <a href="#s-gpmraw">The raw protocol approach, Section
3.3.1.2</a> or without <code>gpm</code>, use:
</p>
<ul>
<li>
<p>
<samp>IntelliMouse</samp>: serial port mouse (<code>gpm</code> repeater with
&quot;ms3&quot;)
</p>
</li>
<li>
<p>
<samp>PS/2</samp>: PS/2 port mouse (always test this first)
</p>
</li>
<li>
<p>
<samp>IMPS/2</samp>: any PS/2 port mice (2, 3, or scroll mice, better)
</p>
</li>
<li>
<p>
<samp>MouseManPlusPS/2</samp>: Logitech PS/2 port mouse
</p>
</li>
<li>
<p>
<samp>...</samp>
</p>
</li>
</ul>

<p>
See more at <code><a href="http://www.xfree86.org/current/mouse.html">Mouse
Support in XFree86</a></code>.
</p>

<p>
A typical Microsoft scroll mouse is reported to work best with:
</p>

<pre>
     /etc/gpm.conf            | /etc/X11/XF86Config-4
     =========================+======================================
     device=/dev/psaux        | Section &quot;InputDevice&quot;
     responsiveness=          |  Identifier &quot;Configured Mouse&quot;
     repeat_type=raw          |  Driver     &quot;mouse&quot;
     type=autops2             |  Option     &quot;CorePointer&quot;
     append=&quot;&quot;                |  Option     &quot;Device&quot;   &quot;/dev/mouse&quot;
     sample_rate=             |  Option     &quot;Protocol&quot; &quot;IMPS/2&quot;
                              |  Option     &quot;Buttons&quot; &quot;5&quot;
                              |  Option  &quot;ZAxisMapping&quot; &quot;4 5&quot;
                              | EndSection
</pre>

<p>
For some recent thin Toshiba notebook PCs, activating <code>gpm</code> before
PCMCIA in the System-V init script may help prevent system lockup.  Weird but
true.
</p>

<hr>

<h3><a name="s3.3.2"></a>3.3.2 USB mice</h3>

<p>
Make sure you have all required kernel functions activated through kernel
compile time configuration or modules:
</p>
<ul>
<li>
<p>
Under &quot;Input core support&quot;:
</p>
<ul>
<li>
<p>
&quot;Input core support&quot; (CONFIG_INPUT, <code>input.o</code>),
</p>
</li>
<li>
<p>
&quot;Mouse support&quot; (CONFIG_INPUT_MOUSEDEV, <code>mousedev.o</code>),
</p>
</li>
</ul>
</li>
<li>
<p>
Under &quot;USB support&quot;:
</p>
<ul>
<li>
<p>
&quot;Support for USB&quot; (CONFIG_USB, <code>usbcore.o</code>),
</p>
</li>
<li>
<p>
&quot;Preliminary USB device filesystem&quot; (CONFIG_USB_DEVICEFS),
</p>
</li>
<li>
<p>
&quot;UHCI&quot; or &quot;OHCI&quot; (CONFIG_USB_UHCI || CONFIG_USB_UHCI_ALT ||
CONFIG_USB_OHCI, <code>usb-uhci.o</code> || <code>uhci.o</code> ||
<code>usb-ohci.o</code>),
</p>
</li>
<li>
<p>
&quot;USB Human Interface Device (full HID) support&quot; (CONFIG_USB_HID,
<code>hid.o</code>), and
</p>
</li>
<li>
<p>
&quot;HID input layer support&quot; (CONFIG_USB_HIDINPUT)
</p>
</li>
</ul>
</li>
</ul>

<p>
Here, lower case names are module names.
</p>

<p>
If you're not using devfs, create a device node <code>/dev/input/mice</code>
with major 13 and minor 63 as follows:
</p>

<pre>
     # cd /dev
     # mkdir input
     # mknod input/mice c 13 63
</pre>

<p>
For typical scroll <strong>USB</strong> mice, configuration combinations should
be:
</p>

<pre>
     /etc/gpm.conf            | /etc/X11/XF86Config-4
     =========================+======================================
     device=/dev/input/mice   | Section &quot;InputDevice&quot;
     responsiveness=          |  Identifier &quot;Generic Mouse&quot;
     repeat_type=raw          |  Driver     &quot;mouse&quot;
     type=autops2             |  Option     &quot;SendCoreEvents&quot; &quot;true&quot;
     append=&quot;&quot;                |  Option     &quot;Device&quot;   &quot;/dev/input/mice&quot;
     sample_rate=             |  Option     &quot;Protocol&quot; &quot;IMPS/2&quot;
                              |  Option     &quot;Buttons&quot; &quot;5&quot;
                              |  Option  &quot;ZAxisMapping&quot; &quot;4 5&quot;
                              | EndSection
</pre>

<p>
See <code><a href="http://www.linux-usb.org/">the Linux USB Project</a></code>
for more information.
</p>

<hr>

<h3><a name="s3.3.3"></a>3.3.3 Touchpad</h3>

<p>
Although the touchpad on a laptop computer emulates a 2-button PS/2 mouse as
the default behavior, the <code>tpconfig</code> package enables full control of
the device.  For example, setting <samp>OPTIONS=&quot;--tapmode=0&quot;</samp>
in <code>/etc/default/tpconfig</code> will disable pesky &quot;click by
tap&quot; behavior.  Set <code>/etc/gpm.conf</code> as follows to use both
touchpad and USB external mouse on the console:
</p>

<pre>
     device=/dev/psaux
     responsiveness=
     repeat_type=ms3
     type=autops2
     append=&quot;-M -m /dev/input/mice -t autops2&quot;
     sample_rate=
</pre>

<hr>

<h2><a name="s-nfs"></a>3.4 NFS configuration</h2>

<p>
Set up NFS by setting <code>/etc/exports</code>.
</p>

<pre>
     # apt-get install nfs-kernel-server
     # echo &quot;/ *.domainname-for-lan-hosts(rw,no_root_squash,nohide)&quot; \
             &gt;&gt; /etc/exports
</pre>

<p>
<code><a href="examples/">See my example scripts for details</a></code>.
</p>

<hr>

<h2><a name="s-samba"></a>3.5 Samba configuration</h2>

<p>
References:
</p>
<ul>
<li>
<p>
<code><a href="http://www.samba.org/">http://www.samba.org/</a></code>
</p>
</li>
<li>
<p>
<code>samba-doc</code> package
</p>
</li>
</ul>

<p>
Setting up Samba with &quot;share&quot; mode is much easier since this creates
WfW-type share drives.  But it is preferable to set it up with &quot;user&quot;
mode.
</p>

<p>
Samba can be configured through <code>debconf</code> or <code>vi</code>:
</p>

<pre>
     # dpkg-reconfigure --priority=<var>low</var> samba # in Woody
     # vi /etc/samba/smb.conf
</pre>

<p>
<code><a href="examples/">See my example scripts for details</a></code>.
</p>

<p>
Adding a new user to the <code>smbpasswd</code> file can be done via
<code>smbpasswd</code>:
</p>

<pre>
     $ su -c &quot;smbpasswd -a username&quot;
</pre>

<p>
Make sure to use encrypted passwords for optimum compatibility.
</p>

<p>
Set <samp>os level</samp> according to the following system equivalences (the
larger the number, the higher the priority as server):
</p>

<pre>
     0:      Samba with a loose attitude (will never become a master browser)
     1:      WfW 3.1, Win95, Win98, Win/Me?
     16:     Win NT WS 3.51
     17:     Win NT WS 4.0
     32:     Win NT SVR 3.51
     33:     Win NT SVR 4.0
     255:    Samba with mighty power
</pre>

<p>
Make sure that users are members of the group owning the directory that gives
shared access and that the directory path has its execution bit set to access.
</p>

<hr>

<h2><a name="s-printer"></a>3.6 Printer configuration</h2>

<p>
The traditional method is <code>lpr</code>/<code>lpd</code>.  There is a new
CUPS&trade; system (Common UNIX Printing System).  PDQ is another approach.
See the <code><a href="http://www.tldp.org/HOWTO/Printing-HOWTO.html">Linux
Printing HOWTO</a></code> for more information.
</p>

<hr>

<h3><a name="s-lprlpd"></a>3.6.1 <code>lpr</code>/<code>lpd</code></h3>

<p>
For the <code>lpr</code>/<code>lpd</code> type spoolers (<code>lpr</code>,
<code>lprng</code>, and <code>gnulpr</code>), set up <code>/etc/printcap</code>
as follows if they are connected to a PostScript or text-only printer (the
basics):
</p>

<pre>
     <var>lp</var>|<var>alias</var>:\
             :sd=/var/spool/lpd/<var>lp</var>:\
             :mx#0:\
             :sh:\
             :lp=/dev/lp0:
</pre>

<p>
Meaning of the above lines:
</p>
<ul>
<li>
<p>
Head line: <var>lp</var> &ndash; name of spool, <var>alias</var> = alias
</p>
</li>
<li>
<p>
mx#0 &ndash; max file size unlimited
</p>
</li>
<li>
<p>
sh &ndash; suppress printing of burst page header
</p>
</li>
<li>
<p>
lp=/dev/lp0 &ndash; local printer device, or port@host for remote
</p>
</li>
</ul>

<p>
This is a good configuration if you are connected to a PostScript printer.
Also, when printing from a Windows machine through Samba, this is a good
configuration for any Windows-supported printer (no bidirectional communication
is supported).  You have to select the corresponding printer configuration on
the Windows machine.
</p>

<p>
If you do not have a PostScript printer, you need to set up a filtering system
using <code>gs</code>.  There are many autoconfiguration tools provided for
setting up <code>/etc/printcap</code>.  Any of these combinations is an option:
</p>
<ul>
<li>
<p>
<code>gnulpr</code>, (<code>lpr-ppd</code>) and <code>printtool</code>&mdash;I
use this.
</p>
</li>
<li>
<p>
<code>lpr</code> and <code>apsfilter</code>
</p>
</li>
<li>
<p>
<code>lpr</code> and <code>magicfilter</code>
</p>
</li>
<li>
<p>
<code>lprng</code> and <code>lprngtool</code>
</p>
</li>
<li>
<p>
<code>lprng</code> and <code>apsfilter</code>
</p>
</li>
<li>
<p>
<code>lprng</code> and <code>magicfilter</code>
</p>
</li>
</ul>

<p>
In order to run GUI configuration tools such as <code>printtool</code>, see <a
href="ch-tune.en.html#s-ss-xsu">Getting root in X, Section 9.4.12</a> to gain
root privilege.  Printer spools created with <code>printtool</code> use
<code>gs</code> and act like PostScript printers.  So when accessing them, use
PostScript printer drivers.  On the Windows side, &quot;Apple LaserWriter&quot;
is the standard one.
</p>

<hr>

<h3><a name="s-cups"></a>3.6.2 CUPS&trade;</h3>

<p>
The Common UNIX Printing System (or CUPS&trade;) is installed by using
<code>aptitude</code> and installing all packages under &quot;Tasks&quot; -&gt;
&quot;Servers&quot; -&gt; &quot;Print Server&quot;.  (Sarge) For the best
result, you should set <code>aptitude</code> with &quot;F10&quot; -&gt;
&quot;Options&quot; -&gt; &quot;Dependency handling&quot; -&gt; &quot;[X]
Install Recommended packages automatically&quot;.
</p>

<p>
KDE and Gnome Desktop Environments provide easy printer configuration.
Alternatively, you can configure the system using any web browser if
<code>swat</code> is installed:
</p>

<pre>
     $ <var>mybrowser</var> http://localhost:631
</pre>

<p>
For example, to add your printer on some port to the list of accessible
printers:
</p>
<ul>
<li>
<p>
click &quot;Printers&quot; from the main page, and then &quot;Add
Printer&quot;,
</p>
</li>
</ul>
<ul>
<li>
<p>
enter &quot;root&quot; for the username and its password,
</p>
</li>
</ul>
<ul>
<li>
<p>
proceed to add the printer following the prompts,
</p>
</li>
</ul>
<ul>
<li>
<p>
go back to the &quot;Printers&quot; page and click &quot;Configure
Printer&quot;, and
</p>
</li>
</ul>
<ul>
<li>
<p>
proceed to configure the paper size, resolution, and other parameters.
</p>
</li>
</ul>

<p>
See more information at <code><a
href="http://localhost:631/documentation.html">http://localhost:631/documentation.html</a></code>
and <code><a
href="http://www.cups.org/cups-help.html">http://www.cups.org/cups-help.html</a></code>.
</p>

<hr>

<h2><a name="s-anacron"></a>3.7 CRON for desktop PCs</h2>

<p>
The Vixie <code>cron</code> is installed as the default for the scheduled
execution of programs.  It does not function well unless your system is up
24/7.  For the desktop use PC, you need to install <code>anacron</code> over
<code>cron</code> to address this problem.  <code>fcron</code> package may be
used as alternative.
</p>

<p>
See <a href="ch-tips.en.html#s-cronjob">Schedule activity (<code>cron</code>,
<code>at</code>), Section 8.6.27</a> for the configuration of CRON jobs.
</p>

<hr>

<h2><a name="s3.8"></a>3.8 Other host installation hints</h2>

<hr>

<h3><a name="s-post-inst"></a>3.8.1 Install a few more packages after initial install</h3>

<p>
Once you have made it this far, you have a small but functioning Debian system.
It is a good time to install bigger packages.
</p>

<p>
Here the first thing you may want to do is select your favorite editor and any
programs you need with <code>aptitude</code>.  You can install many Emacs
variants at the same time.  See <a href="ch-edit.en.html#s-pop-editor">Popular
editors, Section 11.1</a>.
</p>

<p>
Then, again with <code>aptitude</code>, select (almost) all packages under
&quot;Tasks&quot; --&gt; &quot;End-user&quot; to obtain very complete end-user
oriented system.
</p>

<p>
I usually edit <code>/etc/inittab</code> for easy shutdown.
</p>

<pre>
     ...
     # What to do when CTRL-ALT-DEL is pressed.
     ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -h now
     ...
</pre>

<hr>

<h3><a name="s3.8.2"></a>3.8.2 Modules</h3>

<p>
Modules for the device drivers are configured during the initial installation.
<code>modconf</code> provides menu-driven module configuration afterward.  This
program is quite useful when some modules were left out during the initial
installation or a new kernel was installed after the initial installation.
</p>

<p>
All preloading module names need to be listed in <code>/etc/modules</code>.  I
also use <code>lsmod</code> and <code>depmod</code> to control them manually.
</p>

<p>
Also make sure to add a few lines in <code>/etc/modules</code> to handle IP
masquerading (FTP, etc.) if you did not enable it.
</p>

<hr>

<h3><a name="s3.8.3"></a>3.8.3 CD-RW basic setup</h3>

<p>
For IDE connected CD-RW drive with 2.4 kernel, edit the following files:
</p>

<pre>
     /etc/lilo.conf  (add append=&quot;hdc=ide-scsi ignore=hdc&quot;, 
                      run lilo to activate)
     /dev/cdrom      (symlink # cd /dev; ln -sf scd0 cdrom)
     /etc/modules    (add &quot;ide-scsi&quot; and &quot;sg&quot;. If needed &quot;sr&quot; after this.)
</pre>

<p>
See <a href="ch-tune.en.html#s-cdrw">CD writers, Section 9.3</a> for details.
</p>

<hr>

<h3><a name="s-apm"></a>3.8.4 Large memory and auto power-off</h3>

<p>
Edit <code>/etc/lilo.conf</code> as follows to set boot-prompt parameters for
large memory (for 2.2 kernels) and auto power-off (for APM):
</p>

<pre>
     append=&quot;mem=128M apm=on apm=power-off noapic&quot;
</pre>

<p>
Run <code>lilo</code> to install these settings.  <samp>apm=power-off</samp> is
needed for a SMP kernel and <samp>noapic</samp> is needed to avoid problems for
my buggy SMP hardware.  The same can be done directly by entering options at
the boot prompt.  See <a href="ch-tips.en.html#s-bootprompt">Other boot tricks
with the boot prompt, Section 8.1.5</a>.
</p>

<p>
If APM is compiled as a module, as in Debian default 2.4 kernels, run
<samp>insmod apm power_off=1</samp> after boot or set <code>/etc/modules</code>
by:
</p>

<pre>
     # echo &quot;apm power_off=1&quot; &gt;&gt;/etc/modules
</pre>

<p>
Alternatively, compiling ACPI support achieves the same goal with newer kernels
and seems to be more SMP-friendly (this requires a newer motherboard).  The 2.4
kernel on newer motherboards should detect large memory correctly.
</p>

<pre>
     CONFIG_PM=y
     CONFIG_ACPI=y
     ...
     CONFIG_ACPI_BUSMGR=m
     CONFIG_ACPI_SYS=m
</pre>

<p>
and add the following lines in <code>/etc/modules</code> in this order:
</p>

<pre>
     ospm_busmgr
     ospm_system
</pre>

<p>
Or recompile the kernel with all of the kernel options above set to
&quot;y&quot;.  In any case, none of the boot-prompt parameters are needed with
ACPI.
</p>

<hr>

<h3><a name="s-killecn"></a>3.8.5 Strange access problems with some websites</h3>

<p>
Recent Linux kernels enable ECN by default, which may cause access problems
with some websites on bad routers.  To check ECN status:
</p>

<pre>
     # cat /proc/sys/net/ipv4/tcp_ecn
      ... or
     # sysctl net.ipv4.tcp_ecn
</pre>

<p>
To turn it off, use:
</p>

<pre>
     # echo &quot;0&quot; &gt; /proc/sys/net/ipv4/tcp_ecn
      ... or
     # sysctl -w net.ipv4.tcp_ecn=0
</pre>

<p>
To disable TCP ECN on every boot, edit <code>/etc/sysctl.conf</code> and add:
</p>

<pre>
     net.ipv4.tcp_ecn = 0
</pre>

<hr>

<h3><a name="s3.8.6"></a>3.8.6 Dialup PPP configuration</h3>

<p>
Install the <code>pppconfig</code> package to set up dialup PPP access.
</p>

<pre>
     # apt-get install pppconfig
     # pppconfig
      ... follow the directions to configure dialup PPP
     # adduser <var>user_name</var> dip
      ... allow <var>user_name</var> to access dialup PPP
</pre>

<p>
Dialup PPP access can be initiated by the user (<var>user_name</var>):
</p>

<pre>
     $ pon <var>ISP_name</var>  # start PPP access to your ISP
      ... enjoy the Internet
     $ poff <var>ISP_name</var> # stop PPP access, <var>ISP_name</var> optional
</pre>

<p>
See <a href="ch-gateway.en.html#s-low-ppp">Configuring a PPP interface, Section
10.2.4</a> for more details.
</p>

<hr>

<h3><a name="s3.8.7"></a>3.8.7 Other configuration files to tweak in <code>/etc/</code></h3>

<p>
You may want to add an <code>/etc/cron.deny</code> file, missing from the
standard Debian install (you can copy <code>/etc/at.deny</code>).
</p>

<hr>

<p>
[ <a href="ch-system.en.html">previous</a> ]
[ <a href="index.en.html#contents">Contents</a> ]
[ <a href="ch-preface.en.html">1</a> ]
[ <a href="ch-system.en.html">2</a> ]
[ 3 ]
[ <a href="ch-tutorial.en.html">4</a> ]
[ <a href="ch-woody.en.html">5</a> ]
[ <a href="ch-package.en.html">6</a> ]
[ <a href="ch-kernel.en.html">7</a> ]
[ <a href="ch-tips.en.html">8</a> ]
[ <a href="ch-tune.en.html">9</a> ]
[ <a href="ch-gateway.en.html">10</a> ]
[ <a href="ch-edit.en.html">11</a> ]
[ <a href="ch-vcs.en.html">12</a> ]
[ <a href="ch-program.en.html">13</a> ]
[ <a href="ch-gnupg.en.html">14</a> ]
[ <a href="ch-support.en.html">15</a> ]
[ <a href="ap-appendix.en.html">A</a> ]
[ <a href="ch-tutorial.en.html">next</a> ]
</p>

<hr>

<p>
Debian Reference
</p>

<address>
CVS, Mon Jun 16 21:20:26 UTC 2008<br>
<br>
Osamu Aoki <code><a href="mailto:osamu#at#debian.org">osamu#at#debian.org</a></code><br>
<a href="ap-appendix.en.html#s-authors">Authors, Section A.1</a><br>
<br>
</address>
<hr>

</body>

</html>

