<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"xml:lang="en-US"><head><title>Corrections to Chapter 13 of Java Network Programming, 3rd Edition, UDP Datagrams and Sockets</title></head><body><h1>Corrections to Chapter 13 of Java Network Programming,  3rd Edition, UDP Datagrams and Sockets</h1><p>pp. 426: Figure 13-1 shows the destination port twice.The second one should be a checksum. Here's the corrected picture:</p><img src="13-1.gif" alt="Structure of a UDP datagram" width="1055" height="598" hspace="5" vspace="5" border="0" /><p>pp. 439-441: Example 13-3 and 13-4 share a mutual bug. Both assume they're using the local host's default encoding. However, if these two programs run on different hosts (for instance, one is a Japanese system and one is a French system) that may well not be the same for each. The encoding needs to be explicitly specified in both programs. On p. 439 in Example 13-3 change</p><p><code>byte[] data = theLine.getBytes()</code></p><p>to</p><p><code>byte[] data = theLine.getBytes("UTF-8")</code></p><p>On p. 441 in Example 13-4 change</p><p><code>String s = new String(packet.getData(), 0, packet.getLength())</code></p><p>to</p><p><code>String s = new String(packet.getData(), 0, packet.getLength(), "UTF-8")</code></p><p>This will allow the two hosts to exchange data regardless of differing encodings.</p><hr /><div align="center">[ <a href="index.html">Java Network Programming Corrections</a> | <a href="../index.html">Java Network Programming Home Page</a> | <a href="../index.html#toc">Table of Contents</a> | <a href="../examples/">Examples</a> | <a href="http://www.amazon.com/exec/obidos/ISBN=0596007213/cafeaulaitA">Order from Amazon</a> ]]</div><hr>Copyright 2004-2005 <a href="http://www.elharo.com/">Elliotte Rusty Harold</a><br><a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;elharo%40metalab%2Eunc%2Eedu">elharo&#64;metalab&#46;unc&#46;edu</a><br>Last Modified February 22, 2005</body></html>