<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>中文排序？</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7" />
<link rel="HOME" title="FreeBSD Chinese HOWTO" href="index.html" />
<link rel="UP" title="常見問題解答" href="faq.html" />
<link rel="PREVIOUS" title="opera 無法輸入中文？" href="opera.html" />
<link rel="NEXT" title="文字編碼" href="charmap.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=Big5" />
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">FreeBSD Chinese HOWTO</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="opera.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 21. 常見問題解答</td>
<td width="10%" align="right" valign="bottom"><a href="charmap.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECT1">
<h1 class="SECT1"><a id="SORT" name="SORT">21.46. 中文排序？</a></h1>

<p>Last Modify: 2004年12月12日 周日 09時47分11秒 CST</p>

<p>以下的筆劃排序只是概略，可依照自己的要求修改。</p>

<pre class="PROGRAMLISTING">
&lt;?php
/*
 * Usage: bool usort(array array, "big5_cmp");
 */

function big5_storke($a)
{
  $b2h = bin2hex($a);
  $storke = array("", "a440", "a442", "a454", "a4a1", "a4fe", "a5e0", "a6ea",
    "a8c3", "ab45", "adbc", "b0ae", "b3c3", "b6c4", "b9ac", "bbf5", "bea7",
    "c075", "c24f", "c35f", "c455", "c3d7", "c56b", "c5c8", "c5f1", "c655",
    "c665", "c66c", "c676", "c67b", "c67e");
  for($i = 0; $i &#60; sizeof($storke); $i++) {
    if($storke[$i] &#38;&#38; $storke[$i+1]) {
      if($b2h &#62;= $storke[$i] &#38;&#38; $b2h &#60; $storke[$i+1]) return $i;
    }
  }
  $storke = array("", "", "c940", "c945", "c94d", "c95d", "c9ab", "ca5a",
    "cbb1", "cddd", "d0c8", "d44b", "d851", "dcb1", "e0f0", "e4e6", "e8f4",
    "ecb9", "efb7", "f1eb", "f3fd", "f5c0", "f6d6", "f7d0", "f8a5", "f8e9",
    "f96b", "f9a2", "f9ba", "f9c6", "f9dc");
  for($i = 0; $i &#60; sizeof($storke); $i++) {
    if($storke[$i] &#38;&#38; $storke[$i+1]) {
      if($b2h &#62;= $storke[$i] &#38;&#38; $b2h &#60; $storke[$i+1]) return $i;
    }
  }
  return 0;
}

function big5_cmp($a, $b)
{
  $a_stk = big5_storke($a);
  $b_stk = big5_storke($b);
  if($a_stk == $b_stk) {
    return 0;
  }
  return ($a_stk &#60; $b_stk) ? -1 : 1;
}
?&gt;
</pre>

<p>WWW: <a href="http://netlab.cse.yzu.edu.tw/~statue/freebsd/hanzi/examp/"
target="_top">由 &#22531;(方方土) 探討 Big5e 編碼</a></p>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="opera.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="charmap.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">opera 無法輸入中文？</td>
<td width="34%" align="center" valign="top"><a href="faq.html" accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">文字編碼</td>
</tr>
</table>
</div>
</body>
</html>

