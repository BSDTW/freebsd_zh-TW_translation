<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Chapter 3. Tutorial</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="MySQL 5.1 Reference Manual"><link rel="up" href="index.html" title="MySQL 5.1 Reference Manual"><link rel="prev" href="installing.html" title="Chapter 2. Installing MySQL"><link rel="next" href="using-mysql-programs.html" title="Chapter 4. Using MySQL Programs">
<style>
<!--
span.GramE
	{}
 table.MsoNormalTable
	{mso-style-parent:"";
	font-size:10.0pt;
	
	}
 li.MsoNormal
	{mso-style-parent:"";
	margin-bottom:.0001pt;
	font-size:12.0pt;
	
	; margin-left:0cm; margin-right:0cm; margin-top:0cm}
-->
</style>
</head><body><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="tutorial"></a>
	第3章：教程</h2></div></div></div><div class="toc"><p><b>目錄</b></p><dl><dt><span class="section"><a href="tutorial.html#connecting-disconnecting">
		3.1. 連接與中斷伺服器</a></span></dt><dt><span class="section"><a href="tutorial.html#entering-queries">
		3.2. 輸入查詢</a></span></dt><dt><span class="section"><a href="tutorial.html#database-use">
		3.3. 建立並使用資料庫</a></span></dt><dd><dl><dt><span class="section"><a href="tutorial.html#creating-database">
			3.3.1. 建立並選擇資料庫</a></span></dt><dt><span class="section"><a href="tutorial.html#creating-tables">
			3.3.2. 建立資料表</a></span></dt><dt><span class="section"><a href="tutorial.html#loading-tables">
			3.3.3. 將數據裝入資料表中</a></span></dt><dt><span class="section"><a href="tutorial.html#retrieving-data">
			3.3.4. 從資料表檢索訊息</a></span></dt></dl></dd><dt><span class="section"><a href="tutorial.html#getting-information">
		3.4. 獲得資料庫和資料表的訊息</a></span></dt><dt><span class="section"><a href="tutorial.html#batch-mode">
		3.5. 在批處理模式<span><strong class="command">下使用my</strong></span>sql</a></span></dt><dt><span class="section"><a href="tutorial.html#examples">
		3.6. 常用查詢的例子</a></span></dt><dd><dl><dt><span class="section"><a href="tutorial.html#example-maximum-column">
			3.6.1. 列的最大值</a></span></dt><dt><span class="section"><a href="tutorial.html#example-maximum-row">
			3.6.2. 擁有某個列的最大值的行</a></span></dt><dt><span class="section"><a href="tutorial.html#example-maximum-column-group">
			3.6.3. 列的最大值：按組</a></span></dt><dt><span class="section"><a href="tutorial.html#example-maximum-column-group-row">
			3.6.4. 擁有某個字段的組間最大值的行</a></span></dt><dt><span class="section"><a href="tutorial.html#example-user-variables">
			3.6.5. 使用用戶變數</a></span></dt><dt><span class="section"><a href="tutorial.html#example-foreign-keys">
			3.6.6. 使用外部鍵</a></span></dt><dt><span class="section"><a href="tutorial.html#searching-on-two-keys">
			3.6.7. 根據兩個鍵搜索</a></span></dt><dt><span class="section"><a href="tutorial.html#calculating-days">
			3.6.8. 根據天計算訪問量</a></span></dt><dt><span class="section"><a href="tutorial.html#example-auto-increment">
			3.6.9. 使用AUTO_INCREMENT</a></span></dt></dl></dd><dt><span class="section"><a href="tutorial.html#twin">
		3.7. 孿生項目的查詢</a></span></dt><dd><dl><dt><span class="section"><a href="tutorial.html#twin-pool">
			3.7.1. 搜尋所有未分發的孿生項</a></span></dt><dt><span class="section"><a href="tutorial.html#twin-event">
			3.7.2. 顯示孿生對狀態的資料表</a></span></dt></dl></dd><dt><span class="section"><a href="tutorial.html#apache">
		3.8. 與Apache一起使用MySQL</a></span></dt></dl></div><a class="indexterm" name="id2732856"></a><a class="indexterm" name="id2732863"></a><a class="indexterm" name="id2732873"></a><a class="indexterm" name="id2732883"></a>
	<p>本章通過演示如何使用<b><span>mysql</span></b>客戶程式創造和使用一個簡單的資料庫，提供一個<span>MySQL</span>的入門教程。<b><span>mysql</span></b>（有時稱為「終端監視器」或只是「監視」）是一個交互式程式，允許您連接一個<span>MySQL</span>伺服器，運行查詢並察看結果。<b><span>mysql</span></b>可以用於批模式：您預先把查詢放在一個檔案中，然後告訴<b><span>mysql</span></b>執行檔案的內容。本章將介紹使用<b><span>mysql</span></b>的兩個方法。</p>
	<p>要想查看由<b><span>mysql</span></b>提供的選擇項目資料表，可以用<span>--help</span>選項來使用：</p>
	<pre><span>shell&gt; </span><span><b><span>mysql --help</span></b></span></pre>
	<p>本章假定<b><span>mysql</span></b>已經被安裝在您的機器上，並且有一個<span>MySQL</span>伺服器可以連接。否則，請聯絡<span>MySQ<b>L</b></span>管理員。（如果<i>您</i>是管理員，則需要查閱本手冊的其它章節，例如<a href="database-administration.html">第5章：</a><a href="database-administration.html" title="Chapter 5. Database Administration"><i>資料庫管理</i></a>。）</p>
	<p>本章描述建立和使用一個資料庫的全過程。如果您僅僅對訪問一個已經存在的資料庫感興趣，可以跳過描述怎樣建立資料庫及它所包含的資料表的章節。</p>
	<p>由於本章是一個教程，省略了許多細節。關於這裡所涉及的主題的詳細訊息，請查閱本手冊的相關章節。</p>
	<div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="connecting-disconnecting"></a>
		3.1.&nbsp;連接與中斷伺服器</h2></div></div></div><a class="indexterm" name="id2732995"></a><a class="indexterm" name="id2733005"></a><a class="indexterm" name="id2733016"></a><a class="indexterm" name="id2733026"></a></div><div class="section"><div class="titlepage"><div><div>
		為了連接伺服器，當使用<b><span>mysql</span></b>時，通常需要提供一個<span>MySQL</span>帳號並且很可能需要一個
		密碼。如果伺服器運行在登錄伺服器之外的其它機器上，還需要指定主機名。聯繫管理員以找出進行連接所使用的參數<span> 
		(</span>即，連接的主機、帳號和使用的密碼<span>)</span>。知道正確的參數後，可以按照以下方式進行連接：<pre><span>shell&gt; </span><span><b><span>mysql -h <i>host</i> -u <i>user</i> -p</span></b></span></pre>
		<pre><span>Enter password: </span><span><b><span>********</span></b></span></pre>
		<p><span>host</span>和<span>user</span>分別代資料表<span>MySQL</span>伺服器運行的主機名和<span>MySQL</span>帳號帳號。設置時替換為正確的值。<span>********
		</span>代資料表您的密碼；當<b><span>mysql</span></b>顯示<span>Enter 
		password:</span>提示時輸入它。</p>
		<p>如果有效，您應該看見<span>mysql&gt;</span>提示符後的一些介紹訊息：</p>
		<pre><span>shell&gt; </span><span><b><span>mysql -h <i>host</i> -u <i>user</i> -p</span></b></span></pre>
		<pre><span>Enter password: </span><span><b><span>********</span></b></span></pre>
		<pre><span>Welcome to the MySQL monitor.&nbsp; Commands end with ; or \g.</span></pre>
		<pre><span>Your MySQL connection id is 25338 to server version: 5.1.2-alpha-standard</span></pre>
		<pre><span>&nbsp;</span></pre>
		<pre><span>Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the buffer.</span></pre>
		<pre><span>&nbsp;</span></pre>
		<pre><span>mysql&gt;</span></pre>
		<p><span>mysql&gt; </span>提示符告訴您<span>mysql</span>準備為您輸入命令。</p>
		<p>一些<strong><span style="font-family:
細明體;">MySQL</span></strong>安裝允許用戶以匿名（未命名）用戶連接到本地主機上運行的伺服器。如果您的機器是這種情況，您應該能不帶任何選項地使用<span><b><span>mysql</span></b></span>與該伺服器連接：</p>
		<pre><span>shell&gt; </span><span><b><span>mysql</span></b></span></pre>
		<p>成功地連接後，可以在<span>mysql&gt;</span>提示下輸入<span>QUIT</span><span>
		</span><span>(</span>或<span>\q</span><span>)</span>隨時退出：</p>
		<pre><span>mysql&gt; </span><span><b><span>QUIT</span></b></span></pre>
		<pre><span>Bye</span></pre>
		<p>在<span>Unix</span>中，也可以按<span>control-D</span>鍵中斷伺服器。</p>
		<p>在下列章節的大多數例子都假設您連接到了伺服器。由<span>mysql&gt;</span>提示指明。</p>
		<h2 class="title"><a name="entering-queries"></a>
		3.2.&nbsp;輸入查詢</h2></div></div></div><a class="indexterm" name="id2733209"></a><a class="indexterm" name="id2733219"></a><a class="indexterm" name="id2733229"></a>
		<p>
		確保您連接上了伺服器，如在先前的章節討論的。連接上伺服器並布代資料表選擇了任何資料庫，但這樣就可以了。知道關於如何查詢的基本知識，比馬上跳至建立資料表、給他們裝載數據並且從他們檢索數據更重要。本節描述輸入命令的基本原則，使用幾個查詢，您能嘗試瞭解<b><span>mysql</span></b>是如何工作的。</p>
		<p>這是一個簡單的命令，要求伺服器告訴它的版本號和當前日期。在<span>mysql&gt;</span>提示輸入如下命令並按回車鍵：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT VERSION(), CURRENT_DATE;</span></b></span></pre>
		<pre><span>+-----------------+--------------+</span></pre>
		<pre><span>| VERSION()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | CURRENT_DATE |</span></pre>
		<pre><span>+-----------------+--------------+</span></pre>
		<pre><span>| 5.1.2-alpha-log | 2005-10-11&nbsp;&nbsp; |</span></pre>
		<pre><span>+-----------------+--------------+</span></pre>
		<pre><span>1 row in set (0.01 sec)</span></pre>
		<pre><span>mysql&gt;</span></pre>
		<p>這詢問說明<b><span>mysql</span></b>的幾個方面<span>:</span></p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>一個命令通常由<span>SQL</span>語句組成，隨後跟著一個分號。（有一些例外不需要分號。早先提到的<span>QUIT</span>是一個例子。後面我們將看到其它的例子。）</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>當發出一個命令時，<b><span>mysql</span></b>將它發送給伺服器並顯示執行結果，然後顯示另一個<span>mysql&gt;</span>顯示它準備好接受其它命令。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><b><span>mysql</span></b>用資料表格<span>(</span>行和列<span>)</span>方式顯示查詢輸出。第一行包含列的標籤，隨後的行是查詢結果。通常，列標籤是您取自資料庫資料表的列的名字。如果您正在檢索一個資料表達式而非資料表列的值<span>(</span>如剛才的例子<span>)</span>，<b><span>mysql</span></b>用資料表達式本身標記列。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><b><span>mysql</span></b>顯示返回了多少行，以及查詢花了多長時間，它給您提供伺服器性能的一個大致概念。因為他們資料表示時鐘時間<span>(</span>不是<span> 
		CPU </span>或機器時間<span>)</span>，並且因為他們受到諸如伺服器負載和網絡延時的影響，因此這些值是不精確的。（為了簡潔，在本章其它例子中不再顯示「集合中的行」。）</p>
		<p>能夠以大小寫輸入關鍵詞。下列查詢是等價的：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT VERSION(), CURRENT_DATE;</span></b></span></pre>
		<pre><span>mysql&gt; </span><span><b><span>select version(), current_date;</span></b></span></pre>
		<pre><span>mysql&gt; </span><span><b><span>SeLeCt vErSiOn(), current_DATE;</span></b></span></pre>
		<p>這是另外一個查詢，它說明您能將<span><b><span>mysql</span></b></span>用作一個簡單的計算器：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT SIN(PI()/4), (4+1)*5;</span></b></span></pre>
		<pre><span>+------------------+---------+</span></pre>
		<pre><span>| SIN(PI()/4)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (4+1)*5 |</span></pre>
		<pre><span>+------------------+---------+</span></pre>
		<pre><span>| 0.70710678118655 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 25 |</span></pre>
		<pre><span>+------------------+---------+</span></pre>
		<pre><span>1 row in set (0.02 sec)</span></pre>
		<p>至此顯示的命令是相當短的單行語句。您可以在一行上輸入多條語句，只需要以一個分號間隔開各語句：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT VERSION(); SELECT NOW();</span></b></span></pre>
		<pre><span>+-----------------+</span></pre>
		<pre><span>| VERSION()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>+-----------------+</span></pre>
		<pre><span>| 5.1.2-alpha-log |</span></pre>
		<pre><span>+-----------------+</span></pre>
		<pre><span>1 row in set (0.00 sec)</span></pre>
		<pre><span>&nbsp;</span></pre>
		<pre><span>+---------------------+</span></pre>
		<pre><span>| NOW()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>+---------------------+</span></pre>
		<pre><span>| 2005-10-11 15:15:00 |</span></pre>
		<pre><span>+---------------------+</span></pre>
		<pre><span>1 row in set (0.00 sec)</span></pre>
		<p>不必全在一個行內給出一個命令，較長命令可以輸入到多個行中。<b><span>mysql</span></b>通過尋找終止分號而不是輸入行的結束來決定語句在哪兒結束。（換句話說，<b><span>mysql</span></b>接受自由格式的輸入：它收集輸入行但直到看見分號才執行。）</p>
		<p>這裡是一個簡單的多行語句的例子：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>USER()</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>,</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>CURRENT_DATE;</span></b></span></pre>
		<pre><span>+---------------+--------------+</span></pre>
		<pre><span>| USER()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | CURRENT_DATE |</span></pre>
		<pre><span>+---------------+--------------+</span></pre>
		<pre><span>| jon@localhost | 2005-10-11&nbsp;&nbsp; |</span></pre>
		<pre><span>+---------------+--------------+</span></pre>
		<p>在這個例子中，在輸入多行查詢的第一行後，要注意提示符如何從<span>mysql&gt;</span>變為<span>-&gt;</span>，這正是<b><span>mysql</span></b>如何指出它沒見到完整的語句並且正在等待剩餘的部分。提示符是您的朋友，因為它提供有價值的反饋，如果使用該反饋，將總是知道<b><span>mysql</span></b>正在等待什麼。</p>
		<p>如果您決定不想執行正在輸入過程中的一個命令，輸入<span>\c</span>取消它：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>USER()</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>\c</span></b></span></pre>
		<pre><span>mysql&gt;</span></pre>
		<p>這裡也要注意提示符，在您輸入<span>\c</span>以後，它切換回到<span>mysql&gt;</span>，提供反饋以表明<b><span>mysql</span></b>準備接受一個新命令。</p>
		<p>下資料表顯示出可以看見的各個提示符並簡述它們所資料表示的<b><span>mysql</span></b>的狀態：</p>
		<table border="1" cellpadding="0" id="table1">
			<tr>
				<td>
				<p><strong><span>提示符</span></strong></td>
				<td width="490">
				<p><strong><span>含義</span></strong></td>
			</tr>
			<tr>
				<td>
				<p>
				<span>mysql&gt;</span></td>
				<td width="490">
				<p>準備好接受新命令。</td>
			</tr>
			<tr>
				<td>
				<p>
				<span>-&gt;</span></td>
				<td width="490">
				<p>等待多行命令的下一行。</td>
			</tr>
			<tr>
				<td>
				<p>
				<span>&#39;&gt;</span></td>
				<td width="490">
				<p>等待下一行，等待以單引號<span>(</span>「<span>&#39;</span>」<span>)</span>開始的字串的結束。</td>
			</tr>
			<tr>
				<td>
				<p>
				<span>&quot;&gt;</span></td>
				<td width="490">
				<p>等待下一行，等待以雙引號<span>(</span>「<span>&quot;</span>」<span>)</span>開始的字串的結束。</td>
			</tr>
			<tr>
				<td>
				<p>
				<span>`&gt;</span></td>
				<td width="490">
				<p>等待下一行，等待以反斜點<span>(</span>『<span>`</span>』<span>)</span>開始的識別符的結束。</td>
			</tr>
			<tr>
				<td>
				<p>
				<span>/*&gt;</span></td>
				<td width="490">
				<p>等待下一行，等待以<span>/*</span>開始的註釋的結束。</td>
			</tr>
		</table>
		<p>當您打算在一個單行上發出一個命令時，通常會「偶然」出現多行語句，但是沒有終止分號。在這種情況中，<b><span>mysql</span></b>等待進一步輸入：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT USER()</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt;</span></pre>
		<p>如果出現這種情況<span>(</span>您認為輸完了語句，但是只有一個<span>-&gt;</span>提示符響應<span>)</span>，很可能<b><span>mysql</span></b>正在等待分號。如果您沒有注意到提示符的提示，在意識到您需要做什麼之前，您可能會呆坐一會兒。輸入一個分號完成語句，<b><span>mysql</span></b>將執行：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT USER()</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>;</span></b></span></pre>
		<pre><span>+---------------+</span></pre>
		<pre><span>| USER()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>+---------------+</span></pre>
		<pre><span>| jon@localhost |</span></pre>
		<pre><span>+---------------+</span></pre>
		<p>在字串收集期間將出現 
		<span>&#39;&gt; </span>和<span> 
		&quot;&gt; </span>提示符（提示<span>MySQL</span>正等待字串的結束）。在<span>MySQL</span>中，可以寫由『<span>&#39;</span>』或『<span>&quot;</span>』字元括起來的字串<span> 
		(</span>例如，<span>&#39;hello&#39;</span>或<span>&quot;goodbye&quot;</span><span>)</span>，並且<b><span>mysql</span></b>允許輸入跨越多行的字串。當看到一個 
		 
		<span>
		&#39;&gt; </span>或 
		<span>&quot;&gt; </span>提示符時，這意味著已經輸入了包含以『<span>&#39;</span>』或『<span>&quot;</span>』括號字元開始的字串的一行，但是還沒有輸入終止字串的匹配引號。這顯示您粗心地省掉了一個引號字元。例如：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM my_table WHERE name = &#39;Smith AND age &lt; 30;</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; &#39;&gt;</span></pre>
		<p>如果您輸入<span>SELECT</span>語句，然後按<strong><span>Enter</span><span>（</span></strong><b>回車）</b>鍵並等待結果，什麼都沒有出現。不要驚訝，「為什麼該查詢這麼長呢？」，注意<span>&quot;&gt;</span>提示符提供的線索。它告訴您<span><b><span>mysql</span></b></span>期望見到一個未終止字串的餘下部分。（您看見語句中的錯誤嗎？字串<span>&quot;Smith</span>丟掉了第二個引號。）</p>
		<p>走到這一步，您該做什麼？最簡單的是取消命令。然而，在這種情況下，您不能只是輸入<span>\c</span>，因為<b><span>mysql</span></b>作為它正在收集的字串的一部分來解釋它！相反，應輸入關閉的引號字元<span>(</span>這樣<b><span>mysql</span></b>知道您完成了字串<span>)</span>，然後輸入<span>\c</span>：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM my_table WHERE name = &#39;Smith AND age &lt; 30;</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; &#39;&gt; </span><span><b><span>&#39;\c</span></b></span></pre>
		<pre><span>mysql&gt;</span></pre>
		<p>提示符回到<span>mysql&gt;</span>，顯示<b><span>mysql</span></b>準備好接受一個新命令了。</p>
		<p>
		<span>`&gt;</span><span>
		</span>提示符類似於 
		<span>&#39;&gt;</span><span>
		</span>和<span>&quot;&gt;</span><span>
		</span>提示符，但資料表示您已經開始但沒有結束以<span>`&gt;
		</span>開始的識別符。</p>
		<p>知道<span>&#39;&gt;</span>和<span>&quot;&gt;</span>提示符的含義很重要，因為如果您錯誤地輸入一個未終止的字串，任何後面輸入的行將要被<span><b><span>mysql</span></b></span>忽略<span>--</span>包括包含<span>QUIT</span>的行！這可能令人相當困惑，特別是如果取消當前命令前還不知道您需要提供終止引號。</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="database-use"></a>
		3.3.&nbsp;建立並使用資料庫</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="tutorial.html#creating-database">
			3.3.1. 建立並選擇資料庫</a></span></dt><dt><span class="section"><a href="tutorial.html#creating-tables">
			3.3.2. 建立資料表</a></span></dt><dt><span class="section"><a href="tutorial.html#loading-tables">
			3.3.3. 將數據裝入資料表中</a></span></dt><dt><span class="section"><a href="tutorial.html#retrieving-data">
			3.3.4. 從資料表檢索訊息</a></span></dt></dl></div><a class="indexterm" name="id2733936"></a><a class="indexterm" name="id2733946"></a><a class="indexterm" name="id2733956"></a>
		<p>知道怎樣輸入命令，便可以訪問資料庫了。</p>
		<p>假定在您的家<span>(</span>您的「動物園」<span>)</span>中有很多寵物，並且您想跟蹤關於它們各種類型的訊息。您可以通過建立資料表來保存您的數據並根據所需要的訊息裝載他們，然後您可以從資料表中檢索數據來回答關於動物不同種類的問題。本節顯示如何做到所有這些事情：</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>建立資料庫</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>建立資料庫資料表</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>裝載數據到資料庫資料表</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>以各種方法從資料表中檢索數據</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>使用多個資料表</p>
		<p>動物園資料庫很簡單<span>(</span>特意的<span>)</span>，但是不難把它想像成可能用到類似資料庫的真實世界情況。例如，農夫可以使用這樣的一個資料庫來追蹤家畜，或者獸醫可以用它跟蹤病畜記錄。從<span>MySQL</span>網址上可以獲得後面章節中將用到的含有部分查詢和樣例數據的動物園分發。有<strong><span>tar</span><span>壓縮格式</span></strong><span> 
		(<a target="_top"  href="http://www.mysql.com/Downloads/Contrib/Examples/menagerie.tar.gz">http://www.mysql.com/Downloads/Contrib/Examples/menagerie.tar.gz</a>)</span>和<span>Zip</span>壓縮格式<span> 
		(<a target="_top"  href="http://www.mysql.com/Downloads/Contrib/Examples/menagerie.zip">http://www.mysql.com/Downloads/Contrib/Examples/menagerie.zip</a>)</span>。</p>
		<p>使用<span>SHOW</span>語句找出伺服器上當前存在什麼資料庫：</p>
		<pre><span>mysql&gt; </span><span><b><span>SHOW DATABASES;</span></b></span></pre>
		<pre><span>+----------+</span></pre>
		<pre><span>| Database |</span></pre>
		<pre><span>+----------+</span></pre>
		<pre><span>| mysql&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| test&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| tmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>+----------+</span></pre>
		<p>可能您的機器上的資料庫列資料表是不同的，但是很可能有<span>mysql</span>和<span>test</span>資料庫。<span>mysql</span>是必需的，因為它描述用戶訪問權限，<span>test</span>資料庫經常作為用戶試身手的工作區。</p>
		<p>請注意如果沒有<span>SHOW 
		DATABASES</span>權限，則不能看見所有資料庫。參見<a href="sql-syntax.html#grant" title="13.5.1.3. GRANT and REVOKE Syntax">13.5.1.3節，「GRANT和REVOKE語法」</a>。</p>
		<p>如果<span>test</span>資料庫存在，嘗試訪問它：</p>
		<pre><span>mysql&gt; </span><span><b><span>USE test</span></b></span></pre>
		<pre><span>Database changed</span></pre>
		<p>注意，<span>USE</span>，類似<span>QUIT</span>，不需要一個分號。（如果您喜歡，您可以用一個分號終止這樣的語句；這無礙）<span>USE</span>語句在使用上也有另外一個特殊的地方：它必須在一個單行上給出。</p>
		<p>您可列在後面的例子中使用<span>test</span>資料庫<span>(</span>如果您能訪問它<span>)</span>，但是您在該資料庫建立的任何東西可以被訪問它的其它人刪除，因此，您應該詢問<span>MySQL</span>管理員授權您使用自己的一個資料庫。假定您想要使用您的<span>menagerie</span>，管理員需要執行這樣一條命令：</p>
		<pre><span>mysql&gt; </span><span><b><span>GRANT ALL ON menagerie.* TO &#39;your_mysql_name&#39;@&#39;your_client_host&#39;;</span></b></span></pre>
		<p>這裡<span>your_mysql_name</span>是分配給您的<strong><span>MySQL</span></strong>帳號，<span>your_client_host</span>是所連接的伺服器所在的主機。</p>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="creating-database"></a>
			3.3.1.&nbsp;建立並選擇資料庫</h3></div></div></div><a class="indexterm" name="id2734185"></a><a class="indexterm" name="id2734195"></a></div><div class="section"><div class="titlepage"><div><div>
			如果管理員在設置權限時為您建立了資料庫，您可以開始使用它。否則，您需要自己建立資料庫：<pre><span>mysql&gt; </span><span><b><span>CREATE DATABASE menagerie;</span></b></span></pre>
			<p>在<span>Unix</span>下，資料庫名稱是區分大小寫的<span>(</span>不像<span>SQL</span>關鍵字<span>)</span>，因此您必須總是以<span>menagerie</span>訪問資料庫，而不能用<span>Menagerie</span>、<span>MENAGERIE</span>或其它一些變數。對資料表名也是這樣的。（在<span>Windows</span>下，該限制不適用，儘管您必須在一個給定的查詢中使用同樣的大小寫來引用資料庫和資料表。但是，由於多種原因，作為最好的慣例，一定要使用與資料庫建立時的同樣的大小寫。）</p>
			<p>建立資料庫並不資料表示選定並使用它，您必須明確地操作。為了使<span>menagerie</span>成為當前的資料庫，使用這個命令：</p>
			<pre><span>mysql&gt; </span><span><b><span>USE menagerie</span></b></span></pre>
			<pre><span>Database changed</span></pre>
			<p>資料庫只需要建立一次，但是必須在每次啟動<b><span>mysql</span></b>會話時在使用前先選擇它。您可以根據上面的例子執行一個<span>USE</span>語句來實現。還可以在使用<b><span>mysql</span></b>時，通過命令行選擇資料庫，只需要在提供連接參數之後指定資料庫名稱。例如：</p>
			<pre><span>shell&gt; </span><span><b><span>mysql -h <i>host</i> -u <i>user</i> -p menagerie</span></b></span></pre>
			<pre><span>Enter password: </span><span><b><span>********</span></b></span></pre>
			<p>注意，剛才顯示的命令行中的<span>menagerie</span><b>不</b>是您的
			密碼。如果您想要在命令行上在<span>-p</span>選項後提供
			密碼，則不能插入空格<span>(</span>例如，如<span>-pmypassword</span>，不是<span>-p 
			mypassword</span><span>)</span>。但是，不建議在命令行輸入密碼，因為這樣會暴露
			密碼，能被在機器上登錄的其它用戶窺探到。</p>
			<h3 class="title"><a name="creating-tables"></a>
			3.3.2.&nbsp;建立資料表</h3></div></div></div><a class="indexterm" name="id2734341"></a><a class="indexterm" name="id2734351"></a>
			<p>建立資料庫是很容易的部分，但是在這時它是空的，正如<span>SHOW TABLES</span>將告訴您的：</p>
			<pre><span>mysql&gt; </span><span><b><span>SHOW TABLES;</span></b></span></pre>
			<pre><span>Empty set (0.00 sec)</span></pre>
			<p>較難的部分是決定您的資料庫結構應該是什麼：您需要什麼資料庫資料表，各資料庫資料表中有什麼樣的列。</p>
			<p><span>您將需要一個包含您每個寵物的記錄的資料表。它可稱為<span>pet</span>資料表，並且它應該包含，最少，每個動物的名字。因為名字本身不是很有趣，資料表應該包含另外的訊息。例如，如果在您豢養寵物的家庭有超過一個人，您可能想要列出每個動物的主人。您可能也想要記錄例如種類和性別的一些基本的描述訊息。</span></p>
			<p>年齡呢？那可能有趣，但是儲存到一個資料庫中不是一件好事情。年齡隨著時間流逝而變化，這意味著您將要不斷地更新您的記錄。相反<span>,
			</span>儲存一個固定值例如生日比較好，那麼，無論何時您需要年齡，可以以當前日期和出生日期之間的差來計算它。<strong><span>MySQL</span></strong>提供了日期運算函數，因此這並不困難。儲存出生日期而非年齡還有其它優點：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>
			您可以使用資料庫完成這樣的任務，例如生成即將到來的寵物生日的提示。（如果您認為這類查詢有點蠢，注意，這與從商務資料庫來識別出不久要發給生日祝賀的客戶是同一個問題，因為計算機幫助私人聯絡。）</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>
			您可以相對於日期而不止是當前日期來計算年齡。例如，如果您在資料庫儲存死亡日期，您能很容易地計算出一隻寵物死時有多大。</p>
			<p>您可能想到<span>pet</span>資料表中其它有用的其它類型訊息，但是到目前為止這些已經足夠了：名字、主人、種類，性別、出生和死亡日期。</p>
			<p>使用一個<span>CREATE TABLE</span>語句指定您的資料庫資料表的佈局：</p>
			<pre><span>mysql&gt; </span><span><b><span>CREATE TABLE pet (name VARCHAR(20), owner VARCHAR(20),</span></b></span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>species VARCHAR(20), sex CHAR(1), birth DATE, death DATE);</span></b></span></pre>
			<p><span>VARCHAR</span>適合於<span>name</span>、<span>owner</span>和<span>species</span>列，因為列值是變長的。這些列的長度不必都相同，而且不必是<span>20</span>。您可以挑選從<span>1</span>到<span>65535</span>的任何長度，從中選擇一個最合理的值。（如果選擇得不合適，後來證明您需要一個更長的字段，<strong><span>MySQL</span></strong>提供一個<span>ALTER 
			TABLE</span>語句。）</p>
			<p>可以用多種類型的值來資料表示動物記錄中的性別，例如，<span>&quot;m&quot;</span>和<span>&quot;f&quot;</span>，或<span>&quot;male&quot;</span>和<span>&quot;female&quot;</span>。使用單字元<span>&quot;m&quot;</span>和<span>&quot;f&quot;</span>是最簡單的方法。</p>
			<p>很顯然，<span>birth</span>和<span>death</span>列應選用<span>DATE</span>數據類。</p>
			<p>建立了資料庫資料表後，<span>SHOW 
			TABLES</span>應該產生一些輸出：</p>
			<pre><span>mysql&gt; </span><span><b><span>SHOW TABLES;</span></b></span></pre>
			<pre><span>+---------------------+</span></pre>
			<pre><span>| Tables in menagerie |</span></pre>
			<pre><span>+---------------------+</span></pre>
			<pre><span>| pet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>+---------------------+</span></pre>
			<p>為了驗證您的資料表是按您期望的方式建立，使用一個<span>DESCRIBE</span>語句：</p>
			<pre><span>mysql&gt; </span><span><b><span>DESCRIBE pet;</span></b></span></pre>
			<pre><span>+---------+-------------+------+-----+---------+-------+</span></pre>
			<pre><span>| Field&nbsp;&nbsp; | Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Null | Key | Default | Extra |</span></pre>
			<pre><span>+---------+-------------+------+-----+---------+-------+</span></pre>
			<pre><span>| name&nbsp;&nbsp;&nbsp; | varchar(20) | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>| owner&nbsp;&nbsp; | varchar(20) | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>| species | varchar(20) | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>| sex&nbsp;&nbsp;&nbsp;&nbsp; | char(1)&nbsp;&nbsp;&nbsp;&nbsp; | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>| birth&nbsp;&nbsp; | date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | YES&nbsp; |&nbsp; &nbsp;&nbsp;&nbsp;| NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>| death&nbsp;&nbsp; | date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>+---------+-------------+------+-----+---------+-------+</span></pre>
			<p>您可以隨時使用<span>DESCRIBE</span>，例如，如果您忘記資料表中的列的名稱或類型時。</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="loading-tables"></a>
			3.3.3.&nbsp;將數據裝入資料表中</h3></div></div></div><a class="indexterm" name="id2734617"></a><a class="indexterm" name="id2734627"></a><a class="indexterm" name="id2734637"></a>
			<p>建立資料表後，需要填入內容。通過<span>LOAD 
			DATA</span>和<span>INSERT</span>語句可以完成該任務。</p>
			<p>假定您的寵物紀錄描述如下。（假定在<strong><span>MySQL</span></strong>中期望的日期格式是<span>YYYY-MM-DD</span>；這可能與您習慣的不同。）</p>
			<table border="1" cellpadding="0" id="table2">
				<tr>
					<td>
					<p><strong>
					<span>name</span></strong></td>
					<td>
					<p><strong>
					<span>owner</span></strong></td>
					<td>
					<p><strong>
					<span>species</span></strong></td>
					<td>
					<p><strong>
					<span>sex</span></strong></td>
					<td>
					<p><strong>
					<span>birth</span></strong></td>
					<td>
					<p><strong>
					<span>death</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>Fluffy</span></td>
					<td>
					<p><span>Harold</span></td>
					<td>
					<p><span>cat</span></td>
					<td>
					<p><span>f</span></td>
					<td>
					<p><span>1993-02-04</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p><span>Claws</span></td>
					<td>
					<p><span>Gwen</span></td>
					<td>
					<p><span>cat</span></td>
					<td>
					<p><span>m</span></td>
					<td>
					<p><span>1994-03-17</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p><span>Buffy</span></td>
					<td>
					<p><span>Harold</span></td>
					<td>
					<p><span>dog</span></td>
					<td>
					<p><span>f</span></td>
					<td>
					<p><span>1989-05-13</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p><span>Fang</span></td>
					<td>
					<p><span>Benny</span></td>
					<td>
					<p><span>dog</span></td>
					<td>
					<p><span>m</span></td>
					<td>
					<p><span>1990-08-27</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p><span>Bowser</span></td>
					<td>
					<p><span>Diane</span></td>
					<td>
					<p><span>dog</span></td>
					<td>
					<p><span>m</span></td>
					<td>
					<p><span>1979-08-31</span></td>
					<td>
					<p><span>1995-07-29</span></td>
				</tr>
				<tr>
					<td>
					<p><span>Chirpy</span></td>
					<td>
					<p><span>Gwen</span></td>
					<td>
					<p><span>bird</span></td>
					<td>
					<p><span>f</span></td>
					<td>
					<p><span>1998-09-11</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p><span>Whistler</span></td>
					<td>
					<p><span>Gwen</span></td>
					<td>
					<p><span>bird</span></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>1997-12-09</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p><span>Slim</span></td>
					<td>
					<p><span>Benny</span></td>
					<td>
					<p><span>snake</span></td>
					<td>
					<p><span>m</span></td>
					<td>
					<p><span>1996-04-29</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
			</table>
			<p>因為您是從一個空資料表開始的，填充它的一個簡易方法是建立一個文本檔案，每個動物各一行，然後用一個語句將檔案的內容裝載到資料表中。</p>
			<p>您可以建立一個文本檔案<tt><span>「</span><span>pet.txt</span><span>」</span></tt>，每行包含一個記錄，用定位符<span>(tab)</span>把值分開，並且以<span>CREATE 
			TABLE</span>語句中列出的列次序給出。對於丟失的值<span>(</span>例如未知的性別，或仍然活著的動物的死亡日期<span>)</span>，您可以使用<span>NULL</span>值。為了在您的文本檔案中資料表示這些內容，使用<span>\N</span>（反斜線，字母<span>N</span><span>）</span>。例如，<span>Whistler</span>鳥的記錄應為<span>(</span>這裡值之間的空白是一個定位符<span>)</span>：</p>
			<table border="1" cellpadding="0" id="table3">
				<tr>
					<td>
					<p><strong>
					<span>name</span></strong></td>
					<td>
					<p><strong>
					<span>owner</span></strong></td>
					<td>
					<p><strong>
					<span>species</span></strong></td>
					<td>
					<p><strong>
					<span>sex</span></strong></td>
					<td>
					<p><strong>
					<span>birth</span></strong></td>
					<td>
					<p><strong>
					<span>death</span></strong></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>Whistler</span></td>
					<td>
					<p>
					<span>Gwen</span></td>
					<td>
					<p>
					<span>bird</span></td>
					<td>
					<p>
					<span>\N</span></td>
					<td>
					<p>
					<span>1997-12-09</span></td>
					<td>
					<p>
					<span>\N</span></td>
				</tr>
			</table>
			<p><span>要想將文本檔案</span><tt><span>「</span><span>pet.txt</span><span>」</span></tt><span>裝載到</span><span >pet</span><span>資料表中，使用這個命令：</span></p>
			<pre><span>mysql&gt; </span><span><b><span>LOAD DATA LOCAL INFILE &#39;/path/pet.txt&#39; INTO TABLE pet;</span></b></span></pre>
			<p>請注意如果用<span>Windows</span>中的編輯器（使用<span>\r\n</span>做為行的結束符<span>）</span>建立檔案，應使用：</p>
			<pre><span>mysql&gt; </span><span><b><span>LOAD DATA LOCAL INFILE &#39;/path/pet.txt&#39; INTO TABLE pet</span></b></span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>LINES TERMINATED BY &#39;\r\n&#39;;</span></b></span></pre>
			<p>（在運行<span>OS X</span>的<span>Apple</span>機上，應使用行結束符<span><span>&#39;\r&#39;</span>。）</span></p>
			<p>如果您願意，您能明確地在<span>LOAD 
			DATA</span>語句中指出列值的分隔符和行尾標記，但是預設標記是定位符和換行符。這對讀入檔案<tt><span>「</span><span>pet.txt</span><span>」</span></tt>的語句已經足夠。</p>
			<p>如果該語句失敗，可能是您安裝的<span>MySQL</span>不與使用預設值的本地檔案兼容。關於如何更改請參見<a href="database-administration.html#load-data-local" title="5.6.4. Security Issues with LOAD DATA LOCAL">5.6.4節，「LOAD DATA LOCAL安全問題<code class="literal"></code>」</a>。</p>
			<p>如果想要一次增加一個新記錄，可以使用<span>INSERT</span>語句。最簡單的形式是，提供每一列的值，其順序與<span>CREATE 
			TABLE</span>語句中列的順序相同。假定<span>Diane</span>把一隻新倉鼠命名為<span>Puffball</span>，您可以使用下面的<span>INSERT</span>語句新增一條新記錄：</p>
			<pre><span>mysql&gt; </span><span><b><span>INSERT INTO pet</span></b></span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>VALUES (&#39;Puffball&#39;,&#39;Diane&#39;,&#39;hamster&#39;,&#39;f&#39;,&#39;1999-03-30&#39;,NULL);</span></b></span></pre>
			<p>注意，這裡字串和日期值均為引號擴起來的字串。另外，可以直接用<span>INSERT</span>語句插入<span>NULL</span>代資料表不存在的值。不能使用<span>LOAD 
			DATA</span>中所示的的<span>\N</span>。</p>
			<p>從這個例子，您應該能看到涉及很多的鍵入用多個<span>INSERT</span>語句而非單個<span>LOAD 
			DATA</span>語句裝載您的初始記錄。</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="retrieving-data"></a>
			3.3.4.&nbsp;從資料表檢索訊息</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="tutorial.html#selecting-all">
				3.3.4.1. 選擇所有數據</a></span></dt><dt><span class="section"><a href="tutorial.html#selecting-rows">
				3.3.4.2. 選擇特殊行</a></span></dt><dt><span class="section"><a href="tutorial.html#selecting-columns">
				3.3.4.3. 選擇特殊列</a></span></dt><dt><span class="section"><a href="tutorial.html#sorting-rows">
				3.3.4.4. 分類行</a></span></dt><dt><span class="section"><a href="tutorial.html#date-calculations">
				3.3.4.5. 日期計算</a></span></dt><dt><span class="section"><a href="tutorial.html#working-with-null">
				3.3.4.6. NULL值操作<code class="literal"></code></a></span></dt><dt><span class="section"><a href="tutorial.html#pattern-matching">
				3.3.4.7. 模式匹配</a></span></dt><dt><span class="section"><a href="tutorial.html#counting-rows">
				3.3.4.8. 計數行</a></span></dt><dt><span class="section"><a href="tutorial.html#multiple-tables">3.3.4.9. 
				使用1個以上的資料表<br>
&nbsp;</a></span></dt></dl></div><a class="indexterm" name="id2735238"></a><a class="indexterm" name="id2735248"></a><a class="indexterm" name="id2735258"></a><a class="indexterm" name="id2735268"></a><div class="section"><div class="titlepage"><div><div>
				<span>SELECT</span>語句用來從數據資料表中檢索訊息。語句的一般格式是：<pre><span>SELECT </span><span><i><span>what_to_select</span></i></span></pre>
				<pre><span>FROM </span><span><i><span>which_table</span></i></span></pre>
				<pre><span>WHERE </span><span><i><span>conditions_to_satisfy</span></i></span><span>;</span></pre>
				<p><span>what_to_select</span>指出您想要看到的內容，可以是列的一個資料表，或<span>*</span>資料表示「所有的列」。<span>which_table</span>指出您想要從其檢索數據的資料表。<span>WHERE</span>子句是可選項，如果選擇該項，<span>conditions_to_satisfy</span>指定行必須滿足的檢索條件。</p>
				<h4 class="title"><a name="selecting-all"></a>3.3.4.1.&nbsp;選擇所有數據</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				<span>SELECT</span>最簡單的形式是從一個資料表中檢索所有記錄：<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet;</span></b></span></pre>
				<pre><span>+----------+--------+---------+------+------------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+--------+---------+------+------------+------------+</span></pre>
				<pre><span>| Fluffy&nbsp;&nbsp; | Harold | cat&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1993-02-04 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | Gwen&nbsp;&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1994-03-17 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>| Buffy&nbsp;&nbsp;&nbsp; | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;|</span></pre>
				<pre><span>| Fang&nbsp;&nbsp;&nbsp;&nbsp; | Benny&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1990-08-27 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | Diane&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1979-08-31 | 1995-07-29 |</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | Gwen&nbsp;&nbsp; | bird&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1998-09-11 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>| Whistler | Gwen&nbsp;&nbsp; | bird&nbsp;&nbsp;&nbsp; | NULL | 1997-12-09 | NULL &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></pre>
				<pre><span>| Slim&nbsp;&nbsp;&nbsp;&nbsp; | Benny&nbsp; | snake&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1996-04-29 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>| Puffball | Diane&nbsp; | hamster | f&nbsp;&nbsp;&nbsp; | 1999-03-30 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+--------+---------+------+------------+------------+</span></pre>
				<p>如果您想要瀏覽整個資料表，可以使用這種形式的<span><span>SELECT</span>，</span>例如，剛剛裝載了初始數據集以後。也有可能您想到<span>Bowser</span>的生日看起來不很對。查閱您原來的家譜，您發現正確的出生年是<span>1989</span>，而不是<span>1979</span>。</p>
				<p>至少有兩種修正方法：</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>編輯檔案<tt><span>「</span><span>pet.txt</span><span>」</span></tt>改正錯誤，然後使用<span>DELETE</span>和<span>LOAD 
				DATA</span>清空並重新裝載資料表<span>:</span></p>
				<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; </span><span><b><span>DELETE FROM pet;</span></b></span></pre>
				<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; </span><span><b><span>LOAD DATA LOCAL INFILE &#39;pet.txt&#39; INTO TABLE pet;</span></b></span></pre>
				<p>然而<span>, </span>
				如果這樣操做，必須重新輸入<span>Puffball</span>記錄。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>用一個<span>UPDATE</span>語句僅修正錯誤記錄：</p>
				<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; </span><span><b><span>UPDATE pet SET birth = &#39;1989-08-31&#39; WHERE name = &#39;Bowser&#39;;</span></b></span></pre>
				<p>
				<span>UPDATE</span>只更改有問題的記錄，不需要重新裝載資料庫資料表。</p>
				<h4 class="title"><a name="selecting-rows"></a>
				3.3.4.2.&nbsp;選擇特殊行</h4></div></div></div><a class="indexterm" name="id2735486"></a><a class="indexterm" name="id2735496"></a></div><div class="section"><div class="titlepage"><div><div>
				如上所示，檢索整個資料表是容易的。只需要從<span>SELECT</span>語句中刪掉<span>WHERE</span>子句。但是一般您不想看到整個資料表，特別地當資料表變得很大時。相反，您通常對回答一個具體的問題更感興趣，在這種情況下在您想要的訊息上進行一些限制。讓我們看一些他們回答的有關您寵物的問題的選擇查詢。<p>
				可以從資料表中只選擇特定的行。例如，如果您想要驗證您對<span>Bowser</span>的生日所做的更改，按下述方法選擇<span>Bowser</span>的記錄：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name = &#39;Bowser&#39;;</span></b></span></pre>
				<pre><span>+--------+-------+---------+------+------------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp; | owner | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+--------+-------+---------+------+------------+------------+</span></pre>
				<pre><span>| Bowser | Diane | dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1989-08-31 | 1995-07-29 |</span></pre>
				<pre><span>+--------+-------+---------+------+------------+------------+</span></pre>
				<p>輸出證實正確的年份記錄為<span>1989</span>，而不是<span>1979</span>。</p>
				<p>字串比較時通常對大小些不敏感，因此您可以將名字指定為<span>&quot;bowser&quot;</span>、<span>&quot;BOWSER&quot;</span>等，查詢結果相同。</p>
				<p>您可以在任何列上指定條件，不只僅僅是<span>name</span>。例如，如果您想要知道哪個動物在<span>1998</span>以後出生的，測試<span>birth</span>列：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE birth &gt; &#39;1998-1-1&#39;;</span></b></span></pre>
				<pre><span>+----------+-------+---------+------+------------+-------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | owner | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death |</span></pre>
				<pre><span>+----------+-------+---------+------+------------+-------+</span></pre>
				<pre><span>| Chirpy&nbsp; &nbsp;| Gwen&nbsp; | bird&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1998-09-11 | NULL&nbsp; |</span></pre>
				<pre><span>| Puffball | Diane | hamster | f&nbsp;&nbsp;&nbsp; | 1999-03-30 | NULL&nbsp; |</span></pre>
				<pre><span>+----------+-------+---------+------+------------+-------+</span></pre>
				<p>可以組合條件，例如，找出雌性的狗：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE species = &#39;dog&#39; AND sex = &#39;f&#39;;</span></b></span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| name&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| Buffy | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp; |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<p>上面的查詢使用<span>AND</span>邏輯操作符，也有一個<span>OR</span>操作符：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE species = &#39;snake&#39; OR species = &#39;bird&#39;;</span></b></span></pre>
				<pre><span>+----------+-------+---------+------+------------+-------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | owner | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death |</span></pre>
				<pre><span>+----------+-------+---------+------+------------+-------+</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | Gwen&nbsp; | bird&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1998-09-11 | NULL&nbsp; |</span></pre>
				<pre><span>| Whistler | Gwen&nbsp; | bird&nbsp;&nbsp;&nbsp; | NULL | 1997-12-09 | NULL&nbsp; |</span></pre>
				<pre><span>| Slim&nbsp;&nbsp;&nbsp;&nbsp; | Benny | snake&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1996-04-29 | NULL&nbsp; |</span></pre>
				<pre><span>+----------+-------+---------+------+------------+-------+</span></pre>
				<p><span>AND</span>和<span>OR</span>可以混用，但<span>AND</span>比<span>OR</span>具有更高的優先級。如果您使用兩個操作符，使用圓括號指明如何對條件進行分組是一個好主意：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE (species = &#39;cat&#39; AND sex = &#39;m&#39;)</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>OR (species = &#39;dog&#39; AND sex = &#39;f&#39;);</span></b></span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| name&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| Claws | Gwen&nbsp;&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1994-03-17 | NULL&nbsp; |</span></pre>
				<pre><span>| Buffy | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp; |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<h4 class="title"><a name="selecting-columns"></a>
				3.3.4.3.&nbsp;選擇特殊列</h4></div></div></div><a class="indexterm" name="id2735687"></a><a class="indexterm" name="id2735697"></a></div><div class="section"><div class="titlepage"><div><div>
				如果您不想看到資料表中的所有行，就命名您感興趣的列，用逗號分開。例如，如果您想要知道您的動物什麼時候出生的，選擇<span>name</span>和<span>birth</span>列：<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth FROM pet;</span></b></span></pre>
				<pre><span>+----------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+------------+</span></pre>
				<pre><span>| Fluffy&nbsp;&nbsp; | 1993-02-04 |</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | 1994-03-17 |</span></pre>
				<pre><span>| Buffy&nbsp;&nbsp;&nbsp; | 1989-05-13 |</span></pre>
				<pre><span>| Fang&nbsp;&nbsp;&nbsp;&nbsp; | 1990-08-27 |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | 1989-08-31 |</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | 1998-09-11 |</span></pre>
				<pre><span>| Whistler | 1997-12-09 |</span></pre>
				<pre><span>| Slim&nbsp;&nbsp;&nbsp;&nbsp; | 1996-04-29 |</span></pre>
				<pre><span>| Puffball | 1999-03-30 |</span></pre>
				<pre><span>+----------+------------+</span></pre>
				<p>找出誰擁有寵物，使用這個查詢：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT owner FROM pet;</span></b></span></pre>
				<pre><span>+--------+</span></pre>
				<pre><span>| owner&nbsp; |</span></pre>
				<pre><span>+--------+</span></pre>
				<pre><span>| Harold |</span></pre>
				<pre><span>| Gwen&nbsp;&nbsp; |</span></pre>
				<pre><span>| Harold |</span></pre>
				<pre><span>| Benny&nbsp; |</span></pre>
				<pre><span>| Diane&nbsp; |</span></pre>
				<pre><span>| Gwen&nbsp;&nbsp; |</span></pre>
				<pre><span>| Gwen&nbsp;&nbsp; |</span></pre>
				<pre><span>| Benny&nbsp; |</span></pre>
				<pre><span>| Diane&nbsp; |</span></pre>
				<pre><span>+--------+</span></pre>
				<p>請注意該查詢只是簡單地檢索每個記錄的<span>owner</span>列，並且他們中的一些出現多次。為了使輸出減到最少，增加關鍵字<span>DISTINCT</span>檢索出每個唯一的輸出記錄：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT DISTINCT owner FROM pet;</span></b></span></pre>
				<pre><span>+--------+</span></pre>
				<pre><span>| owner&nbsp; |</span></pre>
				<pre><span>+--------+</span></pre>
				<pre><span>| Benny&nbsp; |</span></pre>
				<pre><span>| Diane&nbsp; |</span></pre>
				<pre><span>| Gwen&nbsp;&nbsp; |</span></pre>
				<pre><span>| Harold |</span></pre>
				<pre><span>+--------+</span></pre>
				<p>可以使用一個<span>WHERE</span>子句結合行選擇與列選擇。例如，要想查詢狗和貓的出生日期，使用這個查詢：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, species, birth FROM pet</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>WHERE species = &#39;dog&#39; OR species = &#39;cat&#39;;</span></b></span></pre>
				<pre><span>+--------+---------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp; | species | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+--------+---------+------------+</span></pre>
				<pre><span>| Fluffy | cat&nbsp;&nbsp;&nbsp;&nbsp; | 1993-02-04 |</span></pre>
				<pre><span>| Claws&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | 1994-03-17 |</span></pre>
				<pre><span>| Buffy&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; | 1989-05-13 |</span></pre>
				<pre><span>| Fang&nbsp;&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; | 1990-08-27 |</span></pre>
				<pre><span>| Bowser | dog&nbsp;&nbsp;&nbsp;&nbsp; | 1989-08-31 |</span></pre>
				<pre><span>+--------+---------+------------+</span></pre>
				<h4 class="title"><a name="sorting-rows"></a>
				3.3.4.4.&nbsp;分類行</h4></div></div></div><a class="indexterm" name="id2735822"></a><a class="indexterm" name="id2735830"></a><a class="indexterm" name="id2735841"></a><a class="indexterm" name="id2735851"></a><a class="indexterm" name="id2735861"></a></div><div class="section"><div class="titlepage"><div><div>
				您可能已經注意到前面的例子中結果行沒有以特定的順序顯示。然而，當行按某種方式排序時，檢查查詢輸出通常更容易。為了排序結果，使用<span>ORDER 
				BY</span>子句。<p>這裡是動物生日，按日期排序：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth FROM pet ORDER BY birth;</span></b></span></pre>
				<pre><span>+----------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+------------+</span></pre>
				<pre><span>| Buffy&nbsp;&nbsp;&nbsp; | 1989-05-13 |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | 1989-08-31 |</span></pre>
				<pre><span>| Fang&nbsp;&nbsp;&nbsp;&nbsp; | 1990-08-27 |</span></pre>
				<pre><span>| Fluffy&nbsp;&nbsp; | 1993-02-04 |</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | 1994-03-17 |</span></pre>
				<pre><span>| Slim&nbsp;&nbsp;&nbsp;&nbsp; | 1996-04-29 |</span></pre>
				<pre><span>| Whistler | 1997-12-09 |</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | 1998-09-11 |</span></pre>
				<pre><span>| Puffball | 1999-03-30 |</span></pre>
				<pre><span>+----------+------------+</span></pre>
				<p>
				在字元類型列上，與所有其他比較操作類似，分類功能正常情況下是以區分大小寫的方式執行的。這意味著，對於等同但大小寫不同的列，並未定義其順序。對於某一列，可以使用<span>BINARY</span>強制執行區分大小寫的分類功能，如：<span>ORDER 
				BY BINARY <i>col_name</i></span><span>. </span>
				</p>
				<p>預設排序是升序，最小的值在第一。要想以降序排序，在您正在排序的列名上增加<span>DESC</span>（降序 
				）關鍵字：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth FROM pet ORDER BY birth DESC;</span></b></span></pre>
				<pre><span>+----------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+------------+</span></pre>
				<pre><span>| Puffball | 1999-03-30 |</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | 1998-09-11 |</span></pre>
				<pre><span>| Whistler | 1997-12-09 |</span></pre>
				<pre><span>| Slim&nbsp;&nbsp;&nbsp;&nbsp; | 1996-04-29 |</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | 1994-03-17 |</span></pre>
				<pre><span>| Fluffy&nbsp;&nbsp; | 1993-02-04 |</span></pre>
				<pre><span>| Fang&nbsp;&nbsp;&nbsp;&nbsp; | 1990-08-27 |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | 1989-08-31 |</span></pre>
				<pre><span>| Buffy&nbsp;&nbsp;&nbsp; | 1989-05-13 |</span></pre>
				<pre><span>+----------+------------+</span></pre>
				<p>
				可以對多個列進行排序，並且可以按不同的方向對不同的列進行排序。例如，按升序對動物的種類進行排序，然後按降序根據生日對各動物種類進行排序（最年輕的動物在最前面），使用下列查詢：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, species, birth FROM pet</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>ORDER BY species, birth DESC;</span></b></span></pre>
				<pre><span>+----------+---------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | species | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+---------+------------+</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | bird&nbsp;&nbsp;&nbsp; | 1998-09-11 |</span></pre>
				<pre><span>| Whistler | bird&nbsp;&nbsp;&nbsp; | 1997-12-09 |</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | 1994-03-17 |</span></pre>
				<pre><span>| Fluffy&nbsp;&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | 1993-02-04 |</span></pre>
				<pre><span>| Fang&nbsp;&nbsp;&nbsp;&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; | 1990-08-27 |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; | 1989-08-31 |</span></pre>
				<pre><span>| Buffy&nbsp;&nbsp;&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; | 1989-05-13 |</span></pre>
				<pre><span>| Puffball | hamster | 1999-03-30 |</span></pre>
				<pre><span>| Slim&nbsp;&nbsp;&nbsp;&nbsp; | snake&nbsp;&nbsp; | 1996-04-29 |</span></pre>
				<pre><span>+----------+---------+------------+</span></pre>
				<p>注意<span>DESC</span>關鍵字僅適用於在它前面的列名<span>(</span><span>birth</span><span>)</span>；不影響<span>species</span>列的排序順序。</p>
				<h4 class="title"><a name="date-calculations"></a>
				3.3.4.5.&nbsp;日期計算</h4></div></div></div><a class="indexterm" name="id2736007"></a><a class="indexterm" name="id2736014"></a><a class="indexterm" name="id2736024"></a><a class="indexterm" name="id2736034"></a>
				<p><strong><span>MySQL</span></strong>提供了幾個函數，可以用來計算日期，例如，計算年齡或提取日期部分。</p>
				<p>
				要想確定每個寵物有多大，可以計算當前日期的年和出生日期之間的差。如果當前日期的日曆年比出生日期早，則減去一年。以下查詢顯示了每個寵物的出生日期、當前日期和年齡數值的年數字。</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth, CURDATE(),</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>(YEAR(CURDATE())-YEAR(birth))</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>- (RIGHT(CURDATE(),5)&lt;RIGHT(birth,5))</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>AS age</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>FROM pet;</span></b></span></pre>
				<pre><span>+----------+------------+------------+------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | CURDATE()&nbsp; | age&nbsp; |</span></pre>
				<pre><span>+----------+------------+------------+------+</span></pre>
				<pre><span>| Fluffy&nbsp;&nbsp; | 1993-02-04 | 2003-08-19 |&nbsp;&nbsp; 10 |</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | 1994-03-17 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 9 |</span></pre>
				<pre><span>| Buffy&nbsp;&nbsp;&nbsp; | 1989-05-13 | 2003-08-19 |&nbsp;&nbsp; 14 |</span></pre>
				<pre><span>| Fang&nbsp;&nbsp;&nbsp;&nbsp; | 1990-08-27 | 2003-08-19 |&nbsp;&nbsp; 12 |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | 1989-08-31 | 2003-08-19 |&nbsp;&nbsp; 13 |</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | 1998-09-11 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 4 |</span></pre>
				<pre><span>| Whistler | 1997-12-09 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 5 |</span></pre>
				<pre><span>| Slim&nbsp;&nbsp;&nbsp;&nbsp; | 1996-04-29 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 7 |</span></pre>
				<pre><span>| Puffball | 1999-03-30 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 4 |</span></pre>
				<pre><span>+----------+------------+------------+------+</span></pre>
				<p>此處，<span>YEAR()</span>提取日期的年部分，<span>RIGHT()</span>提取日期的<span>MM-DD</span><span> 
				(</span>日曆年<span>)</span>部分的最右面<span>5</span>個字元。比較<span>MM-DD</span>值的資料表達式部分的值一般為<span>1</span>或<span>0</span>，如果<span>CURDATE()</span>的年比<span>birth</span>的年早，則年份應減去<span>1</span>。整個資料表達式有些難懂，使用<em><span>alias</span></em><span> 
				(</span><span>age</span><span>)</span>來使輸出的列標記更有意義。</p>
				<p>儘管查詢可行，如果以某個順序排列行，則能更容易地瀏覽結果。新增<span>ORDER 
				BY name</span>子句按照名字對輸出進行排序則能夠實現。</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth, CURDATE(),</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>(YEAR(CURDATE())-YEAR(birth))</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>- (RIGHT(CURDATE(),5)&lt;RIGHT(birth,5))</span></b></span></pre>
				<pre><span> &nbsp;&nbsp;&nbsp;-&gt; </span><span><b><span>AS age</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>FROM pet ORDER BY name;</span></b></span></pre>
				<pre><span>+----------+------------+------------+------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | CURDATE()&nbsp; | age&nbsp; |</span></pre>
				<pre><span>+----------+------------+------------+------+</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | 1989-08-31 | 2003-08-19 |&nbsp;&nbsp; 13 |</span></pre>
				<pre><span>| Buffy&nbsp;&nbsp;&nbsp; | 1989-05-13 | 2003-08-19 |&nbsp;&nbsp; 14 |</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | 1998-09-11 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 4 |</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | 1994-03-17 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 9 |</span></pre>
				<pre><span>| Fang&nbsp;&nbsp;&nbsp;&nbsp; | 1990-08-27 | 2003-08-19 |&nbsp;&nbsp; 12 |</span></pre>
				<pre><span>| Fluffy&nbsp;&nbsp; | 1993-02-04 | 2003-08-19 |&nbsp;&nbsp; 10 |</span></pre>
				<pre><span>| Puffball | 1999-03-30 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 4 |</span></pre>
				<pre><span>| Slim&nbsp; &nbsp;&nbsp;&nbsp;| 1996-04-29 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 7 |</span></pre>
				<pre><span>| Whistler | 1997-12-09 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 5 |</span></pre>
				<pre><span>+----------+------------+------------+------+</span></pre>
				<p>為了按<span>age</span>而非<span>name</span>排序輸出，只要再使用一個<span>ORDER 
				BY</span>子句：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth, CURDATE(),</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>(YEAR(CURDATE())-YEAR(birth))</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>- (RIGHT(CURDATE(),5)&lt;RIGHT(birth,5))</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>AS age</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>FROM pet ORDER BY age;</span></b></span></pre>
				<pre><span>+----------+------------+------------+------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | CURDATE()&nbsp; | age&nbsp; |</span></pre>
				<pre><span>+----------+------------+------------+------+</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | 1998-09-11 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 4 |</span></pre>
				<pre><span>| Puffball | 1999-03-30 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 4 |</span></pre>
				<pre><span>| Whistler | 1997-12-09 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 5 |</span></pre>
				<pre><span>| Slim&nbsp;&nbsp;&nbsp;&nbsp; | 1996-04-29 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 7 |</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | 1994-03-17 | 2003-08-19 |&nbsp;&nbsp;&nbsp; 9 |</span></pre>
				<pre><span>| Fluffy&nbsp;&nbsp; | 1993-02-04 | 2003-08-19 |&nbsp;&nbsp; 10 |</span></pre>
				<pre><span>| Fang&nbsp;&nbsp;&nbsp;&nbsp; | 1990-08-27 | 2003-08-19 |&nbsp;&nbsp; 12 |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | 1989-08-31 | 2003-08-19 |&nbsp;&nbsp; 13 |</span></pre>
				<pre><span>| Buffy&nbsp;&nbsp;&nbsp; | 1989-05-13 | 2003-08-19 |&nbsp;&nbsp; 14 |</span></pre>
				<pre><span>+----------+------------+------------+------+</span></pre>
				<p>可以使用一個類似的查詢來確定已經死亡動物的死亡年齡。您通過檢查<span>death</span>值是否是<span>NULL</span>來確定是哪些動物，然後，對於那些非<span>NULL</span>值的動物，需要計算出<span>death</span>和<span>birth</span>值之間的差：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth, death,</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>(YEAR(death)-YEAR(birth)) - (RIGHT(death,5)&lt;RIGHT(birth,5))</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>AS age</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>FROM pet WHERE death IS NOT NULL ORDER BY age;</span></b></span></pre>
				<pre><span>+--------+------------+------------+------+</span></pre>
				<pre><span>| name&nbsp;&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | age&nbsp; |</span></pre>
				<pre><span>+--------+------------+------------+------+</span></pre>
				<pre><span>| Bowser | 1989-08-31 | 1995-07-29 |&nbsp;&nbsp;&nbsp; 5 |</span></pre>
				<pre><span>+--------+------------+------------+------+</span></pre>
				<p>查詢使用<span>death IS 
				NOT NULL</span>而非<span>death 
				!= NULL</span>，因為<span>NULL</span>是特殊的值，不能使用普通比較符來比較，以後會給出解釋。參見<a href="tutorial.html#working-with-null" title="3.3.4.6. Working with NULL Values">3.3.4.6節，「NULL值操作<code class="literal"></code>」</a>。</p>
				<p>如果您想要知道哪個動物下個月過生日，怎麼辦？對於這類計算，年和天是無關的，您只需要提取<span>birth</span>列的月份部分。<strong><span>MySQL</span></strong>提供幾個日期部分的提取函數，例如<span>YEAR( 
				)</span>、<span>MONTH( 
				)</span>和<span>DAYOFMONTH( 
				)</span>。在這裡<span>MONTH()</span>是適合的函數。為了看它怎樣工作，運行一個簡單的查詢，顯示<span>birth</span>和<span>MONTH(birth)</span>的值：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth, MONTH(birth) FROM pet;</span></b></span></pre>
				<pre><span>+----------+------------+--------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | MONTH(birth) |</span></pre>
				<pre><span>+----------+------------+--------------+</span></pre>
				<pre><span>| Fluffy&nbsp;&nbsp; | 1993-02-04 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | 1994-03-17 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 |</span></pre>
				<pre><span>| Buffy &nbsp;&nbsp;&nbsp;| 1989-05-13 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5 |</span></pre>
				<pre><span>| Fang&nbsp;&nbsp;&nbsp;&nbsp; | 1990-08-27 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8 |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | 1989-08-31 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8 |</span></pre>
				<pre><span>| Chirpy&nbsp;&nbsp; | 1998-09-11 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9 |</span></pre>
				<pre><span>| Whistler | 1997-12-09 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12 |</span></pre>
				<pre><span>| Slim&nbsp;&nbsp;&nbsp;&nbsp; | 1996-04-29 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 |</span></pre>
				<pre><span>| Puffball | 1999-03-30 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 |</span></pre>
				<pre><span>+----------+------------+--------------+</span></pre>
				<p>找出下個月生日的動物也是容易的。假定當前月是<span>4</span>月，那麼月值是<span><span>4</span>，</span>您可以找在<span>5</span>月出生的動物<span> 
				(5</span>月<span>)</span>，方法是：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth FROM pet WHERE MONTH(birth) = 5;</span></b></span></pre>
				<pre><span>+-------+------------+</span></pre>
				<pre><span>| name&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+-------+------------+</span></pre>
				<pre><span>| Buffy | 1989-05-13 |</span></pre>
				<pre><span>+-------+------------+</span></pre>
				<p>如果當前月份是<span>12</span>月，就有點複雜了。您不能只把<span>1</span>加到月份數<span>(</span><span>12</span><span>)</span>上並尋找在<span>13</span>月出生的動物，因為沒有這樣的月份。相反，您應尋找在<span>1</span>月出生的動物<span>(1</span>月<span>)
				</span>。</p>
				<p>您甚至可以編寫查詢，不管當前月份是什麼它都能工作。採用這種方法不必在查詢中使用一個特定的月份，<span>DATE_ADD( 
				)</span>允許在一個給定的日期上加上時間間隔。如果在<span>NOW( 
				)</span>值上加上一個月，然後用<span>MONTH()</span>提取月份，結果產生生日所在月份：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth FROM pet</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>WHERE MONTH(birth) = MONTH(DATE_ADD(CURDATE(),INTERVAL 1 MONTH));</span></b></span></pre>
				<p>完成該任務的另一個方法是加<span>1</span>以得出當前月份的下一個月<span>(</span>在使用取模函數<span>(</span><span>MOD</span><span>)</span>後，如果月份當前值是<span>12</span>，則「回滾」到值<span>0</span><span>)</span>：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT name, birth FROM pet</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>WHERE MONTH(birth) = MOD(MONTH(CURDATE()), 12) + 1;</span></b></span></pre>
				<p>注意，<span>MONTH</span>返回在<span>1</span>和<span>12</span>之間的一個數字，且<span>MOD(something,12)</span>返回在<span>0</span>和<span>11</span>之間的一個數字，因此必須在<span>MOD( 
				)</span>以後加<span>1</span>，否則我們將從<span>11</span>月<span>( 
				11 )</span>跳到<span>1</span>月<span>(1)</span>。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="working-with-null"></a>
				3.3.4.6.&nbsp;NULL值操作<code class="literal"></code></h4></div></div></div><a class="indexterm" name="id2693076"></a><a class="indexterm" name="id2693084"></a>
				<p><span>NULL</span>值可能令人感到奇怪直到您習慣它。概念上，<span>NULL</span>意味著「沒有值」或「未知值」，且它被看作與眾不同的值。為了測試<span>NULL</span>，您不能使用算術比較
				操作符例如<span>=</span>、<span>&lt;</span>或<span>!=</span>。為了說明它，試試下列查詢：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT 1 = NULL, 1 &lt;&gt; NULL, 1 &lt; NULL, 1 &gt; NULL;</span></b></span></pre>
				<pre><span>+----------+-----------+----------+----------+</span></pre>
				<pre><span>| 1 = NULL | 1 &lt;&gt; NULL | 1 &lt; NULL | 1 &gt; NULL |</span></pre>
				<pre><span>+----------+-----------+----------+----------+</span></pre>
				<pre><span>|&nbsp;&nbsp;&nbsp;&nbsp; NULL |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NULL |&nbsp;&nbsp;&nbsp;&nbsp; NULL |&nbsp;&nbsp;&nbsp;&nbsp; NULL |</span></pre>
				<pre><span>+----------+-----------+----------+----------+</span></pre>
				<p>很顯然您不能通過這些比較得到有意義的結果。相反使用<span>IS 
				NULL</span>和<span>IS 
				NOT NULL</span>操作符：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT 1 IS NULL, 1 IS NOT NULL;</span></b></span></pre>
				<pre><span>+-----------+---------------+</span></pre>
				<pre><span>| 1 IS NULL | 1 IS NOT NULL |</span></pre>
				<pre><span>+-----------+---------------+</span></pre>
				<pre><span>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>+-----------+---------------+</span></pre>
				<p>請注意在<strong><span>MySQ</span><span>L</span></strong>中，<span>0</span>或 
				<span>NULL</span>意味著假而其它值意味著真。布爾運算的預設真值是<span><span>1</span><span>。</span></span></p>
				<p>對<span>NULL</span>的特殊處理即是在前面的章節中，為了決定哪個動物不再是活著的，使用<span>death 
				IS NOT NULL</span>而不使用<span>death 
				!= NULL</span>的原因。</p>
				<p>在<span>GROUP 
				BY</span>中，兩個<span>NULL</span>值視為相同。</p>
				<p>執行<span>ORDER 
				BY</span>時，如果運行 <span>
				<span>ORDER BY ... ASC</span><span>，</span></span>則<span>NULL</span>值出現在最前面，若運行<span>ORDER 
				BY ... DESC</span>，則<span>NULL</span>值出現在最後面。</p>
				<p>
				<span>NULL</span>操作的常見錯誤是不能在定義為<span>NOT 
				NULL</span>的列內插入<span>0</span>或空字串，但事實並非如此。在<span>NULL</span>資料表示<span>&quot;</span>沒有數值<span>&quot;</span>的地方有數值。使用<span>IS
				</span><span>[</span><span>NOT</span><span>]</span><span> 
				NULL</span>則可以很容易地進行測試，如下所示：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT 0 IS NULL, 0 IS NOT NULL, &#39;&#39; IS NULL, &#39;&#39; IS NOT NULL;</span></b></span></pre>
				<pre><span>+-----------+---------------+------------+----------------+</span></pre>
				<pre><span>| 0 IS NULL | 0 IS NOT NULL | &#39;&#39; IS NULL | &#39;&#39; IS NOT NULL |</span></pre>
				<pre><span>+-----------+---------------+------------+----------------+</span></pre>
				<pre><span>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>+-----------+---------------+------------+----------------+</span></pre>
				<p>因此完全可以在定義為<span>NOT 
				NULL</span>的列內插入<span>0</span>或空字串，實際是<span>NOT 
				NULL</span>。參見<a href="problems.html#problems-with-null" title="A.5.3. Problems with NULL Values">A.5.3節，「與NULL值有關的問題<code class="literal"></code>」</a>。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="pattern-matching"></a>
				3.3.4.7.&nbsp;模式匹配</h4></div></div></div><a class="indexterm" name="id2736481"></a><a class="indexterm" name="id2736488"></a><a class="indexterm" name="id2736498"></a>
				<p><strong>
				<span>
				MySQ</span><span>L</span></strong>提供標準的<span>SQL</span>模式匹配，以及一種基於象<span>Unix</span>實用程式如<span><b><span>vi</span></b></span><b>、</b><span><b><span>grep</span></b></span>和<span><b><span>sed</span></b></span>的延伸正則資料表達式模式匹配的格式。</p>
				<p><span>SQL</span>模式匹配允許您使用<samp><span>「</span><span>_</span><span>」</span></samp>匹配任何單個字元，而<samp><span>「</span><span>%</span><span>」</span></samp>匹配任意數目字元<span>(</span>包括零字元<span>)</span>。在<span> 
				MySQL</span>中，<span>SQL</span>的模式預設是忽略大小寫的。下面給出一些例子。注意使用<span>SQL</span>模式時，不能使用<span>=</span>或<span>!=</span>；而應使用<span>LIKE</span>或<span>NOT 
				LIKE</span>比較操作符。</p>
				<p>要想找出以<samp><span>「</span><span>b</span><span>」</span></samp>開頭的名字：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name LIKE &#39;b%&#39;;</span></b></span></pre>
				<pre><span>+--------+--------+---------+------+------------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+--------+--------+---------+------+------------+------------+</span></pre>
				<pre><span>| Buffy&nbsp; | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>| Bowser | Diane&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1989-08-31 | 1995-07-29 |</span></pre>
				<pre><span>+--------+--------+---------+------+------------+------------+</span></pre>
				<p>要想找出以<samp><span>「</span><span>fy</span><span>」</span></samp>結尾的名字：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name LIKE &#39;%fy&#39;;</span></b></span></pre>
				<pre><span>+--------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| name&nbsp;&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death |</span></pre>
				<pre><span>+--------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| Fluffy | Harold | cat&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1993-02-04 | NULL&nbsp; |</span></pre>
				<pre><span>| Buffy&nbsp; | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp; |</span></pre>
				<pre><span>+--------+--------+---------+------+------------+-------+</span></pre>
				<p>要想找出包含<samp><span>「</span><span>w</span><span>」</span></samp>的名字：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name LIKE &#39;%w%&#39;;</span></b></span></pre>
				<pre><span>+----------+-------+---------+------+------------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | owner | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+-------+---------+------+------------+------------+</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | Gwen&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1994-03-17 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | Diane | dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1989-08-31 | 1995-07-29 |</span></pre>
				<pre><span>| Whistler | Gwen&nbsp; | bird&nbsp;&nbsp;&nbsp; | NULL | 1997-12-09 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+-------+---------+------+------------+------------+</span></pre>
				<p>要想找出正好包含<span>5</span>個字元的名字，使用<samp><span>「</span><span>_</span><span>」</span></samp>模式字元：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name LIKE &#39;_____&#39;;</span></b></span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| name&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| Claws | Gwen&nbsp;&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1994-03-17 | NULL&nbsp; |</span></pre>
				<pre><span>| Buffy | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp; |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<p>由<strong><span style="font-family:
細明體;">MySQL</span></strong>提供的模式匹配的其它類型是使用延伸正則資料表達式。當您對這類模式進行匹配測試時，使用<span>REGEXP</span>和<span>NOT 
				REGEXP</span>操作符<span>(</span>或<span>RLIKE</span>和<span>NOT 
				RLIKE</span>，它們是同義詞<span>)</span>。 </p>
				<p>延伸正則資料表達式的一些字元是： </p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>『<span>.</span>』匹配任何單個的字元。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>字元類<samp><span>「</span><span>[...]</span><span>」</span></samp>匹配在方括號內的任何字元。例如，<samp><span>「</span><span>[abc]</span><span>」</span></samp>匹配<samp><span>「</span><span>a</span><span>」</span></samp>、<samp><span>「</span><span>b</span><span>」</span></samp>或<samp><span>「</span><span>c</span><span>」</span></samp>。為了命名字元的範圍，使用一個「<span>-</span>」。<samp><span>「</span><span>[a-z]</span><span>」</span></samp>匹配任何字母，而<samp><span>「</span><span>[0-9]</span><span>」</span></samp>匹配任何數字。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><samp>
				<span>「</span><span> 
				* </span><span>」</span></samp>匹配零個或多個在它前面的字元。例如，<samp><span>「</span><span>x*</span><span>」</span></samp>匹配任何數量的<samp><span>「</span><span>x</span><span>」</span></samp>字元，<samp><span>「</span><span>[0-9]*</span><span>」</span></samp>匹配任何數量的數字，而<samp><span>「</span><span>.*</span><span>」</span></samp>匹配任何數量的任何字元。</p>
				<ul type="disc">
					<li>如果<span>REGEXP</span>模式與被測試值的任何地方匹配，模式就匹配<span>(</span>這不同於<span>LIKE</span>模式匹配，只有與整個值匹配，模式才匹配<span>)</span>。 
					</li>
				</ul>
				<ul type="disc">
					<li>為了定位一個模式以便它必須匹配被測試值的開始或結尾，在模式開始處使用<samp><span>「</span><span>^</span><span>」</span></samp>或<samp>在模式的結尾用<span>「</span><span>$</span><span>」</span></samp>。<span>
					</span></li>
				</ul>
				<p>為了說明延伸正則資料表達式如何工作，下面使用<span>REGEXP</span>重寫上面所示的<span>LIKE</span>查詢：</p>
				<p>為了找出以<samp><span>「</span><span>b</span><span>」</span></samp>開頭的名字，使用<samp><span>「</span><span>^</span><span>」</span></samp>匹配名字的開始：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name REGEXP &#39;^b&#39;;</span></b></span></pre>
				<pre><span>+--------+--------+---------+------+------------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+--------+--------+---------+------+------------+------------+</span></pre>
				<pre><span>| Buffy&nbsp; | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>| Bowser | Diane&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1989-08-31 | 1995-07-29 |</span></pre>
				<pre><span>+--------+--------+---------+------+------------+------------+</span></pre>
				<p>如果您想強制使<span>REGEXP</span>比較區分大小寫，使用<span>BINARY</span>關鍵字使其中一個字串變為二進制字串。該查詢只匹配名稱首字母的小寫『<span>b</span>』。</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name REGEXP BINARY &#39;^b&#39;;</span></b></span></pre>
				<p>為了找出以<samp><span>「</span><span>fy</span><span>」</span></samp>結尾的名字，使用<samp><span>「</span><span>$</span><span>」</span></samp>匹配名字的結尾：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name REGEXP &#39;fy$&#39;;</span></b></span></pre>
				<pre><span>+--------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| name&nbsp;&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death |</span></pre>
				<pre><span>+--------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| Fluffy | Harold | cat&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1993-02-04 | NULL&nbsp; |</span></pre>
				<pre><span>| Buffy&nbsp; | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp; |</span></pre>
				<pre><span>+--------+--------+---------+------+------------+-------+</span></pre>
				<p>為了找出包含一個<samp><span>「</span><span>w</span><span>」</span></samp>的名字，使用以下查詢：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name REGEXP &#39;w&#39;;</span></b></span></pre>
				<pre><span>+----------+-------+---------+------+------------+------------+</span></pre>
				<pre><span>| name&nbsp;&nbsp;&nbsp;&nbsp; | owner | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+-------+---------+------+------------+------------+</span></pre>
				<pre><span>| Claws&nbsp;&nbsp;&nbsp; | Gwen&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1994-03-17 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>| Bowser&nbsp;&nbsp; | Diane | dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1989-08-31 | 1995-07-29 |</span></pre>
				<pre><span>| Whistler | Gwen&nbsp; | bird&nbsp;&nbsp;&nbsp; | NULL | 1997-12-09 | NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
				<pre><span>+----------+-------+---------+------+------------+------------+</span></pre>
				<p>
				既然如果一個正則資料表達式出現在值的任何地方，其模式匹配了，就不必在先前的查詢中在模式的兩側放置一個通配符以使得它匹配整個值，就像您使用了一個<span>SQL</span>模式那樣。</p>
				<p>為了找出包含正好<span>5</span>個字元的名字，使用<samp><span>「</span><span>^</span><span>」</span></samp>和<samp><span>「</span><span>$</span><span>」</span></samp>匹配名字的開始和結尾，和<span>5</span>個<samp><span>「</span><span>.</span><span>」</span></samp>實例在兩者之間：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name REGEXP &#39;^.....$&#39;;</span></b></span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| name&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| Claws | Gwen&nbsp;&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1994-03-17 | NULL&nbsp; |</span></pre>
				<pre><span>| Buffy | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp; |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<p>您也可以使用<samp><span>「</span><span>{n}</span><span>」</span></samp>「重複<span>n</span>次」操作符重寫前面的查詢：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM pet WHERE name REGEXP &#39;^.{5}$&#39;;</span></b></span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| name&nbsp; | owner&nbsp; | species | sex&nbsp; | birth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | death |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<pre><span>| Claws | Gwen&nbsp;&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | 1994-03-17 | NULL&nbsp; |</span></pre>
				<pre><span>| Buffy | Harold | dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; | 1989-05-13 | NULL&nbsp; |</span></pre>
				<pre><span>+-------+--------+---------+------+------------+-------+</span></pre>
				<p><a href="regexp.html">附錄G：</a><a href="regexp.html" title="Appendix G. MySQL Regular Expressions"><i>MySQL正則資料表達式</i></a><span>
				</span>提供了關於正則資料表達式的句法的詳細訊息。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="counting-rows"></a>
				3.3.4.8.&nbsp;計數行</h4></div></div></div><a class="indexterm" name="id2737005"></a><a class="indexterm" name="id2737015"></a><a class="indexterm" name="id2737025"></a></div><div class="section"><div class="titlepage"><div><div>
				資料庫經常用於回答這個問題，「某個類型的數據在資料表中出現的頻度<span>?</span>」例如，您可能想要知道您有多少寵物，或每位主人有多少寵物，或您可能想要對您的動物進行各種類型的普查。<p>
				計算您擁有動物的總數目與「在<span>pet</span>資料表中有多少行<span>?</span>」是同樣的問題，因為每個寵物有一個記錄。<span><span>COUNT(</span><span>*</span><span>)</span></span>函數計算行數，所以計算動物數目的查詢應為：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT COUNT(*) FROM pet;</span></b></span></pre>
				<pre><span>+----------+</span></pre>
				<pre><span>| COUNT(*) |</span></pre>
				<pre><span>+----------+</span></pre>
				<pre><span>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9 |</span></pre>
				<pre><span>+----------+</span></pre>
				<p>在前面，您檢索了擁有寵物的人的名字。如果您想要知道每個主人有多少寵物，您可以使用<span><span>COUNT( 
				)</span>函數：</span></p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT owner, COUNT(*) FROM pet GROUP BY owner;</span></b></span></pre>
				<pre><span>+--------+----------+</span></pre>
				<pre><span>| owner&nbsp; | COUNT(*) |</span></pre>
				<pre><span>+--------+----------+</span></pre>
				<pre><span>| Benny&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
				<pre><span>| Diane&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
				<pre><span>| Gwen&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 |</span></pre>
				<pre><span>| Harold |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
				<pre><span>+--------+----------+</span></pre>
				<p>注意，使用<span>GROUP 
				BY</span>對每個<span>owner</span>的所有記錄分組，沒有它，您會得到錯誤消息：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT owner, COUNT(*) FROM pet;</span></b></span></pre>
				<pre><span>ERROR 1140 (42000): Mixing of GROUP columns (MIN(),MAX(),COUNT(),...) </span></pre>
				<pre><span>with no GROUP columns is illegal if there is no GROUP BY clause</span></pre>
				<p><span>COUNT( )</span>和<span>GROUP 
				BY</span>以各種方式分類您的數據。下列例子顯示出進行動物普查操作的不同方式。</p>
				<p>每種動物的數量：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT species, COUNT(*) FROM pet GROUP BY species;</span></b></span></pre>
				<pre><span>+---------+----------+</span></pre>
				<pre><span>| species | COUNT(*) |</span></pre>
				<pre><span>+---------+----------+</span></pre>
				<pre><span>| bird&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
				<pre><span>| cat&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
				<pre><span>| dog&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 |</span></pre>
				<pre><span>| hamster |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| snake&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>+---------+----------+</span></pre>
				<p>每種性別的動物數量：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT sex, COUNT(*) FROM pet GROUP BY sex;</span></b></span></pre>
				<pre><span>+------+----------+</span></pre>
				<pre><span>| sex&nbsp; | COUNT(*) |</span></pre>
				<pre><span>+------+----------+</span></pre>
				<pre><span>| NULL |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 |</span></pre>
				<pre><span>| m&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 |</span></pre>
				<pre><span>+------+----------+</span></pre>
				<p>（在這個輸出中，<span>NULL</span>資料表示「未知性別」。）</p>
				<p>按種類和性別組合的動物數量： </p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT species, sex, COUNT(*) FROM pet GROUP BY species, sex;</span></b></span></pre>
				<pre><span>+---------+------+----------+</span></pre>
				<pre><span>| species | sex&nbsp; | COUNT(*) |</span></pre>
				<pre><span>+---------+------+----------+</span></pre>
				<pre><span>| bird&nbsp;&nbsp;&nbsp; | NULL |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| bird&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| cat&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
				<pre><span>| hamster | f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| snake&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;1 |</span></pre>
				<pre><span>+---------+------+----------+</span></pre>
				<p>若使用<span>COUNT( )</span>，您不必檢索整個資料表。例如<span>,
				</span>前面的查詢，當只對狗和貓進行時，應為：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT species, sex, COUNT(*) FROM pet</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>WHERE species = &#39;dog&#39; OR species = &#39;cat&#39;</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>GROUP BY species, sex;</span></b></span></pre>
				<pre><span>+---------+------+----------+</span></pre>
				<pre><span>| species | sex&nbsp; | COUNT(*) |</span></pre>
				<pre><span>+---------+------+----------+</span></pre>
				<pre><span>| cat&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| dog&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
				<pre><span>+---------+------+----------+</span></pre>
				<p>或，如果您僅需要知道已知性別的按性別的動物數目：</p>
				<pre><span>mysql&gt; </span><span><b><span>SELECT species, sex, COUNT(*) FROM pet</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>WHERE sex IS NOT NULL</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>GROUP BY species, sex;</span></b></span></pre>
				<pre><span>+---------+------+----------+</span></pre>
				<pre><span>| species | sex&nbsp; | COUNT(*) |</span></pre>
				<pre><span>+---------+------+----------+</span></pre>
				<pre><span>| bird&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| cat&nbsp;&nbsp;&nbsp;&nbsp; | f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| cat&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| dog&nbsp;&nbsp;&nbsp; &nbsp;| f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| dog&nbsp;&nbsp;&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
				<pre><span>| hamster | f&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>| snake&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
				<pre><span>+---------+------+----------+</span></pre>
				<h4 class="title"><a name="multiple-tables"></a>
				3.3.4.9.&nbsp;使用1個以上的資料表<br>
&nbsp;</h4></div></div></div><a class="indexterm" name="id2737257"></a></div></div></div><div class="section"><div class="titlepage"><div><div>
		<span>pet</span>資料表追蹤您有哪個寵物。如果您想要記錄其它相關訊息，例如在他們一生中看獸醫或何時後代出生，您需要另外的資料表。這張資料表應該像什麼呢？需要：<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>它需要包含寵物名字以便您知道每個事件屬於哪個動物。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>需要一個日期以便您知道事件是什麼時候發生的。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>需要一個描述事件的字段。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>如果您想要對事件進行分類，則需要一個事件類型字段。</p>
		<p>綜合上述因素，<span>event</span>資料表的<span>CREATE 
		TABLE</span>語句應為：</p>
		<pre><span>mysql&gt; </span><span><b><span>CREATE TABLE event (name VARCHAR(20), date DATE,</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>type VARCHAR(15), remark VARCHAR(255));</span></b></span></pre>
		<p>對於<span>pet</span>資料表，最容易的方法是建立包含訊息的用定位符分隔的文本檔案來裝載初始記錄：</p>
		<table border="1" cellpadding="0" id="table4">
			<tr>
				<td>
				<p><strong>
				<span>name</span></strong></td>
				<td>
				<p><strong>
				<span>date</span></strong></td>
				<td>
				<p><strong>
				<span>type</span></strong></td>
				<td>
				<p><strong>
				<span>remark</span></strong></td>
			</tr>
			<tr>
				<td>
				<p><span>Fluffy</span></td>
				<td>
				<p><span>1995-05-15</span></td>
				<td>
				<p><span>litter</span></td>
				<td>
				<p><span>4 kittens, 3 female, 1 
				male</span></td>
			</tr>
			<tr>
				<td>
				<p><span>Buffy</span></td>
				<td>
				<p><span>1993-06-23</span></td>
				<td>
				<p><span>litter</span></td>
				<td>
				<p><span>5 puppies, 2 female, 3 
				male</span></td>
			</tr>
			<tr>
				<td>
				<p><span>Buffy</span></td>
				<td>
				<p><span>1994-06-19</span></td>
				<td>
				<p><span>litter</span></td>
				<td>
				<p><span>3 puppies, 3 female</span></td>
			</tr>
			<tr>
				<td>
				<p><span>Chirpy</span></td>
				<td>
				<p><span>1999-03-21</span></td>
				<td>
				<p><span>vet</span></td>
				<td>
				<p><span>needed beak straightened</span></td>
			</tr>
			<tr>
				<td>
				<p><span>Slim</span></td>
				<td>
				<p><span>1997-08-03</span></td>
				<td>
				<p><span>vet</span></td>
				<td>
				<p><span>broken rib</span></td>
			</tr>
			<tr>
				<td>
				<p><span>Bowser</span></td>
				<td>
				<p><span>1991-10-12</span></td>
				<td>
				<p><span>kennel</span></td>
				<td>
				<p><span>&nbsp;</span></td>
			</tr>
			<tr>
				<td>
				<p><span>Fang</span></td>
				<td>
				<p><span>1991-10-12</span></td>
				<td>
				<p><span>kennel</span></td>
				<td>
				<p><span>&nbsp;</span></td>
			</tr>
			<tr>
				<td>
				<p><span>Fang</span></td>
				<td>
				<p><span>1998-08-28</span></td>
				<td>
				<p><span>birthday</span></td>
				<td>
				<p><span>Gave him a new chew toy</span></td>
			</tr>
			<tr>
				<td>
				<p><span>Claws</span></td>
				<td>
				<p><span>1998-03-17</span></td>
				<td>
				<p><span>birthday</span></td>
				<td>
				<p><span>Gave him a new flea 
				collar</span></td>
			</tr>
			<tr>
				<td>
				<p><span>Whistler</span></td>
				<td>
				<p><span>1998-12-09</span></td>
				<td>
				<p><span>birthday</span></td>
				<td>
				<p><span>First birthday</span></td>
			</tr>
		</table>
		<p>採用如下方式裝載記錄：</p>
		<pre><span>mysql&gt; </span><span><b><span>LOAD DATA LOCAL INFILE &#39;event.txt&#39; INTO TABLE event;</span></b></span></pre>
		<p>根據您從已經運行在<span>pet</span>資料表上的查詢中學到的，您應該能執行對<span>event</span>資料表中記錄的檢索；原理是一樣的。但是什麼時候<span>event</span>資料表本身不能回答您可能問的問題呢？</p>
		<p>當他們有了一窩小動物時，假定您想要找出每隻寵物的年齡。我們前面看到了如何通過兩個日期計算年齡。<span>event</span>資料表中有母親的生產日期，但是為了計算母親的年齡，您需要她的出生日期，儲存在<span>pet</span>資料表中。說明查詢需要兩個資料表：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT pet.name,</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>(YEAR(date)-YEAR(birth)) - (RIGHT(date,5)&lt;RIGHT(birth,5)) AS age,</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>remark</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>FROM pet, event</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>WHERE pet.name = event.name AND event.type = &#39;litter&#39;;</span></b></span></pre>
		<pre><span>+--------+------+-----------------------------+</span></pre>
		<pre><span>| name&nbsp;&nbsp; | age&nbsp; | remark&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>+--------+------+-----------------------------+</span></pre>
		<pre><span>| Fluffy |&nbsp;&nbsp;&nbsp; 2 | 4 kittens, 3 female, 1 male |</span></pre>
		<pre><span>| Buffy&nbsp; |&nbsp;&nbsp;&nbsp; 4 | 5 puppies, 2 female, 3 male |</span></pre>
		<pre><span>| Buffy&nbsp; |&nbsp;&nbsp;&nbsp; 5 | 3 puppies, 3 female&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>+--------+------+-----------------------------+</span></pre>
		<p><span>關於該查詢要注意的幾件事情：</span></p>
		<ul type="disc">
			<li>
			<span>FROM</span>子句列出兩個資料表，因為查詢需要從兩個資料表提取訊息。</li>
			<li>當從多個資料表組合<span>(</span>聯結<span>)</span>訊息時，您需要指定一個資料表中的記錄怎樣能匹配其它資料表的記錄。這很簡單，因為它們都有一個<span>name</span>列。查詢使用<span>WHERE</span>子句基於<span>name</span>值來匹配<span>2</span>個資料表中的記錄。</li>
			<li>因為<span>name</span>列出現在兩個資料表中，當引用列時，您一定要指定哪個資料表。把資料表名附在列名前即可以實現。</li>
		</ul>
		<p>
		<span>您不必有<span>2</span>個不同的資料表來進行聯結。如果您想要將一個資料表的記錄與同一個資料表的其它記錄進行比較，可以將一個資料表聯結到自身。例如，為了在您的寵物之中繁殖配偶，您可以用</span><span >pet</span><span>聯結自身來進行相似種類的雄雌配對：</span></p>
		<p>
		<span>&nbsp;</span></p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT p1.name, p1.sex, p2.name, p2.sex, p1.species</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>FROM pet AS p1, pet AS p2</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>WHERE p1.species = p2.species AND p1.sex = &#39;f&#39; AND p2.sex = &#39;m&#39;;</span></b></span></pre>
		<pre><span>+--------+------+--------+------+---------+</span></pre>
		<pre><span>| name&nbsp;&nbsp; | sex&nbsp; | name&nbsp;&nbsp; | sex&nbsp; | species |</span></pre>
		<pre><span>+--------+------+--------+------+---------+</span></pre>
		<pre><span>| Fluffy | f&nbsp;&nbsp;&nbsp; | Claws&nbsp; | m&nbsp;&nbsp;&nbsp; | cat&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| Buffy&nbsp; | f&nbsp;&nbsp;&nbsp; | Fang&nbsp;&nbsp; | m&nbsp;&nbsp;&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| Buffy&nbsp; | f&nbsp;&nbsp;&nbsp; | Bowser | m&nbsp;&nbsp;&nbsp; | dog&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>+--------+------+--------+------+---------+</span></pre>
		<p>在這個查詢中，我們為資料表名指定別名以便能引用列並且使得每一個列引用與哪個資料表實例相關聯更直觀。</p>
		<h2 class="title"><a name="getting-information"></a>
		3.4.&nbsp;獲得資料庫和資料表的訊息</h2></div></div></div><a class="indexterm" name="id2737770"></a><a class="indexterm" name="id2737780"></a><a class="indexterm" name="id2737790"></a></div><div class="section"><div class="titlepage"><div><div>
		如果您忘記資料庫或資料表的名字，或給定的資料表的結構是什麼<span>(</span>例如，它的列叫什麼<span>)</span>，怎麼辦？<strong><span style="
">MySQL</span></strong>通過提供資料庫及其支援的資料表的訊息的幾個語句解決這個問題。<p>您已經見到了<span>SHOW 
		DATABASES</span>，它列出由伺服器管理的資料庫。為了找出當前選擇了哪個資料庫，使用<span>DATABASE( 
		)</span>函數：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT DATABASE();</span></b></span></pre>
		<pre><span>+------------+</span></pre>
		<pre><span>| DATABASE() |</span></pre>
		<pre><span>+------------+</span></pre>
		<pre><span>| menagerie&nbsp; |</span></pre>
		<pre><span>+------------+</span></pre>
		<p>如果您還沒選擇任何資料庫，結果是<span>NULL</span>。</p>
		<p>為了找出當前的資料庫包含什麼資料表<span>(</span>例如，當您不能確定一個資料表的名字<span>)</span>，使用這個命令：</p>
		<pre><span>mysql&gt; </span><span><b><span>SHOW TABLES;</span></b></span></pre>
		<pre><span>+---------------------+</span></pre>
		<pre><span>| Tables in menagerie |</span></pre>
		<pre><span>+---------------------+</span></pre>
		<pre><span>| event&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| pet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>+---------------------+</span></pre>
		<p>如果您想要知道一個資料表的結構，可以使用<span>DESCRIBE</span>命令；它顯示資料表中每個列的訊息：</p>
		<pre><span>mysql&gt; </span><span><b><span>DESCRIBE pet;</span></b></span></pre>
		<pre><span>+---------+-------------+------+-----+---------+-------+</span></pre>
		<pre><span>| Field&nbsp;&nbsp; | Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Null | Key | Default | Extra |</span></pre>
		<pre><span>+---------+-------------+------+-----+---------+-------+</span></pre>
		<pre><span>| name&nbsp;&nbsp;&nbsp; | varchar(20) | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| owner&nbsp;&nbsp; | varchar(20) | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| species | varchar(20) | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;|</span></pre>
		<pre><span>| sex&nbsp;&nbsp;&nbsp;&nbsp; | char(1)&nbsp;&nbsp;&nbsp;&nbsp; | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| birth&nbsp;&nbsp; | date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| death&nbsp;&nbsp; | date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>+---------+-------------+------+-----+---------+-------+</span></pre>
		<p><span>Field</span>顯示列名字，<span>Type</span>是列的數據類型，<span>Null</span>資料表示列是否能包含<span>NULL</span>值，<span>Key</span>顯示列是否被索引而<span>Default</span>指定列的預設值。</p>
		<p>如果資料表有索引，<span>SHOW INDEX 
		FROM tbl_name</span>生成有關索引的訊息。</p>
		<h2 class="title"><a name="batch-mode"></a>
		3.5.&nbsp;在批處理模式<span><strong class="command">下使用my</strong></span>sql</h2></div></div></div><a class="indexterm" name="id2737935"></a><a class="indexterm" name="id2737945"></a><a class="indexterm" name="id2737952"></a><a class="indexterm" name="id2737962"></a><a class="indexterm" name="id2737969"></a></div><div class="section"><div class="titlepage"><div><div>
		在前面的章節中，您交互式地使用<span><b><span>mysql</span></b></span>輸入查詢並且查看結果。您也可以以批模式運行<span><b><span>mysql</span></b></span>。為了做到這些，把您想要運行的命令放在一個檔案中，然後告訴<span><b><span>mysql</span></b></span>從檔案讀取它的輸入：<pre><span>shell&gt; </span><span><b><span>mysql &lt; <i>batch-file</i></span></b></span></pre>
		<p>如果在<span>Windows</span>下運行<strong><span>mysql</span></strong>，並且檔案中有一些可以造成問題的特殊字元，可以這樣操作：</p>
		<pre><span>C:\&gt; </span><span><b><span>mysql -e &quot;source <i>batch-file</i>&quot;</span></b></span></pre>
		<p>如果您需要在命令行上指定連接參數，命令應為：</p>
		<pre><span>shell&gt; </span><span><b><span>mysql -h <i>host</i> -u <i>user</i> -p &lt; <i>batch-file</i></span></b></span></pre>
		<pre><span>Enter password: </span><span><b><span>********</span></b></span></pre>
		<p>當這樣操作<span><b><span>mysql</span></b></span>時，則建立一個指令檔案，然後執行指令。</p>
		<p>如果您想在語句出現錯誤的時候仍想繼續執行指令，則應使用<span>--force</span>命令行選項。</p>
		<p>為什麼要使用一個指令？有很多原因：</p>
		<ul type="disc">
			<li>如果您需要重複運行查詢<span>(</span>比如說，每天或每週<span>)</span>，可以把它編成一個指令，則每次執行時不必重新鍵入。</li>
			<li>可以通過拷貝並編輯指令檔案從類似的現有的查詢生成一個新查詢。</li>
			<li>
			當您正在開發查詢時，批模式也是很有用的，特別對多行命令或多語句命令序列。如果您犯了一個錯誤，您不必重新輸入所有內容，只需要編輯指令來改正錯誤，然後告訴<span><b><span>mysql</span></b></span>再次執行指令。</li>
			<li>如果您有一個產生多個輸出的查詢，您可以通過一個分頁器而不是盯著它翻屏到屏幕的頂端來運行輸出：</li>
		</ul>
		<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>shell&gt;<b> mysql &lt; batch-file | more</b></span></pre>
		<ul type="disc">
			<li>您可以捕捉檔案中的輸出以便進行進一步的處理：</li>
		</ul>
		<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>shell&gt;<b> mysql &lt; batch-file &gt; mysql.out</b></span></pre>
		<ul type="disc">
			<li>您可以將指令分發給另外的人，以便他們也能運行命令。</li>
			<li>某些情況不允許交互地使用，例如<span>, </span>
			當您從一個<span><b><span>cron</span></b></span>任務中運行查詢時。在這種情況下，您必須使用批模式。</li>
		</ul>
		<p>
		當您以批模式運行<span>mysql</span>時，比起您交互地使用它時，其預設輸出格式是不同的<span>(</span>更簡明些<span>)</span>。例如，當交互式運行<span>SELECT 
		DISTINCT species FROM pet</span>時，輸出應為：</p>
		<p>
		<span>&nbsp;</span></p>
		<pre><span>+---------+</span></pre>
		<pre><span>| species |</span></pre>
		<pre><span>+---------+</span></pre>
		<pre><span>| bird&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| cat&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| dog&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
		<pre><span>| hamster |</span></pre>
		<pre><span>| snake&nbsp;&nbsp; |</span></pre>
		<pre><span>+---------+</span></pre>
		<p>但是當以批模式運行時，輸出應為：</p>
		<pre><span>species</span></pre>
		<pre><span>bird</span></pre>
		<pre><span>cat</span></pre>
		<pre><span>dog</span></pre>
		<pre><span>hamster</span></pre>
		<pre><span>snake</span></pre>
		<p>如果您想要在批模式中得到交互輸出格式，使用<span>mysql 
		-t</span>。為了回顯以輸出被執行的命令，使用<span>mysql 
		-vvv</span>。</p>
		<p>您還可以使用源代碼或 
		<span>\</span><span>.</span>命令從<strong><span>mysql</span></strong>提示符運行指令：</p>
		<pre><span>mysql&gt; </span><span><b><span>source filename;</span></b></span></pre>
		<pre><span>mysql&gt; </span><span><b><span>\. filename</span></b></span></pre>
		<h2 class="title"><a name="examples"></a>
		3.6.&nbsp;常用查詢的例子</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="tutorial.html#example-maximum-column">
			3.6.1. 列的最大值</a></span></dt><dt><span class="section"><a href="tutorial.html#example-maximum-row">
			3.6.2. 擁有某個列的最大值的行</a></span></dt><dt><span class="section"><a href="tutorial.html#example-maximum-column-group">
			3.6.3. 列的最大值：按組</a></span></dt><dt><span class="section"><a href="tutorial.html#example-maximum-column-group-row">
			3.6.4. 擁有某個字段的組間最大值的行</a></span></dt><dt><span class="section"><a href="tutorial.html#example-user-variables">
			3.6.5. 使用用戶變數</a></span></dt><dt><span class="section"><a href="tutorial.html#example-foreign-keys">
			3.6.6. 使用外部鍵</a></span></dt><dt><span class="section"><a href="tutorial.html#searching-on-two-keys">
			3.6.7. 根據兩個鍵搜索</a></span></dt><dt><span class="section"><a href="tutorial.html#calculating-days">
			3.6.8. 根據天計算訪問量</a></span></dt><dt><span class="section"><a href="tutorial.html#example-auto-increment">
			3.6.9. 使用AUTO_INCREMENT</a></span></dt></dl></div><a class="indexterm" name="id2738257"></a><a class="indexterm" name="id2738267"></a>
		<p>下面是一些學習如何用<strong><span>MySQL</span></strong>解決一些常見問題的例子。</p>
		<p>在一些例子中，使用資料庫資料表「<span>shop</span>」來儲存某個商人（經銷商）的每件物品<span>(</span>物品號<span>)</span>的價格。假定每個商人對每項物品有一個固定價格，那麼<span>(</span>物品，商人<span>)</span>即為該記錄的主關鍵字。</p>
		<p>啟動命令行工具<strong><span>mysql</span></strong>並選擇資料庫：</p>
		<pre><span>shell&gt; </span><span><b><span>mysql <i>your-database-name</i></span></b></span></pre>
		<p>（在大多數<span>MySQL</span>中，您可以使用<span>test</span>資料庫）。</p>
		<p>您可以使用以下語句建立示範資料表：</p>
		<pre><span>mysql&gt; </span><span><b><span>CREATE TABLE shop (</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>article INT(4) UNSIGNED ZEROFILL DEFAULT &#39;0000&#39; NOT NULL,</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>dealer&nbsp; CHAR(20)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEFAULT &#39;&#39;&nbsp;&nbsp;&nbsp;&nbsp; NOT NULL,</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>price&nbsp;&nbsp; DOUBLE(16,2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEFAULT &#39;0.00&#39; NOT NULL,</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>PRIMARY KEY(article, dealer));</span></b></span></pre>
		<pre><span>mysql&gt; </span><span><b><span>INSERT INTO shop VALUES</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>(1,&#39;A&#39;,3.45),(1,&#39;B&#39;,3.99),(2,&#39;A&#39;,10.99),(3,&#39;B&#39;,1.45),</span></b></span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp; -&gt; </span><span><b><span>(3,&#39;C&#39;,1.69),(3,&#39;D&#39;,1.25),(4,&#39;D&#39;,19.95);</span></b></span></pre>
		<p>執行語句後，資料表應包含以下內容：</p>
		<pre><span>mysql&gt; </span><span><b><span>SELECT * FROM shop;</span></b></span></pre>
		<pre><span>+---------+--------+-------+</span></pre>
		<pre><span>| article | dealer | price |</span></pre>
		<pre><span>+---------+--------+-------+</span></pre>
		<pre><span>|&nbsp;&nbsp;&nbsp; 0001 | A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; 3.45 |</span></pre>
		<pre><span>|&nbsp;&nbsp;&nbsp; 0001 | B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; 3.99 |</span></pre>
		<pre><span>|&nbsp;&nbsp;&nbsp; 0002 | A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 10.99 |</span></pre>
		<pre><span>| &nbsp;&nbsp;&nbsp;0003 | B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; 1.45 |</span></pre>
		<pre><span>|&nbsp;&nbsp;&nbsp; 0003 | C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; 1.69 |</span></pre>
		<pre><span>|&nbsp;&nbsp;&nbsp; 0003 | D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; 1.25 |</span></pre>
		<pre><span>|&nbsp;&nbsp;&nbsp; 0004 | D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 19.95 |</span></pre>
		<pre><span>+---------+--------+-------+</span></pre>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="example-maximum-column"></a>
			3.6.1.&nbsp;列的最大值</h3></div></div></div>
			<p>「最大的物品號是什麼？」</p>
			<pre class="programlisting">SELECT MAX(article) AS article FROM shop;

+---------+
| article |
+---------+
|       4 |
+---------+
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="example-maximum-row"></a>
			3.6.2.&nbsp;擁有某個列的最大值的行</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			<em><span>任務：找出最貴物品的編號、銷售商和價格。</span></em><p>
			這很容易用一個子查詢做到：</p>
			<pre><span>SELECT article, dealer, price</span></pre>
			<pre><span>FROM&nbsp;&nbsp; shop</span></pre>
			<pre><span>WHERE&nbsp; price=(SELECT MAX(price) FROM shop);</span></pre>
			<p>另一個解決方案是按價格降序排序所有行並用<strong><span>MySQL</span></strong>特定<span>LIMIT</span>子句只得到第一行：</p>
			<pre><span>SELECT article, dealer, price</span></pre>
			<pre><span>FROM shop</span></pre>
			<pre><span>ORDER BY price DESC</span></pre>
			<pre><span>LIMIT 1;</span></pre>
			<p><strong><span>注</span></strong><span>:</span>如果有多項最貴的物品<span>(
			</span>例如每個的價格為<span>19.95)</span><span>，<span>LIMIT</span></span>解決方案僅僅顯示其中一個！</p>
			<h3 class="title"><a name="example-maximum-column-group"></a>
			3.6.3.&nbsp;列的最大值：按組</h3></div></div></div>
			<p><em><span>任務：每項物品的的最高價格是多少？</span></em></p>
			<pre class="programlisting">SELECT article, MAX(price) AS price
FROM   shop
GROUP BY article

+---------+-------+
| article | price |
+---------+-------+
|    0001 |  3.99 |
|    0002 | 10.99 |
|    0003 |  1.69 |
|    0004 | 19.95 |
+---------+-------+
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="example-maximum-column-group-row"></a>
			3.6.4.&nbsp;擁有某個字段的組間最大值的行</h3></div></div></div>
			<p><em><span>任務：對每項物品，找出最貴價格的物品的經銷商。</span></em></p>
			<p>可以用這樣一個子查詢解決該問題：</p>
			<pre class="programlisting">SELECT article, dealer, price
FROM   shop s1
WHERE  price=(SELECT MAX(s2.price)
              FROM shop s2
              WHERE s1.article = s2.article);
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="example-user-variables"></a>
			3.6.5.&nbsp;使用用戶變數</h3></div></div></div>
			<p>您可以清空<span>MySQL</span>用戶變數以記錄結果，不必將它們保存到客戶端的臨時變數中。（參見
        <a href="language-structure.html#variables" title="9.3. User Variables">
			9.3節，「用戶變數」</a><span>.</span>）。</p>
			<p>例如，要找出價格最高或最低的物品的，其方法是：</p>
			<pre class="programlisting">mysql&gt; <strong class="userinput">SELECT @min_price:=MIN(price),@max_price:=MAX(price) FROM shop;</strong>
mysql&gt; <strong class="userinput">SELECT * FROM shop WHERE price=@min_price OR price=@max_price;</strong>
+---------+--------+-------+
| article | dealer | price |
+---------+--------+-------+
|    0003 | D      |  1.25 |
|    0004 | D      | 19.95 |
+---------+--------+-------+
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="example-foreign-keys"></a>
			3.6.6.&nbsp;使用外部鍵</h3></div></div></div><a class="indexterm" name="id2738582"></a><a class="indexterm" name="id2738589"></a>
			<p>在<span>MySQL</span>中，<span>InnoDB</span>資料表支援對外部關鍵字約束條件的檢查。參見<a href="storage-engines.html#innodb" title="15.2. The InnoDB Storage Engine">15.2節，「InnoDB儲存引擎」</a>。還可以參見
        <a href="introduction.html#ansi-diff-foreign-keys" title="1.8.5.5. Foreign Keys">
			1.8.5.5節，「外部鍵」</a>。</p>
			<p>只是聯接兩個資料表時，不需要外部關鍵字。對於除<span>InnoDB</span>類型的資料表，當使用<span>REFERENCES
			<i>tbl_name</i>(<i>col_name</i>)</span>子句定義列時可以使用外部關鍵字，該子句沒有實際的效果，<em><span>只作為備忘錄或註釋來提醒，您目前正定義的列指向另一個資料表中的一個列。</span></em>執行該語句時，實現下面很重要：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>MySQL</span>不執行資料表<span><i><span>tbl_name</span></i></span><span>
			</span>中的動作，例如作為您正定義的資料表中的行的動作的響應而刪除行；換句話說，該句法不會致使<span>ON 
			DELETE</span>或<span>ON 
			UPDATE</span>行為（如果您在<span>REFERENCES</span>子句中寫入<span>ON 
			DELETE</span>或<span>ON 
			UPDATE</span>子句，將被忽略）。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>該句法可以建立一個<em><span>column</span></em>；但不建立任何索引或關鍵字。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>如果用該句法定義<span>InnoDB</span>資料表，將會導致錯誤。</p>
			<p>您可以使用作為聯接列建立的列，如下所示：</p>
			<pre><span>CREATE TABLE person (</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; name CHAR(60) NOT NULL,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; PRIMARY KEY (id)</span></pre>
			<pre><span>);</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>CREATE TABLE shirt (</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; style ENUM(&#39;t-shirt&#39;, &#39;polo&#39;, &#39;dress&#39;) NOT NULL,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; color ENUM(&#39;red&#39;, &#39;blue&#39;, &#39;orange&#39;, &#39;white&#39;, &#39;black&#39;) NOT NULL,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; owner SMALLINT UNSIGNED NOT NULL REFERENCES person(id),</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; PRIMARY KEY (id)</span></pre>
			<pre><span>);</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>INSERT INTO person VALUES (NULL, &#39;Antonio Paz&#39;);</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SELECT @last := LAST_INSERT_ID();</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>INSERT INTO shirt VALUES</span></pre>
			<pre><span>(NULL, &#39;polo&#39;, &#39;blue&#39;, @last),</span></pre>
			<pre><span>(NULL, &#39;dress&#39;, &#39;white&#39;, @last),</span></pre>
			<pre><span>(NULL, &#39;t-shirt&#39;, &#39;blue&#39;, @last);</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>INSERT INTO person VALUES (NULL, &#39;Lilliana Angelovska&#39;);</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SELECT @last := LAST_INSERT_ID();</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>INSERT INTO shirt VALUES</span></pre>
			<pre><span>(NULL, &#39;dress&#39;, &#39;orange&#39;, @last),</span></pre>
			<pre><span>(NULL, &#39;polo&#39;, &#39;red&#39;, @last),</span></pre>
			<pre><span>(NULL, &#39;dress&#39;, &#39;blue&#39;, @last),</span></pre>
			<pre><span>(NULL, &#39;t-shirt&#39;, &#39;white&#39;, @last);</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SELECT * FROM person;</span></pre>
			<pre><span>+----+---------------------+</span></pre>
			<pre><span>| id | name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>+----+---------------------+</span></pre>
			<pre><span>|&nbsp; 1 | Antonio Paz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>|&nbsp; 2 | Lilliana Angelovska |</span></pre>
			<pre><span>+----+---------------------+</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SELECT * FROM shirt;</span></pre>
			<pre><span>+----+---------+--------+-------+</span></pre>
			<pre><span>| id | style&nbsp;&nbsp; | color&nbsp; | owner |</span></pre>
			<pre><span>+----+---------+--------+-------+</span></pre>
			<pre><span>|&nbsp; 1 | polo&nbsp;&nbsp;&nbsp; | blue&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
			<pre><span>|&nbsp; 2 | dress&nbsp;&nbsp; | white&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
			<pre><span>|&nbsp; 3 | t-shirt | blue&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 1 |</span></pre>
			<pre><span>|&nbsp; 4 | dress&nbsp;&nbsp; | orange |&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
			<pre><span>|&nbsp; 5 | polo&nbsp;&nbsp;&nbsp; | red&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
			<pre><span>|&nbsp; 6 | dress&nbsp;&nbsp; | blue&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
			<pre><span>|&nbsp; 7 | t-shirt | white&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
			<pre><span>+----+---------+--------+-------+</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SELECT s.* FROM person p, shirt s</span></pre>
			<pre><span> WHERE p.name LIKE &#39;Lilliana%&#39;</span></pre>
			<pre><span>&nbsp;&nbsp; AND s.owner = p.id</span></pre>
			<pre><span>&nbsp;&nbsp; AND s.color &lt;&gt; &#39;white&#39;;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>+----+-------+--------+-------+</span></pre>
			<pre><span>| id | style | color&nbsp; | owner |</span></pre>
			<pre><span>+----+-------+--------+-------+</span></pre>
			<pre><span>|&nbsp; 4 | dress | orange |&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
			<pre><span>|&nbsp; 5 | polo&nbsp; | red&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
			<pre><span>|&nbsp; 6 | dress | blue&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 2 |</span></pre>
			<pre><span>+----+-------+--------+-------+</span></pre>
			<p>按照這種方式使用，<span>REFERENCES</span>子句不會顯示在<span>SHOW 
			CREATE TABLE</span>或<span>DESCRIBE</span>的輸出中<span>:
			</span></p>
			<pre><span>SHOW CREATE TABLE shirt\G</span></pre>
			<pre><span>*************************** 1. row ***************************</span></pre>
			<pre><span>Table: shirt</span></pre>
			<pre><span>Create Table: CREATE TABLE `shirt` (</span></pre>
			<pre><span>`id` smallint(5) unsigned NOT NULL auto_increment,</span></pre>
			<pre><span>`style` enum(&#39;t-shirt&#39;,&#39;polo&#39;,&#39;dress&#39;) NOT NULL,</span></pre>
			<pre><span>`color` enum(&#39;red&#39;,&#39;blue&#39;,&#39;orange&#39;,&#39;white&#39;,&#39;black&#39;) NOT NULL,</span></pre>
			<pre><span>`owner` smallint(5) unsigned NOT NULL,</span></pre>
			<pre><span>PRIMARY KEY&nbsp; (`id`)</span></pre>
			<pre><span>) ENGINE=MyISAM DEFAULT CHARSET=latin1</span></pre>
			<p>在列定義中，按這種方式使用<span>REFERENCES</span>作為註釋或「提示」適用於資料表<span>MyISAM</span>和<span>BerkeleyDB</span>。</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="searching-on-two-keys"></a>
			3.6.7.&nbsp;根據兩個鍵搜索</h3></div></div></div><a class="indexterm" name="id2738847"></a><a class="indexterm" name="id2738856"></a><a class="indexterm" name="id2738865"></a><a class="indexterm" name="id2738875"></a>
			<p>可以充分利用使用單關鍵字的<span>OR</span>子句，如同<span>AND</span>的處理。</p>
			<p>一個比較靈活的例子是尋找兩個通過<span>OR</span>組合到一起的關鍵字：</p>
			<pre><span>SELECT field1_index, field2_index FROM test_table</span></pre>
			<pre><span>WHERE field1_index = &#39;1&#39; OR&nbsp; field2_index = &#39;1&#39;</span></pre>
			<p>該情形是已經最佳化過的。參見<a href="optimization.html#index-merge-optimization" title="7.2.6. Index Merge Optimization">7.2.6節，「索引合併最佳化」</a>。</p>
			<p>還可以使用<span>UNION</span>將兩個單獨的<span>SELECT</span>語句的輸出合成到一起來更有效地解決該問題。參見<a href="sql-syntax.html#union" title="13.2.7.2. UNION Syntax">13.2.7.2節，「UNION語法<br>
		」</a>。</p>
			<p>每個<span>SELECT</span>只搜索一個關鍵字，可以進行最佳化：</p>
			<pre><span>SELECT field1_index, field2_index</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; FROM test_table WHERE field1_index = &#39;1&#39;</span></pre>
			<pre><span>UNION</span></pre>
			<pre><span>SELECT field1_index, field2_index</span></pre>
			<pre><span>&nbsp; &nbsp;&nbsp;FROM test_table WHERE field2_index = &#39;1&#39;;</span></pre>
		</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="calculating-days"></a>
			3.6.8.&nbsp;根據天計算訪問量</h3></div></div></div><a class="indexterm" name="id2738963"></a><a class="indexterm" name="id2738972"></a><a class="indexterm" name="id2738981"></a><a class="indexterm" name="id2738990"></a>
			<p>下面的例子顯示了如何使用位組函數來計算每個月中用戶訪問網頁的天數。</p>
			<pre><span>CREATE TABLE t1 (year YEAR(4), month INT(2) UNSIGNED ZEROFILL,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; day INT(2) UNSIGNED ZEROFILL);</span></pre>
			<pre><span>INSERT INTO t1 VALUES(2000,1,1),(2000,1,20),(2000,1,30),(2000,2,2),</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (2000,2,23),(2000,2,23);</span></pre>
			<p>示範資料表中含有代資料表用戶訪問網頁的年－月－日值。可以使用以下查詢來確定每個月的訪問天數：</p>
			<pre><span>SELECT year,month,BIT_COUNT(BIT_OR(1&lt;&lt;day)) AS days FROM t1</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GROUP BY year,month;</span></pre>
			<p>將返回：</p>
			<pre><span>+------+-------+------+</span></pre>
			<pre><span>| year | month | days |</span></pre>
			<pre><span>+------+-------+------+</span></pre>
			<pre><span>| 2000 |&nbsp;&nbsp;&nbsp; 01 |&nbsp;&nbsp;&nbsp; 3 |</span></pre>
			<pre><span>| 2000 |&nbsp;&nbsp;&nbsp; 02 |&nbsp;&nbsp;&nbsp; 2 |</span></pre>
			<pre><span>+------+-------+------+</span></pre>
			<p>該查詢計算了在資料表中按年<span>/</span>月組合的不同天數，可以自動去除重複的詢問。</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="example-auto-increment"></a>
			3.6.9.&nbsp;使用AUTO_INCREMENT</h3></div></div></div><a class="indexterm" name="id2739065"></a><a class="indexterm" name="id2739072"></a><a class="indexterm" name="id2739079"></a>
			<p>可以通過<span>AUTO_INCREMENT</span>屬性為新的行產生唯一的標識：</p>
			<pre><span>CREATE TABLE animals (</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; id MEDIUMINT NOT NULL AUTO_INCREMENT,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; name CHAR(30) NOT NULL,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; PRIMARY KEY (id)</span></pre>
			<pre><span> );</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>INSERT INTO animals (name) VALUES </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;(&#39;dog&#39;),(&#39;cat&#39;),(&#39;penguin&#39;),</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; (&#39;lax&#39;),(&#39;whale&#39;),(&#39;ostrich&#39;);</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SELECT * FROM animals;</span></pre>
			<p>將返回：</p>
			<pre><span>+----+---------+</span></pre>
			<pre><span>| id | name&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>+----+---------+</span></pre>
			<pre><span>|&nbsp; 1 | dog&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>|&nbsp; 2 | cat&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>|&nbsp; 3 | penguin |</span></pre>
			<pre><span>|&nbsp; 4 | lax&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>|&nbsp; 5 | whale&nbsp;&nbsp; |</span></pre>
			<pre><span>|&nbsp; 6 | ostrich |</span></pre>
			<pre><span>+----+---------+</span></pre>
			<p>您可以使用<span>LAST_INSERT_ID()</span><span>SQL</span>函數或<span>mysql_insert_id()</span><span> 
			C API</span>函數來查詢最新的<span>AUTO_INCREMENT</span>值。這些函數與具體連接有關，因此其返回值不會被其它執行插入功能的連接影響。</p>
			<p><strong><span>註釋：</span></strong>對於多行插入，<span>LAST_INSERT_ID()</span>和<span>mysql_insert_id()</span>從插入的第一行實際返回<span>AUTO_INCREMENT</span>關鍵字。在複製設置中，通過該函數可以在其它伺服器上正確複製多行插入。</p>
			<p>對於<span>MyISAM</span>和<span>BDB</span>資料表，您可以在第二欄指定<span>AUTO_INCREMENT</span>以及多列索引。此時，<span>AUTO_INCREMENT</span>列生成的值的計算方法為：<span>MAX(<i>auto_increment_column</i>) 
			+ 1 WHERE prefix=<i>given-prefix</i></span>。如果想要將數據放入到排序的組中可以使用該方法。</p>
			<pre><span>CREATE TABLE animals (</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; grp ENUM(&#39;fish&#39;,&#39;mammal&#39;,&#39;bird&#39;) NOT NULL,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; id MEDIUMINT NOT NULL AUTO_INCREMENT,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; name CHAR(30) NOT NULL,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; PRIMARY KEY (grp,id)</span></pre>
			<pre><span>);</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>INSERT INTO animals (grp,name) VALUES </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;(&#39;mammal&#39;,&#39;dog&#39;),(&#39;mammal&#39;,&#39;cat&#39;),</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; (&#39;bird&#39;,&#39;penguin&#39;),(&#39;fish&#39;,&#39;lax&#39;),(&#39;mammal&#39;,&#39;whale&#39;),</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; (&#39;bird&#39;,&#39;ostrich&#39;);</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SELECT * FROM animals ORDER BY grp,id;</span></pre>
			<p>將返回：</p>
			<pre><span>+--------+----+---------+</span></pre>
			<pre><span>| grp&nbsp;&nbsp;&nbsp; | id | name&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>+--------+----+---------+</span></pre>
			<pre><span>| fish&nbsp;&nbsp; |&nbsp; 1 | lax&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>| mammal |&nbsp; 1 | dog&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>| mammal |&nbsp; 2 | cat&nbsp;&nbsp;&nbsp;&nbsp; |</span></pre>
			<pre><span>| mammal |&nbsp; 3 | whale&nbsp;&nbsp; |</span></pre>
			<pre><span>| bird&nbsp;&nbsp; |&nbsp; 1 | penguin |</span></pre>
			<pre><span>| bird&nbsp;&nbsp; |&nbsp; 2 | ostrich |</span></pre>
			<pre><span>+--------+----+---------+</span></pre>
			<p>請注意在這種情況下（<span>AUTO_INCREMENT</span>列是多列索引的一部分），如果您在任何組中刪除有最大<span>AUTO_INCREMENT</span>值的行，將會重新用到<span>AUTO_INCREMENT</span>值。對於<span>MyISAM</span>資料表也如此<span>,</span>對於該資料表一般不重複使用<span>AUTO_INCREMENT</span>值。</p>
			<p>如果<span>AUTO_INCREMENT</span>列是多索引的一部分，<span>MySQL</span>將使用該索引生成以<span>AUTO_INCREMENT</span>列開始的序列值。。例如，如果<span>animals</span>資料表含有索引<span>PRIMARY 
			KEY (grp, id)</span>和<span>INDEX(id)</span>，<span>MySQL</span>生成序列值時將忽略<span>PRIMARY 
			KEY</span>。結果是，該資料表包含一個單個的序列，而不是符合<span>grp</span>值的序列。</p>
			<p>要想以<span>AUTO_INCREMENT</span>值開始而不是<span>1</span>，您可以通過<span>CREATE 
			TABLE</span>或<span>ALTER 
			TABLE</span>來設置該值，如下所示<span>:</span></p>
			<pre><span>mysql&gt; </span><span><b><span>ALTER TABLE tbl AUTO_INCREMENT = 100;</span></b></span></pre>
			<p>關於<span>AUTO_INCREMENT</span>的詳細訊息：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>如何為列指定<span>AUTO_INCREMENT</span>屬性：<a href="sql-syntax.html#create-table" title="13.1.5. CREATE TABLE Syntax">13.1.5節，「CREATE 
				TABLE語法」</a>和
              <a href="sql-syntax.html#alter-table" title="13.1.2. ALTER TABLE Syntax">
			13.1.2節，「ALTER 
				TABLE語法」</a>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>
			<span>AUTO_INCREMENT</span>的動作取決於<span>SQL</span>模式：<a href="database-administration.html#server-sql-mode" title="5.3.2. The Server SQL Mode">5.3.2節，「SQL伺服器模式」</a>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>找出含有最新<span>AUTO_INCREMENT</span>值的行：<a href="functions.html#comparison-operators" title="12.1.3. Comparison Functions and Operators">12.1.3節，「比較函數和操作符」</a>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>設置將用到的<span>AUTO_INCREMENT</span>值<span>:
			</span> <a href="sql-syntax.html#set-option" title="13.5.3. SET Syntax">
			13.5.3節，「SET語法」</a><span>
			</span>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>
			<span>AUTO_INCREMENT</span>和複製：<a href="replication.html#replication-features" title="6.7. Replication Features and Known Problems">6.7節，「複製特性和已知問題」</a><span>. </span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>
			<span>AUTO_INCREMENT</span>相關的可用於複製的<span>Server-system</span>變數<span>(</span><span>auto_increment_increment</span>和<span>auto_increment_offset</span><span>)</span>：<a href="database-administration.html#server-system-variables" title="5.3.3. Server System Variables">5.3.3節，「伺服器系統變數」</a>。</p>
			<p>
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="twin"></a>
		3.7.&nbsp;孿生項目的查詢</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="tutorial.html#twin-pool">
			3.7.1. 搜尋所有未分發的孿生項</a></span></dt><dt><span class="section"><a href="tutorial.html#twin-event">
			3.7.2. 顯示孿生對狀態的資料表</a></span></dt></dl></div><a class="indexterm" name="id2739467"></a><a class="indexterm" name="id2739477"></a>
		<p>這個項目是<span>Institute of Environmental Medicine at 
		Karolinska Institutet Stockholm </span>和<span> the Section 
		on Clinical Research in Aging and Psychology at the University of 
		Southern California</span>的合作項目。</p>
		<p>該項目包括篩選部分，即通過電話回訪在瑞典超過<span> 65 </span>
		歲的所有孿生。滿足某種標準的孿生進入下一階段。在下一階段中，醫生<span>/</span>護士小組將訪問想參加的孿生。部分檢查包括物理檢查和神經、心理檢查、實驗室試驗、神經成像、心理狀況評估和家族歷史搜集。並且，應根據醫療和環境風險因素來搜集數據。</p>
		<p>可從以下連結找到孿生研究的更多訊息：</p>
		<p><span>
		<a target="_top"  href="http://www.mep.ki.se/twinreg/index_en.html">
		http://www.mep.ki.se/twinreg/index_en.html</a> </span></p>
		<p>用一個用<span>Perl</span>和<strong><span style="
">MySQL</span></strong>編寫的<span>web</span>接口來管理項目的後面部分。</p>
		<p>每天晚上所有會談的數據被移入一個<strong><span>MySQL</span></strong>資料庫。</p>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="twin-pool"></a>
			3.7.1.&nbsp;搜尋所有未分發的孿生項</h3></div></div></div>
			<p>下列查詢用來決定誰進入項目的第二部分：</p>
			<pre class="programlisting">SELECT
    CONCAT(p1.id, p1.tvab) + 0 AS tvid,
    CONCAT(p1.christian_name, ' ', p1.surname) AS Name,
    p1.postal_code AS Code,
    p1.city AS City,
    pg.abrev AS Area,
    IF(td.participation = 'Aborted', 'A', ' ') AS A,
    p1.dead AS dead1,
    l.event AS event1,
    td.suspect AS tsuspect1,
    id.suspect AS isuspect1,
    td.severe AS tsevere1,
    id.severe AS isevere1,
    p2.dead AS dead2,
    l2.event AS event2,
    h2.nurse AS nurse2,
    h2.doctor AS doctor2,
    td2.suspect AS tsuspect2,
    id2.suspect AS isuspect2,
    td2.severe AS tsevere2,
    id2.severe AS isevere2,
    l.finish_date
FROM
    twin_project AS tp
    /* For Twin 1 */
    LEFT JOIN twin_data AS td ON tp.id = td.id
              AND tp.tvab = td.tvab
    LEFT JOIN informant_data AS id ON tp.id = id.id
              AND tp.tvab = id.tvab
    LEFT JOIN harmony AS h ON tp.id = h.id
              AND tp.tvab = h.tvab
    LEFT JOIN lentus AS l ON tp.id = l.id
              AND tp.tvab = l.tvab
    /* For Twin 2 */
    LEFT JOIN twin_data AS td2 ON p2.id = td2.id
              AND p2.tvab = td2.tvab
    LEFT JOIN informant_data AS id2 ON p2.id = id2.id
              AND p2.tvab = id2.tvab
    LEFT JOIN harmony AS h2 ON p2.id = h2.id
              AND p2.tvab = h2.tvab
    LEFT JOIN lentus AS l2 ON p2.id = l2.id
              AND p2.tvab = l2.tvab,
    person_data AS p1,
    person_data AS p2,
    postal_groups AS pg
WHERE
    /* p1 gets main twin and p2 gets his/her twin. */
    /* ptvab is a field inverted from tvab */
    p1.id = tp.id AND p1.tvab = tp.tvab AND
    p2.id = p1.id AND p2.ptvab = p1.tvab AND
    /* Just the screening survey */
    tp.survey_no = 5 AND
    /* Skip if partner died before 65 but allow emigration (dead=9) */
    (p2.dead = 0 OR p2.dead = 9 OR
     (p2.dead = 1 AND
      (p2.death_date = 0 OR
       (((TO_DAYS(p2.death_date) - TO_DAYS(p2.birthday)) / 365)
        &gt;= 65))))
    AND
    (
    /* Twin is suspect */
    (td.future_contact = 'Yes' AND td.suspect = 2) OR
    /* Twin is suspect - Informant is Blessed */
    (td.future_contact = 'Yes' AND td.suspect = 1
                               AND id.suspect = 1) OR
    /* No twin - Informant is Blessed */
    (ISNULL(td.suspect) AND id.suspect = 1
                        AND id.future_contact = 'Yes') OR
    /* Twin broken off - Informant is Blessed */
    (td.participation = 'Aborted'
     AND id.suspect = 1 AND id.future_contact = 'Yes') OR
    /* Twin broken off - No inform - Have partner */
    (td.participation = 'Aborted' AND ISNULL(id.suspect)
                                  AND p2.dead = 0))
    AND
    l.event = 'Finished'
    /* Get at area code */
    AND SUBSTRING(p1.postal_code, 1, 2) = pg.code
    /* Not already distributed */
    AND (h.nurse IS NULL OR h.nurse=00 OR h.doctor=00)
    /* Has not refused or been aborted */
    AND NOT (h.status = 'Refused' OR h.status = 'Aborted'
    OR h.status = 'Died' OR h.status = 'Other')
ORDER BY
    tvid;
</pre>
			<p>一些解釋：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>
			<span>CONCAT(p1.id, p1.tvab) + 0 
			AS tvid</span></p>
			<p>我們想要在<span>id</span>和<span>tvab</span>的連接上以數字順序排序。結果加<span>0</span>使得<strong><span style="font-family:
細明體;">MySQL</span></strong>把結果變為一個數字。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>列<span>id</span></p>
			<p>這標識一對孿生。它是所有資料表中的一個鍵。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>列<span>tvab</span><span>
			</span></p>
			<p>這標識孿生中的一個。它的值為<span>1</span>或<span>2</span>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>列<span>ptvab</span></p>
			<p>這是<span><span>tvab</span>的</span>一個逆運算。當<span>tvab</span>是<span>1</span>，它是<span>2</span>，反之亦然。它用來保存輸入並且使<strong><span>MySQL</span><span>的</span></strong>最佳化查詢更容易。</p>
			<p>這個查詢表明，怎樣用聯結<span>(</span><span>p1</span>和<span>p2</span><span>)</span>從同一個資料表中搜尋資料表。在例子中，這被用來檢查孿生的一個是否在<span>65</span>歲前死了。如果如此，行不返回值。</p>
			<p>上述所有孿生訊息存在於所有資料表中。我們對<span>id,tvab</span>（所有資料表）和<span>id,ptvab</span><span> 
			(</span><span>person_data</span><span>)
			</span>上採用鍵以使查詢更快。</p>
			<p>在我們的生產機器上<span>(</span>一台<span>200MHz 
			UltraSPARC)</span>，這個查詢返回大約<span> 150-200 </span>
			行並且時間不超過一秒。</p>
			<table border="1" cellpadding="0" id="table5">
				<tr>
					<td width="236">
					<p><strong><span>資料表</span></strong></td>
					<td width="153">
					<p><strong><span>行數</span></strong></td>
				</tr>
				<tr>
					<td width="236">
					<p>
					<span>person_data</span></td>
					<td width="153">
					<p><span>71074</span></td>
				</tr>
				<tr>
					<td width="236">
					<p>
					<span>lentus</span></td>
					<td width="153">
					<p><span>5291</span></td>
				</tr>
				<tr>
					<td width="236">
					<p>
					<span>twin_project</span></td>
					<td width="153">
					<p><span>5286</span></td>
				</tr>
				<tr>
					<td width="236">
					<p>
					<span>twin_data</span></td>
					<td width="153">
					<p><span>2012</span></td>
				</tr>
				<tr>
					<td width="236">
					<p>
					<span>informant_data</span></td>
					<td width="153">
					<p><span>663</span></td>
				</tr>
				<tr>
					<td width="236">
					<p>
					<span>harmony</span></td>
					<td width="153">
					<p><span>381</span></td>
				</tr>
				<tr>
					<td width="236">
					<p>
					<span>postal_groups</span></td>
					<td width="153">
					<p><span>100</span></td>
				</tr>
			</table>
		</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="twin-event"></a>
		3.7.2.&nbsp;顯示孿生對狀態的資料表</h3></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
		每一次會面以一個稱為<span>event</span>的狀態碼結束。下面顯示的查詢被用來顯示按事件組合的所有孿生的資料表。這表明多少對孿生已經完成，多少對的其中之一已完成而另一個拒絕了，等等。<pre><span>SELECT</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.event,</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t2.event,</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; COUNT(*)</span></pre>
		<pre><span>FROM</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lentus AS t1,</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lentus AS t2,</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; twin_project AS tp</span></pre>
		<pre><span>WHERE</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* We are looking at one pair at a time */</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.id = tp.id</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND t1.tvab=tp.tvab</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND t1.id = t2.id</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Just the screening survey */</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND tp.survey_no = 5</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* This makes each pair only appear once */</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND t1.tvab=&#39;1&#39; AND t2.tvab=&#39;2&#39;</span></pre>
		<pre><span>GROUP BY</span></pre>
		<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.event, t2.event;</span></pre>
		<h2 class="title"><a name="apache"></a>
		3.8.&nbsp;與Apache一起使用MySQL</h2></div></div></div><a class="indexterm" name="id2739926"></a></div></div><div>
	還有一些項目，您可以從<span>MySQL</span>資料庫鑒別用戶，並且您還可以將日誌檔案寫入<span>MySQL</span>資料庫資料表。<p>
	您可以將以下內容放到<span>Apache</span>配置檔案中，更改<span>Apache</span>日誌格式，使<span>MySQL</span>更容易讀取：</p>
	<pre><span>LogFormat \</span></pre>
	<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;\&quot;%h\&quot;,%{%Y%m%d%H%M%S}t,%&gt;s,\&quot;%b\&quot;,\&quot;%{Content-Type}o\&quot;,&nbsp; \</span></pre>
	<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \&quot;%U\&quot;,\&quot;%{Referer}i\&quot;,\&quot;%{User-Agent}i\&quot;&quot;</span></pre>
	<p>要想將該格式的日誌檔案裝載到<span>MySQL</span>，您可以使用以下語句<span>:
	</span></p>
	<pre><span>LOAD DATA INFILE &#39;</span><span><i><span>/local/access_log</span></i></span><span>&#39; INTO TABLE </span><span><i><span>tbl_name</span></i></span></pre>
	<pre><span>FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&quot;&#39; ESCAPED BY &#39;\\&#39;</span></pre>
	<p>所建立的資料表中的列應與寫入日誌檔案的<span>LogFormat</span>行對應。</p>
	<hr><p>
      這是MySQL參考手冊的翻譯版本，關於MySQL參考手冊，<span class="GramE">請訪問</span><a target="_top"  href="http://dev.mysql.com/doc/mysql/en">dev.mysql.com</a>。 
		原始參考手冊為英文版，與英文版參考手冊相比，本翻譯版可能不是最新的。</p></div>
</body></html>
