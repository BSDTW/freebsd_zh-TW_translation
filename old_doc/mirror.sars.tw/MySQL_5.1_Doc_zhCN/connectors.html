<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Chapter 26.   Connectors</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="MySQL 5.1 Reference Manual"><link rel="up" href="index.html" title="MySQL 5.1 Reference Manual"><link rel="prev" href="apis.html" title="Chapter 25. APIs and Libraries"><link rel="next" href="extending-mysql.html" title="Chapter 27. Extending MySQL">
<style>
<!--
 table.MsoNormalTable
	{mso-style-parent:"";
	font-size:10.0pt;
	
	}
span.quote
	{}
span.property
	{}
span.type
	{}
span.guibutton
	{}
-->
</style>
</head><body><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="connectors"></a>
	第26章：連接器</h2></div></div></div><div class="toc"><p><b>
	目錄</b></p><dl><dt><span class="section"><a href="connectors.html#odbc-connector">26.1. MySQL Connector/ODBC</a></span></dt><dd><dl><dt><span class="section"><a href="connectors.html#myodbc-introduction">26.1.1. 
			MyODBC介紹</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-general-information">
			26.1.2. 關於ODBC和MyODBC的一般訊息</a></span></dt><dt><span class="section"><a href="connectors.html#installing-myodbc">
			26.1.3. 如何安裝MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-windows-binary-installation">
			26.1.4. 在Windows平台上從二進製版本安裝MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-binary-installation">
			26.1.5. I在Unix平台上從二進製版本安裝MyODBC </a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-windows-source-installation">
			26.1.6. 在Windows平台上從原始碼版本安裝MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-source">
			26.1.7. 在Unix平台上從原始碼版本安裝MyODBC </a></span></dt><dt><span class="section"><a href="connectors.html#development-source">
			26.1.8. 從BitKeeper開發原始碼樹安裝MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-configuration">
			26.1.9. MyODBC配置</a></span></dt><dt><span class="section"><a href="connectors.html#connection">
			26.1.10. 與MyODBC連接相關的事宜</a></span></dt><dt><span class="section"><a href="connectors.html#msaccess">
			26.1.11. MyODBC和Microsoft Access</a></span></dt><dt><span class="section"><a href="connectors.html#msvba">
			26.1.12. MyODBC和Microsoft VBA及ASP</a></span></dt><dt><span class="section"><a href="connectors.html#tools">
			26.1.13. MyODBC和第三方ODBC工具</a></span></dt><dt><span class="section"><a href="connectors.html#functionality">
			26.1.14. MyODBC通用功能</a></span></dt><dt><span class="section"><a href="connectors.html#basic-myodbc-application-steps">
			26.1.15. 基本的MyODBC應用步驟</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-api-reference">
			26.1.16. MyODBC API引用</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-data-types">
			26.1.17. MyODBC數據類型</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-error-codes">
			26.1.18. MyODBC錯誤代碼</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-with-vb">
			26.1.19. MyODBC與VB：ADO、DAO和RDO</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-with-net">
			26.1.20. MyODBC與Microsoft.NET</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-credits">
			26.1.21. 感謝</a></span></dt></dl></dd><dt><span class="section"><a href="connectors.html#connector-net">26.2. MySQL Connector/NET</a></span></dt><dd><dl><dt><span class="section"><a href="connectors.html#connector-net-introduction">
				26.2.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-installation">
				26.2.2. 下載並安裝MySQL Connector/NET</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-architecture">
				26.2.3. Connector/NET體系結構</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using">
				26.2.4. 使用MySQL Connector/NET</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news">
				26.2.5. MySQL Connector/NET變更史</a></span></dt></dl></dd><dt><span class="section"><a href="connectors.html#java-connector">26.3. MySQL Connector/J</a></span></dt><dd><dl><dt><span class="section"><a href="connectors.html#cj-basic-jdbc">
				26.3.1. 基本的JDBC概念</a></span></dt><dt><span class="section"><a href="connectors.html#cj-installing">
				26.3.2. 安裝 Connector/J</a></span></dt><dt><span class="section"><a href="connectors.html#cj-jdbc-reference">
				26.3.3. JDBC引用</a></span></dt><dt><span class="section"><a href="connectors.html#cj-j2ee">
				26.3.4. 與J2EE和其他Java框架一起使用 Connector/J</a></span></dt><dt><span class="section"><a href="connectors.html#cj-troubleshooting">
				26.3.5. 診斷 Connector/J方面的問題</a></span></dt><dt><span class="section"><a href="connectors.html#cj-changelog">26.3.6. Changelog</a></span></dt></dl></dd><dt><span class="section"><a href="connectors.html#mxj">26.4. MySQL Connector/MXJ</a></span></dt><dd><dl><dt><span class="section"><a href="connectors.html#mxj-introduction">
				26.4.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-supported">
				26.4.2. 支援平台：</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-test-requirements">
				26.4.3. Junit測試要求</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-testing-">
				26.4.4. 運行Junit測試</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-driver-launched">
				26.4.5. 作為JDBC驅動程式的一部分運行</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-java-object">
				26.4.6. 在Java對像中運行</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-java-api">
				26.4.7. MysqldResource API</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-jmx-agent">
				26.4.8. 在JMX代理(custom)中運行</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-standard-environment">
				26.4.9. 部署在標準的JMX代理環境下 (JBoss)</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-install">
				26.4.10. 安裝</a></span></dt></dl></dd></dl></div><a class="indexterm" name="id3033032"></a><a class="indexterm" name="id3033042"></a><a class="indexterm" name="id3033049"></a><div class="section"><div class="titlepage"><div><div>
		在本章中，介紹了MySQL連接器，所謂連接器，是為客戶端程式提供與MySQL伺服器連接性的驅動程式。<h2 class="title"><a name="odbc-connector"></a>26.1. MySQL Connector/ODBC</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#myodbc-introduction">26.1.1. 
		MyODBC介紹</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-general-information">
		26.1.2. 關於ODBC和MyODBC的一般訊息</a></span></dt><dt><span class="section"><a href="connectors.html#installing-myodbc">
		26.1.3. 如何安裝MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-windows-binary-installation">
		26.1.4. 在Windows平台上從二進製版本安裝MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-binary-installation">
		26.1.5. I在Unix平台上從二進製版本安裝MyODBC </a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-windows-source-installation">
		26.1.6. 在Windows平台上從原始碼版本安裝MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-source">
		26.1.7. 在Unix平台上從原始碼版本安裝MyODBC </a></span></dt><dt><span class="section"><a href="connectors.html#development-source">
		26.1.8. 從BitKeeper開發原始碼樹安裝MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-configuration">
		26.1.9. MyODBC配置</a></span></dt><dt><span class="section"><a href="connectors.html#connection">
		26.1.10. 與MyODBC連接相關的事宜</a></span></dt><dt><span class="section"><a href="connectors.html#msaccess">
		26.1.11. MyODBC和Microsoft Access</a></span></dt><dt><span class="section"><a href="connectors.html#msvba">
		26.1.12. MyODBC和Microsoft VBA及ASP</a></span></dt><dt><span class="section"><a href="connectors.html#tools">
		26.1.13. MyODBC和第三方ODBC工具</a></span></dt><dt><span class="section"><a href="connectors.html#functionality">
		26.1.14. MyODBC通用功能</a></span></dt><dt><span class="section"><a href="connectors.html#basic-myodbc-application-steps">
		26.1.15. 基本的MyODBC應用步驟</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-api-reference">
		26.1.16. MyODBC API引用</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-data-types">
		26.1.17. MyODBC數據類型</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-error-codes">
		26.1.18. MyODBC錯誤代碼</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-with-vb">
		26.1.19. MyODBC與VB：ADO、DAO和RDO</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-with-net">
		26.1.20. MyODBC與Microsoft.NET</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-credits">
		26.1.21. 感謝</a></span></dt></dl></div><a class="indexterm" name="id3033072"></a><a class="indexterm" name="id3033079"></a><a class="indexterm" name="id3033085"></a><a class="indexterm" name="id3033092"></a><div class="section"><div class="titlepage"><div><div>
			通過MySQL Connector/ODBC（MyODBC驅動程式系列），MySQL為ODBC提供了支援。這是針對MyODBC驅動程式中Connector/ODBC產品系列的參考，它提供了對MySQL資料庫系統的ODBC 
			3.5x兼容訪問。介紹了安裝MyODBC和使用MyODBC的方式。此外，在本章中還介紹了能夠與MyODBC一起工作的公用程式訊息，並回答了一些關於MyODBC的常見問題。<p>
			本參考適用於MyODBC 3.51。對於相應的版本，您可以找到舊的二進製版或原始碼版MyODBC手冊。</p>
			<p>這是關於MySQL ODBC驅動程式的參考手冊，而不是通用ODBC參考。關於ODBC的更多訊息，請參閱<a target="_top"  href="http://www.microsoft.com/data/">http://www.microsoft.com/data/</a>。</p>
			<p>
			對於本參考的應用程式開發部分，假定用戶在C語言方面有著良好的實踐知識，對DBMS有一般瞭解，最後，還應熟悉MySQL。關於MySQL功能及其語法的更多訊息，請參閱<a target="_top"  href="http://dev.mysql.com/doc/">http://dev.mysql.com/doc/</a>。</p>
			<p>如果您的問題未能在本文檔中得到解答，請發送電子郵件至<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>。</span></p>
			<h3 class="title"><a name="myodbc-introduction"></a>26.1.1. MyODBC介紹</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#odbc">
				26.1.1.1. 什麼是ODBC？</a></span></dt><dt><span class="section"><a href="connectors.html#connector-odbc">
				26.1.1.2. 什麼是Connector/ODBC？</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-2-50">
				26.1.1.3. 什麼是MyODBC 2.50？</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-3-51">
				26.1.1.4. 什麼是MyODBC 2.50？</a></span></dt><dt><span class="section"><a href="connectors.html#where-to-get-myodbc">
				26.1.1.5. 從哪獲取MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-supported-platforms">
				26.1.1.6. 支援的平台</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-mailing-list">26.1.1.7. 
				MyODBC郵件列資料表</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-forum">26.1.1.8. 
				MyODBC論壇</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-bug-report">
			26.1.1.9. 如何通報MyODBC問題或問題</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-patch-submission">
				26.1.1.10. 如何提交MyODBC補丁</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="odbc"></a>
				26.1.1.1.&nbsp;什麼是ODBC？</h4></div></div></div>
				<div class="titlepage">
					<div>
						<div>
							ODBC（開放式資料庫連接性）為客戶端程式提供了訪問眾多資料庫或數據源的一種方式。ODBC是標準化的API，允許與SQL資料庫伺服器進行連接。它是根據SQL 
							Access 
							Group的規範開發的，它定義了一套函數使用、錯誤代碼和數據類型，可將其用於開發獨立於資料庫的應用程式。通常情況下，當需要資料庫獨立或需要同時訪問不同的數據源時，將用到ODBC。<p>
							關於ODBC的更多訊息，請參閱<a target="_top"  href="http://www.microsoft.com/data/">http://www.microsoft.com/data/</a>。</p>
							<h4 class="title"><a name="connector-odbc"></a>26.1.1.2.&nbsp;什麼是Connector/ODBC？</h4>
						</div></div></div></div><div class="section"><div class="titlepage"><div><div>
				Connector/ODBC是描述MySQL ODBC驅動程式MySQL AB產品系列的名稱。它們也稱為MyODBC驅動程式。<h4 class="title"><a name="myodbc-2-50"></a>
				26.1.1.3.&nbsp;什麼是MyODBC 2.50？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				MyODBC 2.50是MySQL AB的32位ODBC驅動程式，它基於ODBC 
				2.50規範層次0（具有層次1和層次2的特性）。這是開放原始碼市場最流行的ODBC驅動程式之一，很多用戶都使用它來訪問MySQL提供的功能。<h4 class="title"><a name="myodbc-3-51"></a>
				26.1.1.4.&nbsp;什麼是MyODBC 2.50？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				MyODBC 3.51是一種32位ODBC驅動程式，也稱為MySQL ODBC 3.51驅動程式。與已有的MyODBC 
				2.50驅動程式相比，該版本有所增強。它支援ODBC 3.5x規範層次1（全部核心API 
				+層次2特性），以便能夠為訪問MySQL提供所有的ODBC功能。<h4 class="title"><a name="where-to-get-myodbc"></a>
				26.1.1.5.&nbsp;從哪獲取MyODBC</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				MySQL AB依GPL（通用公共授權）發佈其所有產品。您可以從MySQL AB的網站獲取最新的MyODBC二進製版和原始碼版：<a target="_top"  href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a>。<p>
				關於MyODBC的更多訊息，請訪問<a target="_top"  href="http://www.mysql.com/products/myodbc/">http://www.mysql.com/products/myodbc/</a>。</p>
				<p>關於授權的更多訊息，請訪問<a target="_top"  href="http://www.mysql.com/company/legal/licensing/">http://www.mysql.com/company/legal/licensing/</a>。</p>
				<h4 class="title"><a name="myodbc-supported-platforms"></a>
				26.1.1.6.&nbsp;支援的平台</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				MyODBC可用於MySQL支援的所有主要平台，如： 
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>Windows 95, 98, Me, NT, 2000, XP和2003 </p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>所有Unix作業系統</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>AIX </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Amiga </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>BSDI </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>DEC </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>FreeBSD </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>HP-UX 10, 11 </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Linux </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Mac OS X Server </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Mac OS X </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>NetBSD </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>OpenBSD </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>OS/2 </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>SGI Irix </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Solaris </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>SunOS </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>SCO OpenServer </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>SCO UnixWare </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Tru64 Unix </span></p>
				<p>
				對於特定平台，如果無法下載二進製版本，可通過下載驅動程式原始碼自行建立驅動程式。您也可以為MySQL貢獻二進制代碼，方式是發送郵件至<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>，這樣其他用戶就能使用您貢獻的內容。</span></p>
				<h4 class="title"><a name="myodbc-mailing-list"></a>26.1.1.7.&nbsp;MyODBC郵件列資料表</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				MySQL AB通過其郵件列資料表為用戶社區提供幫助。對於與MyODBC有關的事宜，可使用<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>郵件列資料表，從有經驗的用戶處獲得幫助。</span><p>
				關於訂閱MySQL郵件列資料表或瀏覽列資料表檔案的更多訊息，請訪問<a target="_top"  href="http://lists.mysql.com/">http://lists.mysql.com/</a>。</p>
				<p>其中，關注程度最高的是論壇MySQL連接器部分的ODBC論壇。</p>
				<h4 class="title"><a name="myodbc-forum"></a>26.1.1.8.&nbsp;MyODBC論壇</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				通過MySQL論壇（位於<a target="_top"  href="http://forums.mysql.com">http://forums.mysql.com</a>），可獲得有經驗用戶的支援和幫助。<h4 class="title"><a name="myodbc-bug-report"></a>
				26.1.1.9.&nbsp;如何通報MyODBC問題或問題</h4></div></div></div><a class="indexterm" name="id3033547"></a><a class="indexterm" name="id3033557"></a><a class="indexterm" name="id3033568"></a><a class="indexterm" name="id3033578"></a><a class="indexterm" name="id3033588"></a>
				<p>如果遇到與MyODBC有關的困難或問題，首先應使用<span>ODBC管理器和</span>MyODBC生成一份日誌檔案<span>（請求來自ODBC 
				ADMIN的日誌時獲得的日誌檔案）。</span>關於完成該步驟的方式，請參見<a href="connectors.html#myodbc-trace" title="26.1.9.7. Getting an ODBC Trace File">26.1.9.7節，「獲取ODBC跟蹤檔案」</a>。</p>
				<p>檢查MyODBC跟蹤檔案，找出可能出錯的地方。通過在<span>myodbc.log檔案中搜索字串<span >「</span>&gt;mysql_real_query<span >」</span>，可確定已執行的語句。</span></p>
				<p>此外，您還應嘗試從<strong><span>mysql</span></strong>客戶端程式或<span>admndemo執行語句</span>。這樣，就能幫助您確定錯誤的出處，MyODBC或MySQL。</p>
				<p>如果您發現了不正確的事項，請將相關行（最多40行）發送給MyODBC郵件列資料表。請參見<a href="introduction.html#mailing-list" title="1.7.1.1. The MySQL Mailing Lists">1.7.1.1節，「MySQL郵件列資料表」</a>。請勿發送整個MyODBC或ODBC日誌檔案！<span> </span>
				</p>
				<p>如果您無法找出錯誤之所在，最後的選擇是，以tar或zip格式建立包含MyODBC跟蹤檔案、ODBC日誌檔案和README檔案（闡明問題）的檔案。您可以將該檔案檔案發送至<a target="_top"  href="ftp://ftp.mysql.com/pub/mysql/upload/">ftp://ftp.mysql.com/pub/mysql/upload/</a>。只有位於MySQL 
				AB的我們才能訪問您上傳的檔案，而且我們會十分謹慎地對待這類數據。</p>
				<p>如果您建立了仍出現問題的程式，請將該程式也包含在檔案檔案中。</p>
				<p>如果程式能夠與某些其他SQL伺服器一起工作，檔案中還應包含在這類其他SQL伺服器下工作的ODBC日誌檔案。</p>
				<p>請記住，您提供給我們的訊息越多，我們更正問題的機會就越大。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-patch-submission"></a>
				26.1.1.10.&nbsp;如何提交MyODBC補丁</h4></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			您可以通過電子郵件，就已有代碼或問題發送補丁或提出更好的解決方案：<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>。</span><h3 class="title"><a name="myodbc-general-information"></a>
			26.1.2.&nbsp;關於ODBC和MyODBC的一般訊息</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#introduction-to-odbc">
				26.1.2.1. ODBC介紹</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-architecture">26.1.2.2. 
				MyODBC體系結構</a></span></dt><dt><span class="section"><a href="connectors.html#driver-manager">
				26.1.2.3. ODBC驅動管理器</a></span></dt><dt><span class="section"><a href="connectors.html#types-of-mysql-odbc-drivers">
				26.1.2.4. MySQL ODBC驅動程式的類型</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="introduction-to-odbc"></a>
				26.1.2.1.&nbsp;ODBC介紹</h4></div></div></div>
				<p>開放式資料庫連接性（ODBC）是廣泛接受的用於資料庫訪問的應用程式編程接口（API）。它基於針對資料庫API的CLI（使用層接口）規範（來自X/Open和ISO/IEC），並採用了結構化查詢語言（SQL）作為其資料庫訪問語言。</p>
				<p>在<a href="connectors.html#myodbc-api-reference" title="26.1.16. MyODBC API Reference">26.1.16節，「MyODBC API引用」</a>中，概要介紹了MyODBC支援的ODBC功能。關於ODBC的更多訊息，請參閱<a target="_top"  href="http://www.microsoft.com/data/">http://www.microsoft.com/data/</a>。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-architecture"></a>26.1.2.2. MyODBC體系結構</h4></div></div></div><div class="mediaobject">
				MyODBC體系結構建立在5個組件上，如下圖所示： 
				<p><img src="images/myarchitecture.png" alt="MyODBC Architecture"></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><b>應用程式：</b><span> </span></p>
				<p>應用程式指的是通過使用ODBC 
				API來訪問MySQL伺服器上數據的程式。應用程式使用標準的ODBC使用與驅動管理器進行通信。應用程式不關心數據的儲存位置，儲存方式，甚至不關心為訪問數據而進行的系統配置方式。它僅需要知道數據源名（DSN）。</p>
				<p>對於所有的應用程式，無論它們使用OBDC的方式是什麼，很多任務是共同的。這些任務包括：<span>
				</span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>選擇MySQL伺服器，並與之連接。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>提交將要執行的SQL語句。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>檢索結果（如果有的話）。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>處理錯誤。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>提交或回滾包含SQL語句的事務。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>中斷與MySQL伺服器的連接。</p>
				<p>由於大多數數據訪問工作是使用SQL完成，對於使用OBDC的應用程式來說，其主要任務是提交SQL語句，並檢索由這些語句生成的結果。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><b>驅動管理器：</b><span> </span></p>
				<p>
				驅動管理器是用於管理應用程式和驅動程式間通信的庫。它負責執行下述任務：<span> </span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>解析數據源名（DSN）。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>加載和卸載驅動程式。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>處理ODBC使用，或將其傳遞給驅動程式。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><strong><span>MyODBC驅動程式：</span></strong>
				</p>
				<p>MyODBC驅動程式是用於實施ODBC 
				API所提供功能的庫。它負責處理ODBC函數使用，將SQL請求提交給MySQL伺服器，並將結果返回給應用程式。如有必要，驅動程式會更改應用程式的請求，以便該請求符合MySQL支援的語法。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><strong><span>ODBC.INI：</span></strong><span>
				</span></p>
				<p><span>
				ODBC.INI</span>是ODBC配置檔案，其中保存了連接到伺服器所需的驅動訊息和資料庫訊息。驅動管理器將使用它來確定加載哪個驅動程式（使用數據源名）。驅動程式將根據指定的DSN使用它來讀取連接參數。更多訊息，請參見<a href="connectors.html#myodbc-configuration" title="26.1.9. MyODBC Configuration">26.1.9節，「MyODBC配置」</a>。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><strong><span>MySQL伺服器：</span></strong><span>
				</span></p>
				<p>MySQL伺服器是數據源。MySQL是：<span>
				</span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>一種資料庫管理系統（DBMS）</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>一種關聯資料庫管理系統（RDBMS）</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>開放原始碼軟件</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="driver-manager"></a>
				26.1.2.3.&nbsp;ODBC驅動管理器</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				ODBC驅動管理器是用於管理ODBC應用程式和驅動程式間通信的庫。其主要功能包括： 
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>解析數據源名（DSN）。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>加載和卸載驅動程式。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>處理ODBC函數使用，或將其傳遞給驅動程式。</p>
				<p>下面給出了一些常用的驅動程式： </p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>Microsoft Windows ODBC驅動管理器（<span>odbc32.dll</span>），<a target="_top"  href="http://www.microsoft.com/data/">http://www.microsoft.com/data/</a>
				</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>unixODBC Unix驅動管理器（<span>libodbc.so</span>），<a target="_top"  href="http://www.unixodbc.org">http://www.unixodbc.org</a>。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>iODBC ODBC Unix驅動管理器（<span>libiodbc.so</span>），<a target="_top"  href="http://www.iodbc.org">http://www.iodbc.org</a>。</p>
				<p>從2.1.2版開始，UnixODBC也提供MyODBC 3.51。</p>
				<h4 class="title"><a name="types-of-mysql-odbc-drivers"></a>
				26.1.2.4.&nbsp;MySQL ODBC驅動程式的類型</h4></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			MySQL AB支援兩種通過ODBC API訪問MySQL功能的開放原始碼ODBC驅動程式： MyODBC (MyODBC 
			2.50)和MySQL ODBC 3.51驅動(MyODBC 3.51)。<p>註釋： 從本節起，我們將這兩類驅動程式統稱為MyODBC。但當存在差異時，我們將使用它們的本名。</p>
			<h3 class="title"><a name="installing-myodbc"></a>
			26.1.3.&nbsp;如何安裝MyODBC</h3></div></div></div>
			<p>MyODBC能夠工作在Windows 9x, Me, NT, 2000, XP和2003，以及大多數Unix平台上。</p>
			<p>MyODBC是開放原始碼軟件。您可以在網站<a target="_top"  href="http://dev.mysql.com/downloads/connector/odbc/">http://dev.mysql.com/downloads/connector/odbc/</a>上找到它的最新版本。請注意，2.50.x版採用的是LGPL授權，而3.51.x版採用的是GPL授權。</p>
			<p>如果使用MyODBC時出現了問題，而且您的程式還能與OLEDB一起工作，應嘗試使用OLEDB驅動程式。</p>
			<p>正常情況下，在Windows機器上僅需安裝MyODBC。僅當您擁有運行在Unix機器上的程式（如ColdFusion），而且該程式將使用ODBC來訪問資料庫時，才需安裝用於Unix的MyODBC。</p>
			<p>如果您打算在Unix機器上安裝MyODBC，還需要1個ODBC管理器。MyODBC能夠與大多數Unix ODBC管理器一起工作。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>
			要想使用ODBC應用程式（不支援MySQL的應用程式），建立從Windows平台到Unix平台的連接，首先必須在Windows機器上安裝MyODBC。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>
			用戶和Windows機器必須具有訪問位於Unix機器上的MySQL伺服器的權限。這可通過GRANT命令設置。請參見<a href="sql-syntax.html#grant" title="13.5.1.3. GRANT and REVOKE Syntax">13.5.1.3節，「GRANT和REVOKE語法」</a>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>必須建立ODBC DSN條目，方式如下：<span> </span></p>
			<p>
			<span>1.<span>&nbsp;&nbsp;&nbsp;
			</span></span>打開Windows機器上的控制面板。</p>
			<p>
			<span>2.<span>&nbsp;&nbsp;&nbsp;
			</span></span>雙擊<span>ODBC數據源32位圖標。</span></p>
			<p>
			<span>3.<span>&nbsp;&nbsp;&nbsp;
			</span></span>點擊選項卡「用戶DSN」。</p>
			<p>
			<span>4.<span>&nbsp;&nbsp;&nbsp;
			</span></span>點擊「新增」按鈕。</p>
			<p>
			<span>5.<span>&nbsp;&nbsp;&nbsp;
			</span></span>在「建立新數據源」屏幕上選擇MySQL，並點擊「完成」按鈕。</p>
			<p>
			<span>6.<span>&nbsp;&nbsp;&nbsp;
			</span></span>顯示MySQL驅動程式的預設配置屏幕。請參見<a href="connectors.html#dsn-on-windows" title="26.1.9.2. Configuring a MyODBC DSN on Windows">26.1.9.2節，「在Windows上配置MyODBC DSN」</a>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>啟動應用程式，並使用在ODBC管理器中指定的DSN選擇ODBC驅動程式。</p>
			<p>注意，在MySQL屏幕上還顯示了其他選項，如果遇到問題，可嘗試這些選項（如跟蹤、連接時不提示等）。</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-windows-binary-installation"></a>
			26.1.4.&nbsp;在Windows平台上從二進製版本安裝MyODBC</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			要想在Windows平台上安裝MyODBC，應從下述站點下載恰當的分發檔案，<a target="_top"  href="http://dev.mysql.com/downloads/connector/odbc/">http://dev.mysql.com/downloads/connector/odbc/</a>，解壓該檔案，並執行<strong><span>MyODBC-</span></strong><span><b><i>VERSION</i></b></span><strong><span>.exe</span></strong>檔案。<p>
			在Windows平台上，安裝較舊的MyODBC 2.50驅動時，可能會遇到下述錯誤：<span> </span>
			</p>
			<p>拷貝C:\WINDOWS\SYSTEM\MFC30.DLL時出現錯誤。</p>
			<pre><span >&nbsp;</span></pre>
			<pre>重啟Windows，並再次安裝（在運行任何使用ODBC的應用程式之前）。</pre>
			<p>
			問題在於其他程式正使用ODBC。由於Windows的設計方式，在這種情況下，您可能無法使用Microsoft的ODBC設置程式安裝新的ODBC驅動。在大多數情況下，可以通過連續按「忽略」鍵拷貝剩餘的MyODBC檔案，最終安裝應仍能工作。如不然，解決方案是在「安全模式」下重新啟動計算機。在重啟的過程中，在機器啟動Windows前按F8，選擇「安全模式」，安裝MyODBC，然後在正常模式下重新啟動計算機。</p>
			<h3 class="title"><a name="myodbc-unix-binary-installation"></a>
			26.1.5.&nbsp;I在Unix平台上從二進製版本安裝MyODBC </h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#myodbc-unix-rpm-installation">
				26.1.5.1. 從RPM分發版安裝MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-tarball-installation">
				26.1.5.2. 從二進制Tarball分發版安裝MyODBC</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-unix-rpm-installation"></a>
				26.1.5.1.&nbsp;從RPM分發版安裝MyODBC</h4></div></div></div>
				<p>要想使用RPM分發版在Linux平台上安裝或升級MyODBC，可簡單地下載最新MyODBC的RPM分發版，並按照下面介紹的方式操作。使用<strong><span>su 
				root</span></strong>成為根用戶，然後安裝RPM檔案。</p>
				<p>如果是首次安裝：<span> </span></p>
				<pre><span>shell&gt; <span><b>su root</b></span></span></pre>
				<pre><span>shell&gt; <span><b>rpm -ivh MyODBC-3.51.01.i386-1.rpm</b></span></span></pre>
				<p>如果驅動程式已存在，可按照下述方式升級它：<span> </span></p>
				<pre><span>shell&gt; <span><b>su root</b></span></span></pre>
				<pre><span>shell&gt; <span><b>rpm -Uvh MyODBC-3.51.01.i386-1.rpm</b></span></span></pre>
				<p>如果存在關於MySQL客戶端庫<span>libmysqlclient的任何依存錯誤，可使用<span >「</span>-nodeps<span >」</span></span>選項簡單地忽略它，然後確保MySQL客戶端共享庫位於路徑中或通過<span>LD_LIBRARY_PATH進行了設置。</span></p>
				<p>這樣，就會將驅動程式庫和相關檔案分別安裝到<span>/usr/local/lib</span>和<span>/usr/share/doc/MyODBC</span>目錄下。請轉至<a href="connectors.html#dsn-on-unix" title="26.1.9.3. Configuring a MyODBC DSN on Unix">26.1.9.3節，「在Unix平台上配置MyODBC DSN」</a>。</p>
				<p>要想卸載驅動程式，請首先成為根用戶，然後執行<strong><span>rpm</span></strong>命令：<span>
				</span></p>
				<pre><span>shell&gt; <span><b>su root</b></span></span></pre>
				<pre><span>shell&gt; <span><b>rpm -e MyODBC</b></span></span></pre>
			</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-unix-tarball-installation"></a>
				26.1.5.2.&nbsp;從二進制Tarball分發版安裝MyODBC</h4></div></div></div>
				<p>要想從tarball分發版（<span>.tar.gz檔案）安裝驅動程式，</span>請下載針對您所使用作業系統的最新版驅動程式，然後按照下述步驟操作： 
				</p>
				<pre><span>shell&gt; <span><b>su root</b></span></span></pre>
				<pre><span>shell&gt; <span><b>gunzip MyODBC-3.51.01-i686-pc-linux.tar.gz</b></span></span></pre>
				<pre><span>shell&gt; <span><b>tar xvf MyODBC-3.51.01-i686-pc-linux.tar</b></span></span></pre>
				<pre><span>shell&gt; <span><b>cd MyODBC-3.51.01-i686-pc-linux</b></span></span></pre>
				<p>請閱讀<span>INSTALL-BINARY檔案中的安裝說明，並執行下述命令：</span><span>
				</span></p>
				<pre><span>shell&gt; <span><b>cp libmyodbc* /usr/local/lib</b></span></span></pre>
				<pre><span>shell&gt; <span><b>cp odbc.ini /usr/local/etc</b></span></span></pre>
				<pre><span>shell&gt; <span><b>export ODBCINI=/usr/local/etc/odbc.ini</b></span></span></pre>
				<p>然後，請跳至<a href="connectors.html#dsn-on-unix" title="26.1.9.3. Configuring a MyODBC DSN on Unix">26.1.9.3節，「在Unix平台上配置MyODBC DSN」</a>為MyODBC配置DSN。更多訊息，請參見與發佈版一起提供的<span>INSTALL-BINARY</span>檔案。</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-windows-source-installation"></a>
			26.1.6.&nbsp;在Windows平台上從原始碼版本安裝MyODBC</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#myodbc-windows-source-requirements">
				26.1.6.1. 要求</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-3-51-windows-building">
				26.1.6.2. 構建MyODBC 3.51</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-3-51-windows-testing">
				26.1.6.3. 測試</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-2-50-windows-building">
				26.1.6.4. 構建MyODBC 2.50</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-windows-source-requirements"></a>
				26.1.6.1.&nbsp;要求</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>MDAC, Microsoft Data Access SDK：<a target="_top"  href="http://www.microsoft.com/data/">http://www.microsoft.com/data/</a>。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>MySQL客戶端庫以及MySQL 4.0.0或更高版本的包含檔案。（最好是MySQL 
					4.0.16或更高版本）。應滿足上述要求，這是因為MyODBC需要用到該版本以上的庫才提供的新使用和結構。要想獲得客戶端庫和包含檔案，請訪問<a target="_top"  href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a>。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-3-51-windows-building"></a>
				26.1.6.2.&nbsp;構建MyODBC 3.51</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				MyODBC 3.51原始碼分發版包括使用<strong><span>nmake</span></strong>的<span>Makefiles</span>。在分發版中，您可以找到用於建立發佈版的<span>Makefile，以及用於建立驅動庫和DLL調試版的Makefile_debug</span>。<p>
				要想建立驅動程式，請採取下述步驟：<span> </span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>下載並將原始碼展開到檔案夾，然後將位置切換到該檔案夾。在下述命令中，假定檔案夾為<span>myodbc3-src：</span><span>
				</span></p>
				<pre><span>2.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C:\&gt; <span><b>cd myodbc3-src</b></span></span></pre>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>編輯<span>Makefile，為</span>MySQL客戶端庫和頭檔案指定正確的路徑。然後使用下述命令建立並安裝發佈版。</p>
				<pre><span>4.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C:\&gt; <span><b>nmake -f Makefile</b></span></span></pre>
				<pre><span>5.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C:\&gt; <span><b>nmake -f Makefile install</b></span></span></pre>
				<p><strong>
				<span>nmake -f Makefile</span></strong>用於建立驅動程式的發佈版並將二進制碼放入名為Release的子目錄下。</p>
				<p><strong>
				<span>nmake -f Makefile install</span></strong>用於將驅動程式DLL和庫（<span>myodbc3.dll</span>,
				<span>myodbc3.lib</span>）安裝（拷貝）到系統目錄下。</p>
				<p>
				<span>6.<span>&nbsp;&nbsp;&nbsp;
				</span></span>要想建立調試版，請使用<span>Makefile_Debug而不是Makefile，如下所示：</span><span>
				</span></p>
				<pre><span>7.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C:\&gt; <span><b>nmake -f Makefile_debug</b></span></span></pre>
				<pre><span>8.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C:\&gt; <span><b>nmake -f Makefile_debug install</b></span></span></pre>
				<p>
				<span>9.<span>&nbsp;&nbsp;&nbsp;
				</span></span>使用下述命令，可清除並重新建立驅動程式：<span> </span></p>
				<pre><span>10.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C:\&gt; <span><b>nmake -f Makefile clean</b></span></span></pre>
				<pre><span>11.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C:\&gt; <span><b>nmake -f Makefile install</b></span></span></pre>
				<p>註釋：<span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>確保在Makefiles中指定了正確的MySQL客戶端庫和頭檔案路徑（設置<span>MYSQL_LIB_PATH</span>和<span>MYSQL_INCLUDE_PATH</span>變數）。預設的頭檔案路徑是<span>C:\mysql\include</span>。對於發佈版DLL，預設的庫路徑是<span>C:\mysql\lib\opt，對於調試版，預設路徑是C:\mysql\lib\debug。</span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>關於<strong><span>nmake</span></strong>的完整用法，請參見<a target="_top"  href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dv_vcce4/html/evgrfRunningNMAKE.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dv_vcce4/html/evgrfRunningNMAKE.asp</a>。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果您正在使用BitKeeper樹來進行編譯，所有的針對Windows的<span>Makefiles均將被命名為Win_Makefile*</span>。</p>
				<h4 class="title"><a name="myodbc-3-51-windows-testing"></a>
				26.1.6.3.&nbsp;測試</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				將驅動程式庫拷貝／安裝到系統目錄後，可使用示範子目錄下提供的示範測試這些庫是否已正確建立： 
				<pre><span>C:\&gt; <span><b>cd samples</b></span></span></pre>
				<pre><span>C:\&gt; <span><b>nmake -f Makefile all</b></span></span></pre>
				<h4 class="title"><a name="myodbc-2-50-windows-building"></a>
				26.1.6.4.&nbsp;構建MyODBC 2.50</h4></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			MyODBC 2.50原始碼分發版包含VC工作空間檔案。通過在Microsoft Visual Studio 6.0中加載這些檔案（<span>.dsp</span>和<span>.dsw</span>），可使用它們直接建立驅動程式。<h3 class="title"><a name="myodbc-unix-source"></a>
			26.1.7.&nbsp;在Unix平台上從原始碼版本安裝MyODBC </h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#myodbc-unix-requirements">
				26.1.7.1. 要求</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-configure-options">
			26.1.7.2. 典型配置選項<span><strong class="command"></strong></span></a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-thread-safe">
				26.1.7.3. 線程安全客戶端</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-library-options">
				26.1.7.4. 共享或靜態選項</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-debugging-options">
				26.1.7.5. 啟用調試訊息</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-documentation-options">
				26.1.7.6. 允許文檔功能</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-building">
				26.1.7.7. 建立和編譯</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-shared-libraries">
				26.1.7.8. 建立共享庫</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-installing">
				26.1.7.9. 安裝驅動庫</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-unix-testing">26.1.7.10. 
				在Unix平台上測試MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-mac-os-x">
			26.1.7.11. Mac OS X注意事項</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-hp-ux">
				26.1.7.12. HP-UX注意事項</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-aix">
				26.1.7.13. AIX注意事項</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-unix-requirements"></a>
				26.1.7.1.&nbsp;要求</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>MySQL客戶端庫以及MySQL 4.0.0或更高版本的包含檔案。（最好是MySQL 
				4.0.16或更高版本）。應滿足上述要求，這是因為MyODBC需要用到該版本以上的庫才提供的新使用和結構。要想獲得客戶端庫和包含檔案，請訪問<a target="_top"  href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a>。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>必須使用「<span>--enable-thread-safe-client</span>」選項配置MySQL庫。Libmysqlclient是作為共享庫安裝的。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>必須安裝下述Unix ODBC驅動管理器之一：<span> </span>
				</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>iodbc</span> 
				3.0或更高版本（<a target="_top"  href="http://www.iodbc.org">http://www.iodbc.org</a>）</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>unixodbc</span> 
				Alpha 3或更高版本（<a target="_top"  href="http://www.unixodbc.org">http://www.unixodbc.org</a>）</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果使用了未編譯在MySQL客戶端庫中的字元編碼（預設字元編碼為： latin1 big5 czech 
				euc_kr gb2312 gbk sjis tis620 ujis），就需要從字元編碼目錄下將mysql字元定義安裝到<span><i>SHAREDIR</i></span>中（預設情況下位於<span>/usr/local/mysql/share/mysql/charsets</span>）。如果在相同機器上安裝了MySQL，它們應位於恰當位置。</p>
				<p>一旦完成了所有所需檔案的安裝，將原始碼檔案解包到單獨目錄下，並按照下面給出的說明進行操作。</p>
				<h4 class="title"><a name="myodbc-unix-configure-options"></a>
				26.1.7.2.&nbsp;典型配置選項<span><strong class="command"></strong></span></h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				使用<strong><span>configure</span></strong>指令，能夠對您所建立MyODBC的配置方式進行多種控制。典型情況下，可在「<strong><span>configure</span></strong>」命令行使用選項完成該配置操作。也可以使用環境變數來影響配置。要想瞭解「<strong><span>configure</span></strong>」命令支援的選項列資料表和環境變數，可運行下述命令： 
				<pre><span>shell&gt; <span><b>./configure --help</b></span></span></pre>
				<p>下面介紹了一些常用的「<strong><span>configure</span></strong>」選項。</p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>要想編譯MyODBC，須使用「<span>--with-mysql-path=<i>DIR</i></span>」選項來提供MySQL客戶端庫檔案和包含檔案路徑，其中，「<span><i>DIR</i></span>」是MySQL的安裝目錄。</p>
				<p>可通過運行「<span><i>DIR</i>/bin/mysql_config</span>」來確定MySQL編譯選項。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>為ODBC驅動管理器（<span>iodbc</span>或<span>unixobc</span>）提供標準的頭檔案和庫檔案路徑。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果您正在使用<span>iodbc</span>，而且<span>iodbc未安裝在其預設位置</span>（<span>/usr/local），可能需要使用</span>「<span>--with-iodbc=<i>DIR</i></span>」選項，其中，「<span><i>DIR</i></span>」是iodbc的安裝目錄。</p>
				<p>如果iodbc頭檔案未位於<span><i>DIR</i>/include目錄下，可使用<span >「</span>--with-iodbc-includes=<i>INCDIR</i><span >」</span>選項指定它們的位置。</span></p>
				<p>上面所述也適用於庫檔案。如果庫檔案未位於<span><i>DIR</i>/lib</span>目錄下，可使用「<span>--with-iodbc-libs=<i>LIBDIR</i></span>」選項。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果您正在使用<span>unixODBC，可使用</span>「<span>--with-unixODBC=<i>DIR</i></span>」選項（區分大小寫），讓<strong><span>configure</span></strong>尋找<span>unixODBC而不是預設的iodbc</span>，其中，「<span><i>DIR</i></span>」是unixODBC的安裝目錄。</p>
				<p>如果unixODBC頭檔案和庫檔案未位於目錄<span><i>DIR</i>/include</span>和<span><i>DIR</i>/lib下，可使用</span>「<span>--with-unixODBC-includes=<i>INCDIR</i></span>」和「<span>--with-unixODBC-libs=<i>LIBDIR</i></span>」選項。</p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>或許您也希望指定不同於「<span>/usr/local</span>」的安裝前綴。例如，要想將MyODBC驅動安裝到「<span>/usr/local/odbc/lib</span>」目錄下，可使用「<span>--prefix=/usr/local/odbc</span>」選項。</p>
				<p>最終的配置命令應與下面給出的相似：<span> </span></p>
				<pre><span>shell&gt; <span><b>./configure --prefix=/usr/local \</b></span></span></pre>
				<pre><a name="OLE_LINK1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</span></a><span><b><span>--with-iodbc=/usr/local \</span></b></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span><b>--with-mysql-path=/usr/local/mysql</b></span></span></pre>
				<h4 class="title"><a name="myodbc-unix-thread-safe"></a>
				26.1.7.3.&nbsp;線程安全客戶端</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				為了將驅動程式與MySQL線程安全客戶端庫<span>libmysqlclient_r.so</span>或<span>libmysqlclient_r.a連結起來，必須指定下述</span><strong><span>configure</span></strong>選項： 
				<pre><span>--enable-thread-safe</span></pre>
				<p>也可以使用下述選項禁止它：</p>
				<pre><span>--disable-thread-safe</span></pre>
				<p>使用該選項，能夠通過mysql線程安全客戶端庫<span>libmysqlclient_r.so（延伸名與作業系統有關）的連結，建立驅動程式線程安全庫libmyodbc3_r.so。</span></p>
				<p>在配置線程安全選項時，如果出現了配置錯誤，應檢查<span>config.log，檢查錯誤是否是因系統中缺少線程庫而導致的，如果是，使用LIBS選項提供一個，即</span></p>
				<pre><span>LIBS=&quot;-lpthread&quot; ./configure ..</span></pre>
				<h4 class="title"><a name="myodbc-unix-library-options"></a>
				26.1.7.4.&nbsp;共享或靜態選項</h4></div></div></div>
				<p>可以使用下述選項啟用或禁止共享和靜態選項： </p>
				<pre class="programlisting">--enable-shared[=yes/no]
--disable-shared
--enable-static[=yes/no]
--disable-static
</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-unix-debugging-options"></a>
				26.1.7.5.&nbsp;啟用調試訊息</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				預設情況下，所有的二進制分發版均會被建立為非調試版（採用「<span>--without-debug</span>」進行配置）。<p>
				要想啟用調試訊息，請使用原始碼分發版建立驅動程式，並在運行「<strong><span>configure</span></strong>」時使用「<span>--with-debug<span >」</span>選項</span>。</p>
				<h4 class="title"><a name="myodbc-unix-documentation-options"></a>
				26.1.7.6.&nbsp;允許文檔功能</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				該選項僅能用於BK克隆樹，而不是一般的原始碼分發版。<p>預設情況下，驅動程式是使用「<span>--without-docs<span >」</span>建立的。如果</span>希望在正常建立過程中觀察文檔訊息，可使用下述選項進行配置：<span>
				</span></p>
				<pre><span>--with-docs</span></pre>
				<h4 class="title"><a name="myodbc-unix-building"></a>
				26.1.7.7.&nbsp;建立和編譯</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				要想建立驅動程式庫，僅需執行「<strong><span>make</span></strong>」，該命令能完成所有事項。<pre><span>shell&gt; <span><b>make</b></span></span></pre>
				<p>如果出現錯誤，更正後，繼續執行建立程序。如果無法建立，請發送詳細的電子郵件至<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>，以獲取進一步幫助。</span></p>
				<h4 class="title"><a name="myodbc-unix-shared-libraries"></a>
				26.1.7.8.&nbsp;建立共享庫</h4></div></div></div>
				<p>在大多數平台上，預設情況下，MySQL不會建立或支援「<span>.so<span >」</span>（共享）客戶端庫，這是因為，建立共享庫在過去造成過很多問題。</span></p>
				<p>在這種情況下，您可以下載MySQL分發版，並使用以下選項進行配置：<span> </span></p>
				<pre><span>--without-server --enable-shared</span></pre>
				<p>要想建立共享驅動程式庫，必須為「<strong><span>configure</span></strong>」指定「<span>--enable-shared<span >」</span>選項。</span>預設情況下，「<strong><span>configure</span></strong>」不啟用該選項。</p>
				<p>如果使用「<span>--disable-shared</span>」選項進行了配置操作，可使用下述命令，從靜態庫建立「<span>.so</span>」檔案。</p>
				<pre class="programlisting">shell&gt; <strong class="userinput">cd MyODBC-3.51.01</strong>
shell&gt; <strong class="userinput">make</strong>
shell&gt; <strong class="userinput">cd driver</strong>
shell&gt; <strong class="userinput">CC=/usr/bin/gcc \</strong>
     <strong class="userinput">$CC -bundle -flat_namespace -undefined error \</strong>
         <strong class="userinput">-o .libs/libmyodbc3-3.51.01.so \</strong>
         <strong class="userinput">catalog.o connect.o cursor.o dll.o error.o execute.o \</strong>
         <strong class="userinput">handle.o info.o misc.o myodbc3.o options.o prepare.o \</strong>
         <strong class="userinput">results.o transact.o utility.o \</strong>
         <strong class="userinput">-L/usr/local/mysql/lib/mysql/ \</strong>
         <strong class="userinput">-L/usr/local/iodbc/lib/ \</strong>
         <strong class="userinput">-lz -lc -lmysqlclient -liodbcinst</strong>
</pre>
				<p>如果您正在使用unixODBC而不是iODBC，務必將「<span>-liodbcinst<span >」</span>更改為</span>「<span>-lodbcinst<span >」</span>，並相應地配置庫路徑。</span></p>
				<p>這樣，就建立了<span>libmyodbc3-3.51.01.so檔案，並將其放在<span >「</span>.libs<span >」</span>目錄下。</span>將該檔案拷貝到MyODBC庫目錄下（<span>/usr/local/lib，或使用<span >「</span>--prefix<span >」</span>提供的安裝目錄下的<span >「</span>lib<span >」</span>目錄）。</span></p>
				<pre><span>shell&gt; <span><b>cd .libs</b></span></span></pre>
				<pre><span>shell&gt; <span><b>cp libmyodbc3-3.51.01.so /usr/local/lib</b></span></span></pre>
				<pre><span>shell&gt; <span><b>cd /usr/local/lib</b></span></span></pre>
				<pre><span>shell&gt; <span><b>ln -s libmyodbc3-3.51.01.so libmyodbc3.so</b></span></span></pre>
				<p>要想建立線程安全驅動程式庫：<span> </span></p>
				<pre class="programlisting">shell&gt; <strong class="userinput">CC=/usr/bin/gcc \</strong>
     <strong class="userinput">$CC -bundle -flat_namespace -undefined error</strong>
      -o .libs/libmyodbc3_r-3.51.01.so
      catalog.o connect.o cursor.o dll.o error.o execute.o
      handle.o info.o misc.o myodbc3.o options.o prepare.o
      results.o transact.o utility.o
      -L/usr/local/mysql/lib/mysql/
      -L/usr/local/iodbc/lib/
      -lz -lc -lmysqlclient_r -liodbcinst
</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-unix-installing"></a>
				26.1.7.9.&nbsp;安裝驅動庫</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				要想安裝驅動程式庫，請執行下述命令： 
				<pre><span>shell&gt; <span><b>make install</b></span></span></pre>
				<p>該命令將安裝下述庫集合之一：<span> </span></p>
				<p>對於MyODBC 3.51：<span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				libmyodbc3.so</span><span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				libmyodbc3-3.51.01.so</span>，其中，3.51.01是驅動程式的版本</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				libmyodbc3.a</span><span> </span></p>
				<p>對於線程安全MyODBC 3.51：<span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				libmyodbc3_r.so</span><span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				libmyodbc3-3_r.51.01.so</span><span> </span>
				</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				libmyodbc3_r.a</span><span> </span></p>
				<p>對於MyODBC 2.5.0：<span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				libmyodbc.so</span><span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>libmyodbc-2.50.39.so</span>，其中，2.50.39是驅動程式的版本</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				libmyodbc.a</span><span> </span></p>
				<p>關於建立程序的更多訊息，請參閱與原始碼分發版一起提供的<span>INSTALL檔案。</span>注意，如果您試圖使用Sun的「make」，可能會以錯誤結束。從另一方面來說，GNU
				<strong><span>gmake</span></strong>在所有平台上均能良好工作。</p>
				<h4 class="title"><a name="myodbc-unix-testing"></a>26.1.7.10. 在Unix平台上測試MyODBC</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				要想與您建立的庫一起運行分發版中提供的示範，可執行： 
				<pre><span>shell&gt; <span><b>make test</b></span></span></pre>
				<p>首先，務必在<span>odbc.ini中配置</span>DSN 
				&#39;myodbc3&#39;，並將環境變數<span>ODBCINI指向正確的odbc.ini檔案；同時</span>MySQL伺服器應處於運行狀態。在驅動分發版中，可找到一個示範用<span>odbc.ini檔案。</span></p>
				<p>您甚至可以更改示範/運行示範指令，以命令行參數的形式將所需的DSN、UID和PASSWORD值傳遞給示範。</p>
				<h4 class="title"><a name="myodbc-mac-os-x"></a>
				26.1.7.11.&nbsp;Mac OS X注意事項</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				要想在Mac OS X (Darwin)環境下建立驅動程式，可使用下述<strong><span>configure</span></strong>示範： 
				<pre><span>shell&gt; <span><b>./configure --prefix=/usr/local</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-unixODBC=/usr/local</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-mysql-path=/usr/local/mysql</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --disable-shared</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --enable-gui=no</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --host=powerpc-apple</span></pre>
				<p>該命令假定unixODBC和MySQL均安裝在預設位置。如不然，請進行相應配置。</p>
				<p>在 Mac OS X環境下，「<span>--enable-shared<span >」</span>選項將預設建立</span>「<span>.dylib<span >」</span>檔案。</span>您也可以採用下述方式建立「<span>.so</span>」檔案：<span>
				</span></p>
				<pre><span>shell&gt; <span><b>make</b></span></span></pre>
				<pre><span>shell&gt; <span><b>cd driver</b></span></span></pre>
				<pre><span>shell&gt; <span><b>CC=/usr/bin/gcc \</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; <span><b>$CC -bundle -flat_namespace -undefined error</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -o .libs/libmyodbc3-3.51.01.so *.o</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -L/usr/local/mysql/lib/</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -L/usr/local/iodbc/lib</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -liodbcinst -lmysqlclient -lz -lc</span></pre>
				<p>要想建立線程安全驅動程式庫：<span> </span></p>
				<pre><span>shell&gt; <span><b>CC=/usr/bin/gcc \</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; <span><b>$CC -bundle -flat_namespace -undefined error</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; -o .libs/libmyodbc3-3.51.01.so *.o</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; -L/usr/local/mysql/lib/</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; -L/usr/local/iodbc/lib</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; -liodbcinst -lmysqlclienti_r -lz -lc -lpthread</span></pre>
				<p>如果您正在使用unixODBC而不是iODBC，務必將「<span>-liodbcinst<span >」</span>更改為</span>「<span>-lodbcinst<span >」</span>，並相應地配置庫路徑。</span></p>
				<p>在Apple的GCC版本中，<strong><span>cc</span></strong>和<strong><span>gcc</span></strong>實際上均是<strong><span>gcc3</span></strong>的符號連結。</p>
				<p>將該庫拷貝到<span>$prefix/lib目錄下，並將</span>symlink拷貝到<span>libmyodbc3.so</span>。</p>
				<p>可以使用下述命令交叉檢驗輸出的共享庫屬性：<span> </span></p>
				<pre><span>shell&gt; <span><b>otool -LD .libs/libmyodbc3-3.51.01.so</b></span></span></pre>
				<h4 class="title"><a name="myodbc-hp-ux"></a>
				26.1.7.12.&nbsp;HP-UX注意事項</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				要想在HP-UX 10.x或11.x環境下建立驅動程式，可使用下述<strong><span>configure</span></strong>示範： 
				<p>如果使用<strong><span>cc</span></strong>：<span>
				</span></p>
				<pre><span>shell&gt; <span><b>CC=&quot;cc&quot; \</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; <span><b>CFLAGS=&quot;+z&quot; \</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; <span><b>LDFLAGS=&quot;-Wl,+b:-Wl,+s&quot; \</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; <span><b>./configure --prefix=/usr/local</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-unixodbc=/usr/local</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-mysql-path=/usr/local/mysql/lib/mysql</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --enable-shared</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --enable-thread-safe</span></pre>
				<p>如果使用<b>g<strong><span>cc</span></strong></b>：<span>
				</span></p>
				<pre><span>shell&gt; <span><b>CC=&quot;gcc&quot; \</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; <span><b>LDFLAGS=&quot;-Wl,+b:-Wl,+s&quot; \</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; <span><b>./configure --prefix=/usr/local</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-unixodbc=/usr/local</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-mysql-path=/usr/local/mysql</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --enable-shared</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --enable-thread-safe</span></pre>
				<p>一旦建立了驅動程式，使用「<strong><span>chatr .libs/libmyodbc3.sl</span></strong>」交叉檢查其屬性，查看是否需要使用<span>SHLIB_PATH環境變數的MySQL客戶端庫。</span>對於靜態版，忽略所有的共享庫選項，並使用「<span>--disable-shared</span>」選項運行「<strong><span>configure</span></strong>」。</p>
				<h4 class="title"><a name="myodbc-aix"></a>26.1.7.13.&nbsp;AIX注意事項</h4></div></div></div>
				<p>要想在AIX環境下建立驅動程式，可使用下述<strong><span>configure</span></strong>示範： 
				</p>
				<pre><span>shell&gt; <span><b>./configure --prefix=/usr/local</b></span></span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-unixodbc=/usr/local</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-mysql-path=/usr/local/mysql</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --disable-shared</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --enable-thread-safe</span></pre>
				<span>
				<b>註釋：</b> 關於在不同平台上建立和設置靜態和共享庫方式的更多訊息，請參見</span><a href="http://www.fortran-2000.com/ArnaudRecipes/sharedlib.html" target="_top">跨平台使用靜態和共享庫</a>。</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="development-source"></a>
			26.1.8.&nbsp;從BitKeeper開發原始碼樹安裝MyODBC</h3></div></div></div>
			<p>註釋： 如果您對協助我們測試新的代碼感興趣，應閱讀本節的內容。</p>
			<p>要想獲得我方的最新開發原始碼樹，請：<span> </span></p>
			<p>
			<span>1.<span>&nbsp;&nbsp;&nbsp;
			</span></span>參見<a href="installing.html#installing-source-tree" title="2.8.3. Installing from the Development Source Tree">2.8.3節，「從開發原始碼樹安裝」</a>，關於如何下載和安裝BitKeeper的說明。</p>
			<p>
			<span>2.<span>&nbsp;&nbsp;&nbsp;
			</span></span>安裝完BitKeeper後，首先進入打算在其中工作的目錄，然後，如果打算克隆MyODBC 
			3.51分支，請使用該命令：<span> </span></p>
			<pre><span>3.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>shell&gt; <span><b>bk clone bk://mysql.bkbits.net/myodbc3 myodbc-3.51</b></span></span></pre>
			<p>在前面的示範中，原始碼樹是在<span>myodbc-3.51/中設置的，或在當前目錄的myodbc3/子目錄下設置的（預設）。</span>如果您位於防火牆後，而且僅能啟動HTTP連接，也可以通過HTTP使用BitKeeper。如果要求使用代理伺服器，可簡單地設置環境變數<span>http_proxy</span>，使之指向代理伺服器：<span>
			</span></p>
			<pre><span>shell&gt; <span><b>export http_proxy=&quot;http://your.proxy.server:8080/&quot;</b></span></span></pre>
			<p>執行克隆操作時，用<span>http://替換bk://。</span>例如：<span>
			</span></p>
			<pre><span>shell&gt; <span><b>bk clone http://mysql.bkbits.net/myodbc3 myodbc-3.51</b></span></span></pre>
			<p>首次下載原始碼樹時需要一段時間，具體情況取決於連接速度，請耐心等候。</p>
			<p>
			<span>4.<span>&nbsp;&nbsp;&nbsp;
			</span></span>要想運行下一組命令，需要GNU <span>autoconf 
			2.52（或更新版本）</span>，<span>automake 1.4</span>，<span>libtool 
			1.4</span>，以及<span>m4</span>。</p>
			<pre><span>5.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>shell&gt; <span><b>cd myodbc-3.51</b></span></span></pre>
			<pre><span>6.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>shell&gt; <span><b>bk -r edit</b></span></span></pre>
			<pre><span>7.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>shell&gt; <span><b>aclocal; autoheader; autoconf;&nbsp; automake;</b></span></span></pre>
			<pre><span>8.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>shell&gt; <span><b>./configure&nbsp; # Add your favorite options here</b></span></span></pre>
			<pre><span>9.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>shell&gt; <span><b>make</b></span></span></pre>
			<p>關於如何建立的更多訊息，請參閱位於相同目錄下的<span>INSTALL檔案。</span>在Windows平台下，建立驅動程式時，請使用Windows 
			Makefiles <span>WIN-Makefile</span>和<span>WIN-Makefile_debug</span>，更多訊息，請參見<a href="connectors.html#myodbc-windows-source-installation" title="26.1.6. Installing MyODBC from a Source Distribution on Windows">26.1.6節，「在Windows平台上從原始碼版本安裝MyODBC」</a>。</p>
			<p>
			<span>10.</span>完成建立後，運行<strong><span>make 
			install</span></strong>，將MyODBC 3.51驅動程式安裝到您的系統上。</p>
			<p>
			<span>11.</span>如果進入了<strong><span>make</span></strong>階段，但並未編譯分發版本，請將其通報給<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>。</span></p>
			<p>
			<span>12.</span>啟動了<strong><span>bk 
			clone</span></strong>操作獲得原始碼樹後，應定期運行<strong><span>bk 
			pull</span></strong>進行更新。</p>
			<p>
			<span>13.</span>可以使用「<strong><span>bk 
			sccstool</span></strong>」檢查樹的變更史。如果您發現了有趣的差異，並對代碼存在一問，請立刻發送電子郵件至<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>。</span></p>
			<p>
			此外，如果您認為有更好的主意，請發送電子郵件至相同的地址並附上補丁。更改了原始碼後，使用「<strong><span>bk 
			diffs</span></strong>」可生成補丁。如果您沒有時間就您的觀點編寫代碼，可發送描述性訊息。</p>
			<p>
			<span>14.</span>BitKeeper具有一個可通過<strong><span>bk 
			helptool</span></strong>訪問的幫助工具。</p>
			<p>通過瀏覽<a target="_top"  href="http://mysql.bkbits.net:8080/myodbc3">http://mysql.bkbits.net:8080/myodbc3</a>，也能線上瀏覽變化集、註釋和源代碼。</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-configuration"></a>
			26.1.9.&nbsp;MyODBC配置</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#data-source-name">
				26.1.9.1. 什麼是數據源名？</a></span></dt><dt><span class="section"><a href="connectors.html#dsn-on-windows">
				26.1.9.2. 在Windows上配置MyODBC DSN</a></span></dt><dt><span class="section"><a href="connectors.html#dsn-on-unix">
				26.1.9.3. 在Unix平台上配置MyODBC DSN</a></span></dt><dt><span class="section"><a href="connectors.html#connection-parameters">
				26.1.9.4. 連接參數</a></span></dt><dt><span class="section"><a href="connectors.html#without-dsn">
				26.1.9.5. 沒有預定義DSN下的連接</a></span></dt><dt><span class="section"><a href="connectors.html#remote-connection">
				26.1.9.6. 建立從系統A到系統B的遠程連接</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-trace">
				26.1.9.7. 獲取ODBC跟蹤檔案</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-tested-applications">
				26.1.9.8. 用MyODBC測試的應用程式</a></span></dt><dt><span class="section"><a href="connectors.html#programs-known-to-work-with-myodbc">
				26.1.9.9. 已知的能與MyODBC一起工作的程式</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				本節介紹了配置MyODBC的方法，包括DSN建立，以及驅動程式在連接字串中作為輸入參數的不同參數。此外，還介紹了建立ODBC跟蹤檔案的方法。<h4 class="title"><a name="data-source-name"></a>
				26.1.9.1.&nbsp;什麼是數據源名？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				「數據源」是提供數據的地點。數據源必須有穩定的標識符，即數據源名。使用數據源名，MySQL可訪問初始化訊息。通過初始化訊息，MySQL能夠瞭解去哪裡訪問資料庫，以及在開始訪問時使用什麼設置。<p>
				事實上，數據源就是數據的路徑。在不同的情況下，它可能有著不同的內容，但是在典型情況下，它指明了正在運行的MySQL伺服器（例如，通過網絡地址或伺服器名），連接時該伺服器的預設資料庫，以及必要的連接訊息（如端口）。MySQL驅動程式（以及Windows系統上的ODBC驅動管理器）將使用數據源進行連接。對於該目的，名為Microsoft 
				ODBC數據源管理器的管理工具可能十分有用。</p>
				<p>有兩處可能保存初始化訊息的位置： Windows註冊資料表（Windows系統），或DSN檔案（任何系統）。</p>
				<p>
				如果訊息位於Windows註冊資料表中，它稱為「機器數據源」。它可以是「用戶數據源」，在這種情況下，只有一位用戶能看到它。它也可以是「系統數據源」，在這種情況下，計算機上的所有用戶均能訪問它，如果用戶是通過Microsoft 
				Windows 
				NT服務連接在一起的話，與該計算機相連的所有用戶均能訪問它。運行ODBC數據管理程式時，可以選擇是否使用「用戶」或「系統」，它們位於不同的選項卡上。</p>
				<p>如果訊息位於DSN檔案中，它稱為「檔案數據源」。這是一種文本檔案。其優點在於： 
				（a）它適合於任何類型的計算機，而不僅僅是使用Windows作業系統的計算機；（b）其內容的拷貝或傳輸相對容易。</p>
				<h4 class="title"><a name="dsn-on-windows"></a>
				26.1.9.2.&nbsp;在Windows上配置MyODBC DSN</h4></div></div></div>
				<p>要想在Windows平台上新增和配置新的MyODBC數據源，請使用<span>ODBC數據源管理器。ODBC管理器能夠更新數據源連接訊息。</span>新增了數據源時，<span>ODBC管理器能夠更新註冊訊息。</span></p>
				<p>要想從控制面板打開<span>ODBC管理器：</span><span>
				</span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>點擊「開始」，將指針指向「設置」，然後點擊「控制面板」。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在運行Microsoft Windows 
				2000或更新版本的計算機上，雙擊「管理工具」，然後雙擊「數據源」（ODBC）。在運行舊版本Windows的計算機上，雙擊<span>32位ODBC</span>或<span>ODBC</span>。</p>
				<p><img src="images/mydsn-icon.png" alt="ODBC Data Sources
              Icon"></p>
				<p>打開ODBC數據源管理器對話框，如下圖所示：<span>
				</span></p>
				<p><img src="images/mydsn.png" alt="ODBC Data Source
              Administrator Dialog"></p>
				<p>點擊「幫助」以瞭解ODBC數據源管理器對話框各選項卡的詳細訊息。</p>
				<p>要想在Windows平台上新增數據源：<span> </span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>打開ODBC數據源管理器。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在ODBC數據源管理器對話框中，點擊「新增」。打開「建立新數據源」對話框。</p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>選擇<span>MySQL ODBC 
				3.51驅動程式，然後點擊<span >「</span>完成<span >」</span>。</span>打開「<span>MySQL 
				ODBC 3.51驅動程式-DSN配置<span >」</span>對話框，如下圖所示：</span><span>
				</span></p>
				<p><img src="images/mydsn-setup.png" alt="MySQL ODBC DSN
              Configuration Dialog"></p>
				<p>
				<span>4.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「數據源名」框中，輸入打算訪問的數據源的名稱。它可以是您選擇的任何有效名稱。</p>
				<p>
				<span>5.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「描述」框中，輸入DSn所需的描述訊息。</p>
				<p>
				<span>6.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「主機」或「伺服器名」（或IP）框中，輸入準備訪問的MySQL伺服器主機的名稱。預設情況下為<span>localhost</span>（本地主機）。</p>
				<p>
				<span>7.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「資料庫名」框中，輸入準備用作預設資料庫的MySQL資料庫名稱。</p>
				<p>
				<span>8.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「用戶」框中，輸入您的MySQL帳號（資料庫用戶ID）。</p>
				<p>
				<span>9.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「密碼」框中輸入密碼。</p>
				<p>
				<span>10.</span>在「端口」框中，如果端口不是預設端口，輸入端口號。</p>
				<p>
				<span>11.</span>在「SQL命令」框中，可輸入建立連接後自動執行的SQL語句。</p>
				<p>最後，對話框與下圖顯示的類似：<span>
				</span></p>
				<p><img src="images/mydsn-example.png" alt="Filled-In MySQL ODBC DSN
              Configuration Dialog"></p>
				<p>點擊「OK」新增該數據源。</p>
				<p><b>註釋： </b>
				點擊「OK」後，將打開「數據源」對話框，ODBC管理器將更新註冊訊息。連接到該數據源時，您所輸入的帳號和連接字串將成為該數據源的預設連接值。</p>
				<p>您也可以使用「測試數據源」按鈕，測試您的設置是否適合於連接到伺服器。該特性僅對MyODBC 
				3.51驅動程式有效。成功完成測試後，將顯示下述窗口：<span> </span></p>
				<p><img src="images/mydsn-test-success.png" alt="MyODBC Successful Connection
          Message"></p>
				<p>如果測試失敗，將顯示錯誤消息。</p>
				<p><img src="images/mydsn-test-fail.png" alt="MyODBC Failed Connection Message"></p>
				<p>
				DNS配置對話框也有一個「選項」按鈕。如果選擇了它，將打開下述選項對話框，顯示控制驅動程式的行為。關於這些選項的含義，請參見<a href="connectors.html#connection-parameters" title="26.1.9.4. Connection Parameters">26.1.9.4節，「連接參數」</a>。</p>
				<p><img src="images/mydsn-options.png" alt="MyODBC Options Dialog"></p>
				<p>註釋： 在「驅動程式跟蹤」選項下列出的選項已被禁止（灰色），除非您使用的是驅動DLL的調試版本。</p>
				<p>要想在Windows平台上更改數據源：<span> </span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>打開ODBC數據源管理器。點擊恰當的選項卡「DSN」。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>選擇打算更改的MySQL數據源，然後點擊「配置」。打開「<span>MySQL 
				ODBC 3.51驅動程式-DSN配置<span >」</span>對話框。</span></p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>更改適用的數據源字段，然後點擊「OK」。</p>
				<p>更改完該對話框中的訊息後，ODBC管理器將更新註冊訊息。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dsn-on-unix"></a>
				26.1.9.3.&nbsp;在Unix平台上配置MyODBC DSN</h4></div></div></div>
				<p>在<span>Unix平台上，可以直接在odbc.ini檔案中配置DSN條目。</span>這裡給出了1個典型的<span>odbc.ini檔案，在該檔案中，分別將myodbc和myodbc3配置為</span>MyODBC 
				2.50和MyODBC 3.51的DSN名稱： </p>
				<pre><span>;</span></pre>
				<pre>;&nbsp; odbc.ini對MyODBC和MyODBC 3.51驅動程式的配置</pre>
				<pre class="programlisting">;

[ODBC Data Sources]
myodbc      = MyODBC 2.50 Driver DSN
myodbc3     = MyODBC 3.51 Driver DSN

[myodbc]
Driver       = /usr/local/lib/libmyodbc.so
Description  = MyODBC 2.50 Driver DSN
SERVER       = localhost
PORT         =
USER         = root
Password     =
Database     = test
OPTION       = 3
SOCKET       =

[myodbc3]
Driver       = /usr/local/lib/libmyodbc3.so
Description  = MyODBC 3.51 Driver DSN
SERVER       = localhost
PORT         =
USER         = root
Password     =
Database     = test
OPTION       = 3
SOCKET       =

[Default]
Driver       = /usr/local/lib/libmyodbc3.so
Description  = MyODBC 3.51 Driver DSN
SERVER       = localhost
PORT         =
USER         = root
Password     =
Database     = test
OPTION       = 3
SOCKET       =
</pre>
				<p>關於可提供連接參數的清單，請參見<a href="connectors.html#connection-parameters" title="26.1.9.4. Connection Parameters">26.1.9.4節，「連接參數」</a>。</p>
				<p>註釋： 如果您正在使用unixODBC，可使用下述工具設置DSN：<span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>ODBCConfig GUI tool(<a target="_top"  href="http://www.unixodbc.org/config.html">HOWTO: 
				ODBCConfig</a>) </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>odbcinst </span></p>
				<p>在某些情況下使用unixODBC，可能會出現下述錯誤：<span> </span></p>
				<pre>Data source name not found and no default driver specified（數據源名不存在，未指定預設驅動程式）</pre>
				<p>如果出現該情況，請確認<span>ODBCINI</span>和<span>ODBCSYSINI環境變數指向正確的odbc.ini</span>檔案。例如，如果您的<span>odbc.ini檔案位於</span>目錄「<span>/usr/local/etc<span >」</span>下，可將環境變數設為：</span>
				</p>
				<pre><span>export ODBCINI=/usr/local/etc/odbc.ini</span></pre>
				<pre><span>export ODBCSYSINI=/usr/local/etc</span></pre>
			</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connection-parameters"></a>
				26.1.9.4.&nbsp;連接參數</h4></div></div></div>
				<p>您可以在<span>ODBC.INI檔案的[Data Source 
				Name]（數據源名）部分、或通過SQLDriverConnect()</span> call的<span>InConnectionString</span>參量<span>為MyODBC指定下述參數</span>。</p>
				<table border="1" cellpadding="0" id="table1">
					<tr>
						<td>
						<p><b>參數</b></td>
						<td>
						<p><b>預設值</b></td>
						<td>
						<p><b>註釋</b></td>
					</tr>
					<tr>
						<td>
						<p>
						<span>user</span></td>
						<td>
						<p><span>ODBC (on 
						Windows)</span></td>
						<td>
						<p>用於連結至MySQL的帳號。</td>
					</tr>
					<tr>
						<td>
						<p>
						<span>server</span></td>
						<td>
						<p>
						<span>localhost</span></td>
						<td>
						<p>MySQL伺服器的主機名。</td>
					</tr>
					<tr>
						<td>
						<p>
						<span>database</span></td>
						<td>
						<p><span>&nbsp;</span></td>
						<td>
						<p>預設資料庫。</td>
					</tr>
					<tr>
						<td>
						<p>
						<span>option</span></td>
						<td>
						<p><span>0</span></td>
						<td>
						<p>指定MyODBC工作方式的選項。參見下面。</td>
					</tr>
					<tr>
						<td>
						<p>
						<span>port</span></td>
						<td>
						<p><span>3306</span></td>
						<td>
						<p>如果伺服器不是本地主機將要使用的TCP/IP端口。</td>
					</tr>
					<tr>
						<td>
						<p>
						<span>stmt</span></td>
						<td>
						<p><span>&nbsp;</span></td>
						<td>
						<p>連接至MySQL時將要執行的語句。</td>
					</tr>
					<tr>
						<td>
						<p>
						<span>password</span></td>
						<td>
						<p><span>&nbsp;</span></td>
						<td>
						<p>伺服器上用戶帳號的密碼。</td>
					</tr>
					<tr>
						<td>
						<p>
						<span>socket</span></td>
						<td>
						<p><span>&nbsp;</span></td>
						<td>
						<p>
						當伺服器是本地主機是將要連接的Unix套接字檔案或Windows命名管道。</td>
					</tr>
				</table>
				<p>選項參量用於通知MyODBC：客戶端不是100% 
				ODBC兼容的。在Windows平台下，正常情況下，應通過切換連接屏幕上的復選框選擇選項，但也能在選項參量中選擇它們。下述選項是按照它們在MyODBC連接屏幕上顯示的順序排列的：<span>
				</span></p>
				<table border="1" cellpadding="0" id="table2">
					<tr>
						<td>
						<p><b>值</b></td>
						<td>
						<p><b>描述</b></td>
					</tr>
					<tr>
						<td>
						<p><span>1</span></td>
						<td>
						<p>客戶端無法處理，MyODBC返回列的實際寬度。</td>
					</tr>
					<tr>
						<td>
						<p><span>2</span></td>
						<td>
						<p>
						客戶端無法處理，MyODBC返回受影響行的真值。如果設置了該標誌，MySQL將返回「發現的行」取而代之。MySQL的版本必須是3.21.14或更高版本，該功能才能生效。</td>
					</tr>
					<tr>
						<td>
						<p><span>4</span></td>
						<td>
						<p>在<span>c:\myodbc.log中生成調試日誌。它與將MYSQL_DEBUG=d:t:O,c::\myodbc.log放到AUTOEXEC.BAT中的效果相同</span>（在Unix平台下，該檔案是<span>/tmp/myodbc.log</span>）。</td>
					</tr>
					<tr>
						<td>
						<p><span>8</span></td>
						<td>
						<p>不為結果和參數設置任何訊息報限制。</td>
					</tr>
					<tr>
						<td>
						<p><span>16</span></td>
						<td>
						<p>即使驅動程式可能會給出提示，對出現的問題不予提示。</td>
					</tr>
					<tr>
						<td>
						<p><span>32</span></td>
						<td>
						<p>允許或禁止動態光標支援。（在MyODBC 2.50中不允許）。</td>
					</tr>
					<tr>
						<td>
						<p><span>64</span></td>
						<td>
						<p>在<span>db_name.tbl_name.col_name中忽略資料庫名的使用。</span></td>
					</tr>
					<tr>
						<td>
						<p><span>128</span></td>
						<td>
						<p>強制使用ODBC管理器光標（實驗性）。</td>
					</tr>
					<tr>
						<td>
						<p><span>256</span></td>
						<td>
						<p>禁止使用延伸取數據（實驗性）。</td>
					</tr>
					<tr>
						<td>
						<p><span>512</span></td>
						<td>
						<p>將<span>CHAR列填充為全列寬。</span></td>
					</tr>
					<tr>
						<td>
						<p><span>1024</span></td>
						<td>
						<p><span>
						SQLDescribeCol()</span>返回完全合格的列名。</td>
					</tr>
					<tr>
						<td>
						<p><span>2048</span></td>
						<td>
						<p>使用壓縮客戶端／伺服器協議。</td>
					</tr>
					<tr>
						<td>
						<p><span>4096</span></td>
						<td>
						<p>
						通知伺服器忽略函數名之後和「(」之前的空格（PowerBuilder要求這樣）。這會使所有的函數名成為關鍵字。</td>
					</tr>
					<tr>
						<td>
						<p><span>8192</span></td>
						<td>
						<p>用命名管道連結至運行在NT環境下的<strong><span>mysqld</span></strong>伺服器。</td>
					</tr>
					<tr>
						<td>
						<p><span>16384</span></td>
						<td>
						<p>將<span>LONGLONG列更改為INT列（某些應用程式不能處理LONGLONG列）</span>。</td>
					</tr>
					<tr>
						<td>
						<p><span>32768</span></td>
						<td>
						<p>從<span>SQLTables返回作為Table_qualifier</span>和<span>Table_owner的用戶</span>（實驗性）。</td>
					</tr>
					<tr>
						<td>
						<p><span>65536</span></td>
						<td>
						<p>從<span>my.cnf的[client]</span>和<span>[odbc]組讀取參數。</span></td>
					</tr>
					<tr>
						<td>
						<p><span>131072</span></td>
						<td>
						<p>增加一些額外檢查（不應需要之，但<span >…</span>）。</td>
					</tr>
					<tr>
						<td>
						<p><span>262144</span></td>
						<td>
						<p>禁止事務。</td>
					</tr>
					<tr>
						<td>
						<p><span>524288</span></td>
						<td>
						<p>允許將查詢記錄到<span>c:\myodbc.sql</span>(<span>/tmp/myodbc.sql</span>)檔案。（僅在調試模式下才能啟用）。</td>
					</tr>
					<tr>
						<td>
						<p><span>1048576</span></td>
						<td>
						<p>不要驅動中的結果進行緩衝處理，而應從伺服器讀取「<span>mysql_use_result()</span>」。僅對正向光標才能起作用。當您不希望緩衝處理整個結果集時，對於大資料表處理，該選項十分重要。</td>
					</tr>
					<tr>
						<td>
						<p><span>2097152</span></td>
						<td>
						<p>
						強制使用正向光標類型。在應用程式設置了預設靜態／動態光標類型的情況下，如果希望驅動程式使用非緩衝結果集，那麼該選項能夠保證正向光標的行為。</td>
					</tr>
				</table>
				<p>要想選擇多個選項，可將它們的值加在一起。例如，將選項設置為12（4＋8），就能獲得調試功能，但沒有訊息包限制。</p>
				<p>預設的<span>myodbc3.dll是為最佳化性能而編譯的。</span>如果希望調試MyODBC 
				3.51（例如，啟用跟蹤功能），應使用<span>myodbc3d.dll</span>。要想安裝該檔案，請拷貝<span>myodbc3d.dll，使之覆蓋已安裝的myodbc3.dll檔案。</span>一旦完成了調試操作，務必恢復至驅動DLL的發佈版本，這是因為調試版本可能會導致性能問題。注意，在MyODBC 
				3.51.07至3.51.11中未包含<span>myodbc3d.dll。</span>如果您正在使用這些版本中的一個，應從之前的版本（例如3.51.06）拷貝該DLL檔案。</p>
				<p>對於MyODBC 2.50，採用了<span>myodbc.dll和myodbcd.dll取而代之。</span></p>
				<p>在下面的資料表各中，給出了針對各種配置的推薦選項值：<span> </span></p>
				<table border="1" cellpadding="0" id="table3">
					<tr>
						<td>
						<p><b>配置</b></td>
						<td>
						<p><b>選項值</b></td>
					</tr>
					<tr>
						<td>
						<p>Microsoft Access</td>
						<td>
						<p><span>3</span></td>
					</tr>
					<tr>
						<td>
						<p>Microsoft Visual Basic</td>
						<td>
						<p><span>3</span></td>
					</tr>
					<tr>
						<td>
						<p>具有很多行的大資料表</td>
						<td>
						<p><span>2049</span></td>
					</tr>
					<tr>
						<td>
						<p>驅動跟蹤生成（調試模式）</td>
						<td>
						<p><span>4</span></td>
					</tr>
					<tr>
						<td>
						<p>查詢日誌生成（調試模式）</td>
						<td>
						<p><span>524288</span></td>
					</tr>
					<tr>
						<td>
						<p>生成驅動跟蹤和查詢日誌（調試模式）</td>
						<td>
						<p><span>524292</span></td>
					</tr>
					<tr>
						<td>
						<p>具有非緩衝結果的大資料表</td>
						<td>
						<p><span>3145731</span></td>
					</tr>
				</table>
			</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="without-dsn"></a>
				26.1.9.5.&nbsp;沒有預定義DSN下的連接</h4></div></div></div>
				<p>是。通過指定<span>DRIVER名稱字段，可使用</span>SQLDriverConnect連接到MySQL伺服器。下面給出了使用DSN-Less連接的MyODBC連接字串： 
				</p>
				<p><strong><span>對於MyODBC 2.50：</span></strong><span>
				</span></p>
				<pre><span>ConnectionString = &quot;DRIVER={MySQL};\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SERVER=localhost;\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATABASE=test;\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; USER=venu;\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PASSWORD=venu;\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPTION=3;&quot;</span></pre>
				<p><strong><span>對於MyODBC 3.51：</span></strong><span>
				</span></p>
				<pre><span>ConnectionString = &quot;DRIVER={MySQL ODBC 3.51 Driver};\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SERVER=localhost;\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATABASE=test;\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; USER=venu;\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PASSWORD=venu;\</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTION=3;&quot;</span></pre>
				<p>
				如果您使用的編程語言會將後跟空格的反斜槓轉換為空格，最好將連接字串指定為單個長字串，或使用不會在其中新增空格的多個字串串接。例如：<span>
				</span></p>
				<pre><span>ConnectionString = &quot;DRIVER={MySQL ODBC 3.51 Driver};&quot;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;SERVER=localhost;&quot;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;DATABASE=test;&quot;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;USER=venu;&quot;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;PASSWORD=venu;&quot;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;OPTION=3;&quot;</span></pre>
				<p>關於可提供連接參數的清單，請參見<a href="connectors.html#connection-parameters" title="26.1.9.4. Connection Parameters">26.1.9.4節，「連接參數」</a>。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="remote-connection"></a>
				26.1.9.6.&nbsp;建立從系統A到系統B的遠程連接</h4></div></div></div>
				<p>如果您打算使用<span>myuser</span>和<span>mypassword作為帳號和密碼從系統B連接到系統A，可參考下面給出的簡單步驟。</span></p>
				<p>在系統A上，執行下述步驟：<span> </span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>啟動MySQL伺服器。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>使用GRANT建立帳號為<span>myuser的帳號，該帳號可使用密碼myuser從系統B建立連接。</span></p>
				<pre><span  >3.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>GRANT ALL ON *.* to &#39;myuser&#39;@&#39;B&#39; IDENTIFIED BY &#39;mypassword&#39;;</pre>
				<p>
				<span>4.<span>&nbsp;&nbsp;&nbsp;
				</span></span><span>GRANT語句為用戶myuser授予了使用密碼mypassword從系統B進行連接的所有權限。</span>要想執行該語句，必須在系統A上擁有根用戶權限，或是具有恰當權限的另一用戶。關於MySQL權限的更多訊息，請參見<a href="database-administration.html#user-account-management" title="5.8. MySQL User Account Management">5.8節，「MySQL用戶帳號管理」</a>。</p>
				<p>在系統B上，執行下述步驟：<span> </span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>使用下述連接參數配置MyODBC DSN：<span> </span></p>
				<pre><span>2.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DSN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = remote_test</span></pre>
				<pre><span>3.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>SERVER or HOST = A (or IP address of system A)</span></pre>
				<pre><span>4.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DATABASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = test (The default database or an appropriate one)</span></pre>
				<pre><span>5.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>USER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = myuser</span></pre>
				<pre><span>6.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PASSWORD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = mypassword</span></pre>
				<p>關於建立DSN-less連接的更多訊息，請參見<a href="connectors.html#without-dsn" title="26.1.9.5. Connecting Without a Predefined DSN">26.1.9.5節，「沒有預定義DSN下的連接」</a><span>。 </span></p>
				<p>
				<span>7.<span>&nbsp;&nbsp;&nbsp;
				</span></span>
				使用Ping命令或其它方式檢查是否能從系統B訪問系統A。如果無法訪問系統A，請檢查網絡或Internet連接，或與您的系統管理員聯繫。</p>
				<p>
				<span>8.<span>&nbsp;&nbsp;&nbsp;
				</span></span>嘗試使用<span>DSN=remote_test</span>進行連接。如果失敗，請跟蹤查詢MyODBC日誌，並根據日誌給出的錯誤訊息採取進一步的步驟。如果需要進一步幫助，請發送詳細的電子郵件至<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>。</span></p>
				<p>在下述站點，您可以找到關於如何完成該操作的簡單示範：<a target="_top"  href="http://www.phphelp.com/tutorial/using-myodbc-to-connect-to-a-remote-database.html">http://www.phphelp.com/tutorial/using-myodbc-to-connect-to-a-remote-database.html</a>.<span>
				</span></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-trace"></a>
				26.1.9.7.&nbsp;獲取ODBC跟蹤檔案</h4></div></div></div>
				<p>如果遇到與MyODBC有關的困難或問題，首先應使用<span>ODBC管理器和</span>MyODBC生成一份日誌檔案<span>（請求來自ODBC 
				ADMIN的日誌時獲得的日誌檔案）。</span></p>
				<p>要想通過驅動管理器獲得ODBC跟蹤檔案，可採取下述步驟：<span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>打開ODBC數據源管理器：<span> </span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>點擊「開始」，將指針指向「設置」，然後點擊「控制面板」。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在運行Microsoft Windows 
				2000、XP或2003的計算機上，雙擊「管理工具」，然後雙擊「數據源」（ODBC），如下圖所示。</p>
				<p><img src="images/mydsn-icon.png" alt="ODBC Data Sources
                  Icon"></p>
				<p>在運行早期Microsoft 
				Windows版本的計算機上，雙擊「控制面板」中的32位<span>ODBC或ODBC。</span></p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>打開ODBC數據源管理器對話框，如下圖所示：<span> </span></p>
				<p><img src="images/mydsn.png" alt="ODBC Data Source
                  Administrator Dialog"></p>
				<p>
				<span>4.<span>&nbsp;&nbsp;&nbsp;
				</span></span>點擊「幫助」以瞭解ODBC數據源管理器對話框各選項卡的詳細訊息。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>啟用跟蹤選項 對於Windows和Unix平台，該步驟不同。</p>
				<p>要想在Windows平台上啟用跟蹤選項：<span>
				</span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>通過「ODBC數據源管理器」對話框的「跟蹤」選項卡，可對跟蹤ODBC函數的方式進行配置。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>從「跟蹤」選項卡激活了跟蹤功能後，驅動管理器會對後續運行的所有應用程式的ODBC函數使用進行跟蹤。</p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>
				激活跟蹤功能前所運行應用程式的ODBC函數使用不會被記錄。ODBC函數使用將被記錄在您指定的日誌檔案中。</p>
				<p>
				<span>4.<span>&nbsp;&nbsp;&nbsp;
				</span></span>
				點擊「現在停止跟蹤」後，跟蹤功能將停止。請記住，啟動跟蹤功能後，日誌檔案將不斷增大，而且跟蹤功能會影響所有ODBC應用程式的性能。</p>
				<p><img src="images/mydsn-trace.png" alt="ODBC Tracing
                  Tab"></p>
				<p>要想在Unix平台上啟用跟蹤選項：<span>
				</span></p>
				<p>
				<span>5.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在Unix平台上，需要在<span>ODBC.INI檔案中明確設置跟蹤選項。</span></p>
				<p>使用<span>TraceFile和odbc.ini中的Trace（跟蹤）參數打開或關閉跟蹤功能，如下所示：</span><span>
				</span></p>
				<pre><span>TraceFile&nbsp; = /tmp/odbc.trace</span></pre>
				<pre><span>Trace&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 1</span></pre>
				<p><span>
				TraceFile</span>指明了跟蹤檔案的名稱和完整路徑，將<span>Trace（跟蹤）設為ON</span>或<span>OFF</span>。也可以使用「1」或「Yes」資料表示ON，以及「0」或「No」資料表示OFF。如果正在使用<span>unixODBC的</span><strong><span>ODBCConfig</span></strong>，然後遵照<a target="_top"  href="http://www.unixodbc.org/config.html">HOWTO-ODBCConfig</a>中介紹的關於跟蹤<span>unixODBC使用的指示說明。</span></p>
				<p>要想生成MyODBC日誌，可採取下述步驟：<span>
				</span></p>
				<p>
				<span>6.<span>&nbsp;&nbsp;&nbsp;
				</span></span>確保您所使用的是驅動程式調試DLL（對於MyODBC 3.51，它是<span>myodbc3d.dll而不是myodbc3.dll，對於</span>MyODBC 
				2.50，它是<span>myodbcd.dll</span>）。</p>
				<p>最簡單的方法是從MyODBC 3.51分發版找到<span>myodbc3d.dll（或myodbcd.dll</span>），並用其覆蓋<span>myodbc3.dll</span>（或<span>myodbc.dll</span>），該檔案通常位於<span>C:\windows\system32</span>或<span>C:\winnt\system32目錄下。</span>注意，完成測試後，您或許希望恢復舊的<span>myodbc.dll檔案，這是因為它比myodbc3d.dll</span>（或<span>myodbcd.dll）快很多，因此，請保存原始DLL的備份。</span></p>
				<p>
				<span  >7.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在「MyODBC連接／配置」屏幕上啟用「跟蹤<span>MyODBC</span>」選項。日誌將被寫入檔案<span>C:\myodbc.log。當您返回上述屏幕時，如果您設置的跟蹤選項未被記住，表明您正在使用的是myodbcd.dll驅動（參見前面的介紹）。</span>在Linux平台上，或您使用的是DSN-Less連接，需在連接字串中提供「<span>OPTION=4<span style="font-family:&quot;Times New Roman&quot;">」</span>。</span></p>
				<p>
				<span>8.<span>&nbsp;&nbsp;&nbsp;
				</span></span>啟動應用程式，並嘗試著使其出現問題。然後檢查MyODBC跟蹤檔案，找出可能出錯的地方。</p>
				<p>如果發現某些事項出錯，請發送電子郵件至<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>（或<a  href="mailto:support@mysql.com">support@mysql.com</a>，如果有與</span>MySQL 
				AB簽訂的支援合同），簡要描述出現的問題，並提供下述額外訊息：<span> </span></p>
				<p >
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>MyODBC版本 </p>
				<p >
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>ODBC驅動管理器的類型和版本</p>
				<p >
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>MySQL伺服器的版本</p>
				<p >
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>驅動管理器的ODBC跟蹤 </p>
				<p >
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>來自MyODBC驅動的MyODBC日誌檔案</p>
				<p >
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>簡單的可複製示範</p>
				<p>請記住，您提供給我們的訊息越多，我們更正問題的機會就越大。</p>
				<p>此外，在提供問題訊息前，請檢查MyODBC郵件列資料表（<a target="_top"  href="http://lists.mysql.com/">http://lists.mysql.com/</a>）。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myodbc-tested-applications"></a>
				26.1.9.8.&nbsp;用MyODBC測試的應用程式</h4></div></div></div>
				<p>使用下述應用程式測試了MyODBC： </p>
				<div class="itemizedlist"><ul type="disc"><li><p>
            MS Access 95, 97, 2000, and 2002
          </p></li><li><p>
            C++-Builder, Borland Builder 4
          </p></li><li><p>
            Centura Team Developer (formerly Gupta SQL/Windows)
          </p></li><li><p>
            ColdFusion (on Solaris and NT with service pack 5),
            <a href="http://www.njwtech.net/addons/coldfusion/mysql.html" target="_top">How-to:
            MySQL and Coldfusion</a>.
            <a href="http://www.macromedia.com/v1/handlers/index.cfm?ID=11328&amp;Method=Full&amp;PageCall=/support/index.cfm" target="_top">Troubleshooting
            Data Sources and Database Connectivity for
            UnixPlatforms</a>.
          </p></li><li><p>
            Crystal Reports
          </p></li><li><p>
            DataJunction
          </p></li><li><p>
            Delphi
          </p></li><li><p>
            ERwin
          </p></li><li><p>
            MS Excel
          </p></li><li><p>
            iHTML
          </p></li><li><p>
            FileMaker Pro
          </p></li><li><p>
            FoxPro
          </p></li><li><p>
            Notes 4.5/4.6
          </p></li><li><p>
            MS Visio Enterprise 2000
          </p></li><li><p>
            Vision
          </p></li><li><p>
            Visual Objects
          </p></li><li><p>
            Visual Interdev
          </p></li><li><p>
            SBSS
          </p></li><li><p>
            Perl DBD-ODBC
          </p></li><li><p>
            Paradox
          </p></li><li><p>
            Powerbuilder
          </p></li><li><p>
            Powerdesigner 32-bit
          </p></li><li><p>
            MS Visual C++
          </p></li><li><p>
            Visual Basic
          </p></li><li><p>
            ODBC.NET through CSharp(C#), VB and C++
          </p></li><li><p>
            Data
            Architect(<a href="http://thekompany.com/products/dataarchitect/" target="_top">http://thekompany.com/products/dataarchitect/</a>)
          </p></li><li><p>
            SQLExpress for
            Xbase++(<a href="http://www.SQLExpress.net" target="_top">http://www.SQLExpress.net</a>)
          </p></li><li><p>
            Open Office (<a href="http://www.openoffice.org" target="_top">http://www.openoffice.org</a>)
            <a href="http://dba.openoffice.org/proposals/MySQL_OOo.html" target="_top">How-to:
            MySQL + OpenOffice</a>.
            <a href="http://www.unixodbc.org/doc/OOoMySQL.pdf" target="_top">How-to:
            OpenOffice + MyODBC + unixODBC</a>.
          </p></li><li><p>
            Star Office
            (<a href="http://wwws.sun.com/software/star/staroffice/6.0/index.html" target="_top">http://wwws.sun.com/software/star/staroffice/6.0/index.html</a>)
          </p></li><li><p>
            G2-ODBC bridge (<a href="http://www.gensym.com" target="_top">http://www.gensym.com</a>)
          </p></li><li><p>
            Sambar Server (<a href="http://www.sambarserver.info" target="_top">http://www.sambarserver.info</a>)
            <a href="http://www.sambarserver.info/article.php?sid=66" target="_top">How-to:
            MyODBC + SambarServer + MySQL</a>.
          </p></li></ul></div>
				<p>如果您知道能夠與MyODBC一起工作的其他應用程式，請以電子郵件的方式指明它：<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a>。</span></p>
				<div class="titlepage">
					<div>
						<div>
							<h4 class="title">
							<a name="programs-known-to-work-with-myodbc"></a>26.1.9.9.&nbsp;已知的能與MyODBC一起工作的程式</h4>
						</div></div></div>
				<p>大多數程式均能與MyODBC一起工作，對上面所列的每一程式，我們自己進行了測試，或得到用戶的確認。很多介紹中均給出了您可能會遇到問題的描述。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>程式</p>
				<p>註釋</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063303"></a>Access
				</p>
				<p>要想使Access工作： </p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果您正在使用Access 
				2000，應從下述地址獲取並安裝最新的（2.6版或更高）Microsoft MDAC（<span>Microsoft數據訪問組件</span>），<a target="_top"  href="http://www.microsoft.com/data/">http://www.microsoft.com/data/</a>。它更正了Access在將數據導出至MySQL時存在的一個問題，未指定資料表名和列名。另一種解決該問題的方法是，升級到MyODBC 
				2.50.33和MySQL 3.23.x, 它們共同提供了避免該問題的一種方式。</p>
				<p>此外，您還應獲取並應用Microsoft Jet 4.0 
				Service Pack 5 (SP5)，可在下述地址找到它：<a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q239114">http://support.microsoft.com/default.aspx?scid=kb;EN-US;q239114</a>。它修正了某些情況下在Access中列被標注為「<span>#DELETED#<span >」</span>的問題。</span></p>
				<p>註釋： 如果您正使用MySQL 3.22，必須安裝MDAC補丁，並使用MyODBC 
				2.50.32或2.50.34或更高版本以解決該問題。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>對於所有版本的Access，應啟用「MyODBC返回匹配行」選項。對於Access 
				2.0，還應額外啟用「<span>模擬ODBC 1.0<span style="font-family:&quot;Times New Roman&quot;">」</span>選項</span>。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>
				在希望能夠更新的所有資料表中，均應有時間戳。為了獲得最大的可移植性，在列聲明中不要使用長度規範。也就是說，應使用<span>TIMESTAMP，而不是TIMESTAMP(<i>n</i>)</span>,
				<span><i>n</i></span> &lt; 14。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在資料表中應有1個主鍵。如不然，新的或更新的行可能會顯示為「<span>#DELETED#</span>」。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>僅應使用<span>DOUBLE浮點字段。</span>與單精度浮點進行比較時，Access將失敗。其徵兆是新的或更新的行可能會顯示為「<span>#DELETED#</span>」，或無法找到或更新行。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果您正使用MyODBC來連結到有BIGINT列的資料表，結果會顯示為「<span>#DELETED</span>」。排除它的解決方案是：<span>
				</span></p>
				<p >
				<span  >
				§<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>有1個以<span>TIMESTAMP作為數據類型的虛擬列。</span></p>
				<p >
				<span  >
				§<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在「ODBC DSN管理器」的連接對話框中選擇「將BIGINT列更改為INT」選項。</p>
				<p >
				<span  >
				§<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>刪除與Access的資料表連結，並重新建立它。</p>
				<p>舊記錄仍將顯示為「<span>#DELETED#</span>」，但新增／更新的記錄會恰當顯示。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>新增了TIMESTAMP列後，另一位用戶更改了數據，如果錯誤依舊出現，下述技巧或許有所幫助：<span>
				</span></p>
				<p>
				不要使用資料表數據資料表視圖。取而代之的是，從您希望使用的資料表建立一個資料表單，並使用資料表單數據資料表視圖。應將<span>TIMESTAM列的DefaultValue屬性設置為NOW()</span>。在視圖中隱藏<span>TIMESTAMP列或許是個好主意，這樣就不會使您的用戶感到迷惑。</span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在某些情況下，Access可能會生成MySQL無法理解的SQL語句。可通過在Access菜單中選擇「<span>Query|SQLSpecific|Pass-Through</span>」來更正該問題。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在NT平台上，Access會將<span>BLOB</span>列通報為<span>OLE 
				OBJECTS（OLE對像）。</span>如果您打算用<span>MEMO列取而代之，應使用ALTER 
				TABLE將BLOB列更改為TEXT。</span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>Access無法在任何時候均恰當處理<span>DATE列。</span>如果遇到這類問題，請將列更改為<span>DATETIME</span>。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果在Access中存在定義為<span>BYTE的列，</span>Access會視圖將其導出為<span>TINYINT而不是TINYINT 
				UNSIGNED</span>。如果列中的值大於127，將出現問題。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063304"></a>ADO </p>
				<p>使用ADO API和MyODBC進行編碼時，需要注意某些不被MySQL伺服器支援的預設屬性。例如，對於<span>RecordCount屬性，如果將CursorLocation屬性用作adUseServer，將返回結果<span >「</span>-1<span >」</span>。</span>要想獲得正確的值，需要將該屬性設置為<span>adUseClient，如下面給出的VB代碼示範所示：</span>
				</p>
				<pre><span>Dim myconn As New ADODB.Connection</span></pre>
				<pre><span>Dim myrs As New Recordset</span></pre>
				<pre><span>Dim mySQL As String</span></pre>
				<pre><span>Dim myrows As Long</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>myconn.Open &quot;DSN=MyODBCsample&quot;</span></pre>
				<pre><span>mySQL = &quot;SELECT * from user&quot;</span></pre>
				<pre><span>myrs.Source = mySQL</span></pre>
				<pre><span>Set myrs.ActiveConnection = myconn</span></pre>
				<pre><span>myrs.CursorLocation = adUseClient</span></pre>
				<pre><span>myrs.Open</span></pre>
				<pre><span>myrows = myrs.RecordCount</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>myrs.Close</span></pre>
				<pre><span>myconn.Close</span></pre>
				<p>另一種處理方式是，對類似查詢使用<span>SELECT 
				COUNT(*)語句以獲取正確的行計數。</span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>主動伺服器頁（ASP）</p>
				<p>應選擇「返回匹配行」選項。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>BDE應用程式</p>
				<p>要想使這類應用程式工作，應選擇「不最佳化列寬度並返回匹配行」選項。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063305"></a>Borland 
				Builder 4 </p>
				<p>開始查詢時，可使用<span>Active屬性或Open方法。</span>注意，<span>Active將通過自動發出<span >「</span>SELECT 
				* FROM ...<span >」</span>查詢開始。</span>如果資料表很大，這不是什麼好事。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063306"></a>
				ColdFusion（在Unix平台上）</p>
				<p>下述訊息取自ColdFusion文檔： </p>
				<p>使用下述訊息來配置用於Linux的ColdFusion伺服器，以便使用針對MySQL數據源的unixODBC驅動和MyODBC。Allaire已證明，MyODBC 
				2.50.26能夠與MySQL 3.22.27以及用於Linux的ColdFusion一起工作。（任何較新的版本也應能正確工作）。您可以在網站<span><a target="_top"  href="http://dev.mysql.com/downloads/connector/odbc/">http://dev.mysql.com/downloads/connector/odbc/</a></span>上下載MyODBC。</p>
				<p>通過ColdFusion 
				4.5.1版，可以使用「ColdFusion管理器」來新增MySQL數據源。但是，驅動程式未包含在ColdFusion 
				4.5.1版中。在MySQL驅動程式出現在ODBC數據源下拉列資料表之前，必須建立MyODBC驅動程式，並將其拷貝到<span>/opt/coldfusion/lib/libmyodbc.so</span>。</p>
				<p>在Contrib目錄下包含程式<span>mydsn-<i>xxx</i>.zip，使用它，對於</span>Coldfusion應用程式，可建立並刪除用於MyODBC驅動的DSN註冊檔案。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063307"></a>
				DataJunction </p>
				<p>應對其進行更改，使之輸出<span>VARCHAR而不是ENUM，因為其導出ENUM的方式會</span>造成MySQL問題。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063308"></a>Excel
				</p>
				<p>工作。一些提示： </p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果遇到日期方面的問題，請使用<span>CONCAT()函數，將其選擇為字串。</span>例如：<span>
				</span></p>
				<pre><span>o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>SELECT CONCAT(rise_time), CONCAT(set_time)</span></pre>
				<pre><span>o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>&nbsp;&nbsp;FROM sunrise_sunset;</span></pre>
				<p>採用該方式以字串提取的值應能被Excel97正確識別為時間值。</p>
				<p>在本例中，<span>CONCAT()的目的是讓ODBC認為列是<span >「</span>字串類型<span >」</span>。</span>如果沒有<span>CONCAT()</span>，ODBC會將列視為時間類型，Excel無法理解它。</p>
				<p>
				注意，Excel存在1個問題，這是因為它會自動將字串轉換為時間。如果源是文本檔案，不存在問題，但當源是通報各列準確類型的ODBC連接時，將出現問題。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063309"></a>Word </p>
				<p>要想將數據從MySQL提取到Word/Excel文檔，需要使用MyODBC驅動程式以及「Microsoft查詢幫助」插件。</p>
				<p>例如，用含有兩列文本的資料表建立1個資料庫：<span>
				</span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>使用<strong><span>mysql</span><span>客戶端</span></strong>命令行工具插入行。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>使用ODBC管理器建立1個DSN檔案，例如，針對剛建立資料庫的「my」。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>打開Word應用程式。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>建立1個新的空白文檔。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在資料庫工具欄上，按「插入資料庫」按鈕。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>按「獲取數據」按鈕。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在「獲取數據」屏幕右側，按「<span>Ms 
				Query</span>」按鈕。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在「<span>Ms Query</span>」中使用「<span>my</span> 
				DSN」檔案建立1個新數據源。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>選擇新查詢。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>選擇打算使用的列。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果願意，建立1個過濾器。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果願意，建立1個分類。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>選擇「將數據返回到<span>Microsoft 
				Word</span>」。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>點擊「完成」。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>點擊「插入數據」並選擇記錄。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>點擊OK，在您的Word文檔中將看到插入的行。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063310"></a>
				odbcadmin </p>
				<p>ODBC的測試程式。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063311"></a>Delphi
				</p>
				<p>必須使用BDE 
				3.2版或更新的版本。連接到MySQL時，選擇「不最佳化列寬度」選項。</p>
				<p>此外，這裡給出了一些可能有用的Delphi代碼，這些代碼可設置為MyODBC設置ODBC條目和BDE條目。BDE條目要求用到「BDE別名編輯器」，它位於靠近您的「Delphi 
				Super Page」上，可自由拖動。（下述內容由Bryan Brunton
				<span>&lt;</span><span><a  href="mailto:bryan@flesherfab.com">bryan@flesherfab.com</a></span><span>&gt;</span>提供）： 
				</p>
				<pre><span>fReg:= TRegistry.Create;</span></pre>
				<pre><span>fReg.OpenKey(&#39;\Software\ODBC\ODBC.INI\DocumentsFab&#39;, True);</span></pre>
				<pre><span>fReg.WriteString(&#39;Database&#39;, &#39;Documents&#39;);</span></pre>
				<pre><span>fReg.WriteString(&#39;Description&#39;, &#39; &#39;);</span></pre>
				<pre><span>fReg.WriteString(&#39;Driver&#39;, &#39;C:\WINNT\System32\myodbc.dll&#39;);</span></pre>
				<pre><span>fReg.WriteString(&#39;Flag&#39;, &#39;1&#39;);</span></pre>
				<pre><span>fReg.WriteString(&#39;Password&#39;, &#39;&#39;);</span></pre>
				<pre><span>fReg.WriteString(&#39;Port&#39;, &#39; &#39;);</span></pre>
				<pre><span>fReg.WriteString(&#39;Server&#39;, &#39;xmark&#39;);</span></pre>
				<pre><span>fReg.WriteString(&#39;User&#39;, &#39;winuser&#39;);</span></pre>
				<pre><span>fReg.OpenKey(&#39;\Software\ODBC\ODBC.INI\ODBC Data Sources&#39;, True);</span></pre>
				<pre><span>fReg.WriteString(&#39;DocumentsFab&#39;, &#39;MySQL&#39;);</span></pre>
				<pre><span>fReg.CloseKey;</span></pre>
				<pre><span>fReg.Free;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;DATABASE NAME=&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;USER NAME=&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;ODBC DSN=DocumentsFab&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;OPEN MODE=READ/WRITE&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;BATCH COUNT=200&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;LANGDRIVER=&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;MAX ROWS=-1&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;SCHEMA CACHE DIR=&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;SCHEMA CACHE SIZE=8&#39;);</span></pre>
				<pre><span>Mem<a name="id3063301">o1.Lines.Add(&#39;SCHEMA CACHE TIME=-1&#39;);</a></span></pre>
				<pre><span>Memo1.Lines.Add(&#39;SQLPASSTHRU MODE=SHARED AUTOCOMMIT&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;SQLQRYMODE=&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;ENABLE SCHEMA CACHE=FALSE&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;ENABLE BCD=FALSE&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;ROWSET SIZE=20&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;BLOBS TO CACHE=64&#39;);</span></pre>
				<pre><span>Memo1.Lines.Add(&#39;BLOB SIZE=32&#39;);</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>AliasEditor.Add(&#39;DocumentsFab&#39;,&#39;MySQL&#39;,Memo1.Lines);</span></pre>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063312"></a>
				<span>C++ Builder </span></p>
				<p>用BDE 
				3.0版進行了測試。目前已知的唯一問題是，更改資料表方案時，查詢字段不更新。然而，BDE看上去不會識別主鍵，它僅是名為PRIMARY的索引，儘管這談不上是問題。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>Vision </p>
				<p>應選擇「返回匹配行」選項。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><a class="indexterm" name="id3063313"></a>Visual 
				Basic </p>
				<p>要想更新資料表，必須為資料表定義主鍵。</p>
				<p>帶有ADO的Visual 
				Basic不能處理大整數。這意味著某些查詢（如<span>SHOW 
				PROCESSLIST等）不會正確工作。</span>更正方法是，在ODBC連接字串中使用<span>OPTION=16384，或在</span>MyODBC連接屏幕上選擇「將<span>BIGINT列更改為INT</span>」選項。或許，您也希望選擇「返回匹配行」選項。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>VisualInterDev </p>
				<p>如果在結果中有<span>BIGINT，可能會出現錯誤<span >「</span>[Microsoft][ODBC 
				Driver Manager]驅動程式不支<a name="id3063302">持該參數</a><span >」</span></span>。請<span>在</span>MyODBC連接屏幕上選擇「將<span>BIGINT列更改為INT</span>」選項。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>Visual Objects </p>
				<p>應選擇「不最佳化列寬度」選項。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>MS Visio Enterprise 2000 </p>
				<p>通過MyODBC（2.50.37或更高版本），通過連接MS 
				Vision Enterprise 
				2000和MySQL，並使用Visio的逆向工程師功能，我們建立了資料庫模型，使用它來檢索關於DB的訊息（Visio顯示了所有的列定義、主鍵、索引等）。此外，我們還通過指定Visio中的新資料表進行了測試，並通過MyODBC將其導出至MySQL。</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="connection"></a>
			26.1.10.&nbsp;與MyODBC連接相關的事宜</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#setup-error">
				26.1.10.1. 配置MyODBC DSN時，出現不能加載翻譯器或設置庫錯誤<code class="literal"></code></a></span></dt><dt><span class="section"><a href="connectors.html#access-denied-error">
				26.1.10.2. 連接時，出現拒絕訪問錯誤<code class="literal"></code></a></span></dt><dt><span class="section"><a href="connectors.html#connection-pool">
				26.1.10.3. INFO：關於ODBC連接池</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				在本節中，回答了與MyODBC連接有關的問題。<h4 class="title"><a name="setup-error"></a>
				26.1.10.1.&nbsp;配置MyODBC DSN時，出現不能加載翻譯器或設置庫錯誤<code class="literal"></code></h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				更多訊息，請參見<span><a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q260558">MS知識庫文章(Q260558)</a></span>。此外，請確認在您的系統目錄下有最新的有效<span>ctl3d32.dll檔案。</span><h4 class="title"><a name="access-denied-error"></a>
				26.1.10.2.&nbsp;連接時，出現拒絕訪問錯誤<code class="literal"></code></h4></div></div></div>
				<p>請參見<a href="database-administration.html#access-denied" title="5.7.8. Causes of Access denied Errors">5.7.8節，「拒絕訪問錯誤的原因<code class="literal"></code>」</a>。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connection-pool"></a>
				26.1.10.3.&nbsp;INFO：關於ODBC連接池</h4></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			關於連接池方面的訊息，請參閱下述文檔： <span>
			<a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q169470">
			http://support.microsoft.com/default.aspx?scid=kb;EN-US;q169470</a></span>。 <h3 class="title"><a name="msaccess"></a>
			26.1.11.&nbsp;MyODBC和Microsoft Access</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#msaccess-setup">
				26.1.11.1. 如何設置Microsoft Access，使之能夠與使用MyODBC的MySQL一起工作？</a></span></dt><dt><span class="section"><a href="connectors.html#export-of-data">
				26.1.11.2. 如何將資料表或查詢從Access導出到MySQL？</a></span></dt><dt><span class="section"><a href="connectors.html#import-of-data">
				26.1.11.3. 如何導入MySQL資料庫資料表或將其連結到Access？</a></span></dt><dt><span class="section"><a href="connectors.html#linked-tables">
				26.1.11.4. 連結資料表的結構或位置已改變，我能看到連結資料表中的這些變化嗎？</a></span></dt><dt><span class="section"><a href="connectors.html#deleted-problem">
				26.1.11.5. 當我在連結資料表中插入記錄或更新其中的記錄時，遇到「#DELETED#」<code class="literal"></code></a></span></dt><dt><span class="section"><a href="connectors.html#write-conflict">
				26.1.11.6. 如何處理寫衝突或行位置錯誤？</a></span></dt><dt><span class="section"><a href="connectors.html#access97-export">
				26.1.11.7. 無論何時，當我從Access 97導出資料表時，出現陌生的語法錯誤</a></span></dt><dt><span class="section"><a href="connectors.html#modified-error">
				26.1.11.8. 編輯記錄時，Access返回「另一用戶更改了您修改的記錄」</a></span></dt><dt><span class="section"><a href="connectors.html#trapping-odbc-errors">
				26.1.11.9. 如何在Access中俘獲ODBC登錄錯誤消息？</a></span></dt><dt><span class="section"><a href="connectors.html#optimize-access">
				26.1.11.10. 如何最佳化Access與MyODBC一起工作的性能？</a></span></dt><dt><span class="section"><a href="connectors.html#access-long-tables">
				26.1.11.11. 我有很長的資料表，MyODBC訪問這些Access資料表的最佳配置是什麼？</a></span></dt><dt><span class="section"><a href="connectors.html#query-timeout">
				26.1.11.12. 如何為ODBC連接設置QueryTimeout值？</a></span></dt><dt><span class="section"><a href="connectors.html#mysql-tools-with-access">
				26.1.11.13. INFO：用於Access和MySQL間導入/導出的工具</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				在本節中，回答了與MyODBC和Microsoft Access有關的問題。<h4 class="title"><a name="msaccess-setup"></a>
				26.1.11.1.&nbsp;如何設置Microsoft Access，使之能夠與使用MyODBC的MySQL一起工作？</h4></div></div></div>
				<p>要想使Microsoft Access能夠與MyODBC一起工作，在您的客戶端PC上必須完成下述操作。</p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>如果您正在使用Access 
				2000，應從下述地址獲取並安裝最新的（2.6版或更高）Microsoft MDAC（<span>Microsoft數據訪問組件</span>），<span><a target="_top"  href="http://www.microsoft.com/data/">http://www.microsoft.com/data/</a></span>。它更正了Access在將數據導出至MySQL時存在的一個問題，未指定資料表名和列名。另一種解決該問題的方法是，升級到MyODBC 
				2.50.33和MySQL 3.23.x, 它們共同提供了避免該問題的一種方式。</p>
				<p>此外，您還應獲取並應用Microsoft Jet 4.0 
				Service Pack 5 (SP5)，可在下述地址找到它：<span><a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q239114">http://support.microsoft.com/default.aspx?scid=kb;EN-US;q239114</a></span>。它修正了某些情況下在Access中列被標注為「<span>#DELETED#<span >」</span>的問題。</span></p>
				<p>註釋： 如果您正使用MySQL 3.22，必須安裝MDAC補丁，並使用MyODBC 
				2.50.32或2.50.34或更高版本以解決該問題。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>安裝最新版MySQL，<span><a target="_top"  href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a></span>。</p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>安裝最新版MyODBC 3.51或2.50，<span><a target="_top"  href="http://dev.mysql.com/downloads/connector/odbc/">http://dev.mysql.com/downloads/connector/odbc/</a></span>。</p>
				<p>
				<span>4.<span>&nbsp;&nbsp;&nbsp;
				</span></span>對於所有版本的Access，應啟用「MyODBC返回匹配行」選項。</p>
				<p>
				<span>5.<span>&nbsp;&nbsp;&nbsp;
				</span></span>通過MyODBC，將Access用作MySQL伺服器的前端程式。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="export-of-data"></a>
				26.1.11.2.&nbsp;如何將資料表或查詢從Access導出到MySQL？</h4></div></div></div>
				<p>除非已安裝了MyODBC，否則不能將資料表或查詢導出到MySQL。</p>
				<p>要想將資料表從Access導入MySQL，請遵循下述說明：<span> </span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>
				打開Access資料庫或Access項目時，出現「資料庫」窗口。其中顯示了用於建立新資料庫對像和打開已有對象的快捷方式。</p>
				<p><img src="images/myaccess.png" alt="Access Database"></p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>點擊打算導出的資料表名或查詢名，然後在「檔案」菜單中選擇「導出」。</p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「導出對像類型<span><i>對像名</i>至</span>」對話框中，在「另存為類型」框中，選擇<span><span >「</span>ODBC資料庫()<span >」</span>，如下圖所示</span>：<span>
				</span></p>
				<p><img src="images/myaccess-odbc.png" alt="Selecting an ODBC Database"></p>
				<p>
				<span>4.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「導出」對話框中，輸入檔案名（或使用建議的檔案名），然後選擇OK。</p>
				<p>
				<span>5.<span>&nbsp;&nbsp;&nbsp;
				</span></span>
				顯示「選擇數據源」對話框，其中列出了為計算機上已安裝的各ODBC驅動定義的數據源。點擊「檔案數據源」或「機器數據源」選項卡，然後雙擊打算導出至的MyODBC或MyODBC 
				3.51數據源。關於為MyODBC定義新數據源的方法，請參見<a href="connectors.html#dsn-on-windows" title="26.1.9.2. Configuring a MyODBC DSN on Windows">26.1.9.2節，「在Windows上配置MyODBC DSN」</a>。</p>
				<p>Microsoft Access通過該數據源連接至MySQL伺服器，並導出新的資料表和／或數據。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="import-of-data"></a>
				26.1.11.3.&nbsp;如何導入MySQL資料庫資料表或將其連結到Access？</h4></div></div></div>
				<p>除非已安裝了MyODBC，否則不能將資料表或查詢導出到MySQL資料庫。</p>
				<p><strong><span>
				要想將資料表從MySQL導入或連結到Access，請採取下述步驟：</span></strong><span>
				</span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>打開資料庫，或切換到「資料庫」窗口以打開資料庫。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>
				要想導入資料表，在「檔案」菜單上，將鼠標指針指向「獲取外部數據」，然後點擊「導入」。要想連結資料表，在「檔案」菜單上，將鼠標指針指向「獲取外部數據」，然後點擊「連結資料表」。</p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「導入」（或「連結」）對話框中，在「檔案類型」框中選擇「<span>ODBC 
				Databases ()</span>」。在「選擇數據源」對話框中，列出了定義的數據源。顯示「選擇數據源」對話框，其中列出了為安裝在計算機上的任何ODBC驅動定義的數據源。點擊「檔案數據源」或「機器數據源」選項卡，然後雙擊打算導出至的MyODBC或MyODBC 
				3.51數據源。關於為MyODBC或MyODBC 3.51驅動定義新數據源的方法，請參見<a href="connectors.html#dsn-on-windows" title="26.1.9.2. Configuring a MyODBC DSN on Windows">26.1.9.2節，「在Windows上配置MyODBC DSN」</a>。</p>
				<p>
				<span>4.<span>&nbsp;&nbsp;&nbsp;
				</span></span>如果所選的數據源要求登錄，請輸入登錄ID和密碼（可能還需要額外訊息），然後點擊OK。</p>
				<p>
				<span>5.<span>&nbsp;&nbsp;&nbsp;
				</span></span>Microsoft 
				Access通過ODBC數據源連接到MySQL伺服器，並顯示可導入或連結的資料表清單。</p>
				<p>
				<span>6.<span>&nbsp;&nbsp;&nbsp;
				</span></span>
				點擊希望導入或連結的每個資料表，然後點擊OK。如果您正在連結1個資料表，但它沒有唯一識別各條記錄的索引，Microsoft 
				Access將顯示連結資料表中的字段列資料表。點擊能唯一標識各記錄的字段或字段組合，然後點擊OK。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="linked-tables"></a>
				26.1.11.4.&nbsp;連結資料表的結構或位置已改變，我能看到連結資料表中的這些變化嗎？</h4></div></div></div>
				<p>是。當連結資料表的結構或位置發生變化時，可採取下述步驟查看或刷新連結。「連結資料表管理器」列出了當前連結的所有資料表的路徑。</p>
				<p>要想查看或刷新連結：<span> </span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>打開包含資料表連結的資料庫。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「工具」菜單上，指向「加載項」（在Access 
				2000或更新版本中為「資料庫實用工具」），然後點擊「連結資料表管理器」。</p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>選中打算刷新連結的資料表的復選框。</p>
				<p>
				<span>4.<span>&nbsp;&nbsp;&nbsp;
				</span></span>點擊OK，刷新連結。</p>
				<p>Microsoft Access將確認成功的刷新操作，或者，如果未找到資料表，將顯示「選擇&lt;table 
				name&gt;新位置」對話框，在該對話框中，<span>可指定資料表的新位置。如果您所選擇的數個資料表已被移至您所指定的新位置，連結資料表管理器將針對所有所選的資料表搜索該位置，並一次性地更新所有連結。</span></p>
				<p>要想更改連結資料表集合的路徑：<span> </span></p>
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>打開包含資料表連結的資料庫。</p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「工具」菜單上，指向「加載項」（在Access 
				2000或更新版本中為「資料庫實用工具」），然後點擊「連結資料表管理器」。</p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>選中「對新位置始終提示」復選框。</p>
				<p>
				<span>4.<span>&nbsp;&nbsp;&nbsp;
				</span></span>選中打算更改連結的資料表的復選框，然後點擊OK。</p>
				<p>
				<span>5.<span>&nbsp;&nbsp;&nbsp;
				</span></span>在「選擇&lt;table name&gt;新位置」對話框中，指定新位置，點擊「打開」，然後點擊OK。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="deleted-problem"></a>
				26.1.11.5.&nbsp;當我在連結資料表中插入記錄或更新其中的記錄時，遇到「#DELETED#」<code class="literal"></code></h4></div></div></div>
				<p>如果在Access中插入或更新的記錄顯示為「<span>#DELETED#</span>」： 
				</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果您正在使用Access 
				2000，應從下述地址獲取並安裝最新的（2.6版或更高）Microsoft MDAC（<span>Microsoft數據訪問組件</span>），<span><a target="_top"  href="http://www.microsoft.com/data/">http://www.microsoft.com/data/</a></span>。它更正了Access在將數據導出至MySQL時存在的一個問題，未指定資料表名和列名。另一種解決該問題的方法是，升級到MyODBC 
				2.50.33和MySQL 3.23.x, 它們共同提供了避免該問題的一種方式。</p>
				<p>此外，您還應獲取並應用Microsoft Jet 4.0 
				Service Pack 5 (SP5)，可在下述地址找到它：<span><a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q239114">http://support.microsoft.com/default.aspx?scid=kb;EN-US;q239114</a></span>。它修正了某些情況下在Access中列被標注為「<span>#DELETED#<span >」</span>的問題。</span></p>
				<p>註釋： 如果您正使用MySQL 3.22，必須安裝MDAC補丁，並使用MyODBC 
				2.50.32或2.50.34或更高版本以解決該問題。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>對於所有版本的Access，應啟用「MyODBC返回匹配行」選項。對於Access 
				2.0，還應額外啟用「<span>模擬ODBC 1.0<span style="font-family:&quot;Times New Roman&quot;">」</span>選項</span>。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>
				在希望能夠更新的所有資料表中，均應有時間戳。為了獲得最大的可移植性，在列聲明中不要使用長度規範。也就是說，應使用<span>TIMESTAMP，而不是TIMESTAMP(<i>n</i>)</span>,
				<span><i>n</i></span> &lt; 14。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在資料表中應有1個主鍵。如不然，新的或更新的行可能會顯示為「<span>#DELETED#</span>」。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>僅應使用<span>DOUBLE浮點字段。</span>與單精度浮點進行比較時，Access將失敗。其徵兆是新的或更新的行可能會顯示為「<span>#DELETED#</span>」，或無法找到或更新行。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果您正使用MyODBC來連結到有BIGINT列的資料表，結果會顯示為「<span>#DELETED</span>」。排除它的解決方案是：<span>
				</span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>有1個以<span>TIMESTAMP作為數據類型的虛擬列。</span></p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在「ODBC DSN管理器」的連接對話框中選擇「將<span>BIGINT列更改為INT</span>」選項。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>刪除與Access的資料表連結，並重新建立它。</p>
				<p>舊記錄仍將顯示為「<span>#DELETED#</span>」，但新增／更新的記錄會恰當顯示。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="write-conflict"></a>
				26.1.11.6.&nbsp;如何處理寫衝突或行位置錯誤？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				如果看到下述錯誤，請在「DSN配置」對話框中選擇「返回匹配行」選項，或將連接參數指定為「<span>OPTION=2<span >」</span>。</span><pre>寫衝突。另一用戶更改了您的數據。</pre>
				<pre><span>&nbsp;</span></pre>
				<pre>無法找到需更新行的位置。自上次讀取操作以來，某些值可能已被改變。</pre>
				<h4 class="title"><a name="access97-export"></a>
				26.1.11.7.&nbsp;無論何時，當我從Access 97導出資料表時，出現陌生的語法錯誤</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				對於Access 97，這是件奇怪的事宜，但在Access 2000或2002中並未出現。將MyODBC升級至MyODBC 
				3.51.02或以上，可以克服該問題。<h4 class="title"><a name="modified-error"></a>
				26.1.11.8.&nbsp;編輯記錄時，Access返回「另一用戶更改了您修改的記錄」</h4></div></div></div>
				<p>對於某些程式，可能會出現該錯誤： 另一用戶更改了您所修改的記錄。在大多數情況下，可通過下述措施解決該問題： </p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果主鍵不存在，為資料表新增1個主鍵。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果時間戳不存在，新增1個時間戳列。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>僅應使用<span>DOUBLE浮點字段。</span>與單精度浮點值比較時，某些程式會出錯。</p>
				<p>如果這些措施未能解決問題，首先應從ODBC管理器生成1個日誌檔案（請求來自ODBC 
				ADMIN的日誌時獲得的日誌檔案），以及1個MyODBC日誌，使用它們找出出錯的原因。具體介紹，請參見<a href="connectors.html#myodbc-trace" title="26.1.9.7. Getting an ODBC Trace File">26.1.9.7節，「獲取ODBC跟蹤檔案」</a>。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="trapping-odbc-errors"></a>
				26.1.11.9.&nbsp;如何在Access中俘獲ODBC登錄錯誤消息？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				請閱讀「如何在Access中俘獲ODBC登錄錯誤消息」，<span><a target="_top"  href="http://support.microsoft.com/support/kb/articles/Q124/9/01.asp?LN=EN-US&SD=gn&FR=0%3CP%3E">http://support.microsoft.com/support/kb/articles/Q124/9/01.asp?LN=EN-US&amp;SD=gn&amp;FR=0%3CP%3E</a></span>。<h4 class="title"><a name="optimize-access"></a>
				26.1.11.10.&nbsp;如何最佳化Access與MyODBC一起工作的性能？</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;en-us;128808">
					最佳化客戶端／伺服器性能</a> </span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;en-us;164481">
					關於轉換應用程式以使用ODBCDirect的技巧</a></span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q99321">
					關於在所附的SQL資料表上最佳化查詢的技巧</a> </span></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="access-long-tables"></a>
				26.1.11.11.&nbsp;我有很長的資料表，MyODBC訪問這些Access資料表的最佳配置是什麼？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				如果在Access中有很大（長）的資料表，可能需要相當長的時間才能打開。或者，也可能是虛擬內存較低的情況下運行，最終導致ODBC查詢失敗錯誤，並無法打開資料表。為了解決該問題，可選擇下述選項： 
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>返回匹配行（2）</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>允許BIG結果（8） </p>
				<p>這樣可將值增加到10（<span>OPTION=10</span>）。</p>
				<h4 class="title"><a name="query-timeout"></a>
				26.1.11.12.&nbsp;如何為ODBC連接設置QueryTimeout值？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				請參閱「為ODBC連接設置<span class="quote">QueryTimeout值」，</span><span><a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb%3Ben-us%3B153756">http://support.microsoft.com/default.aspx?scid=kb%3Ben-us%3B153756</a></span>。<h4 class="title"><a name="mysql-tools-with-access"></a>
				26.1.11.13.&nbsp;INFO：用於Access和MySQL間導入/導出的工具</h4></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			關於可用工具列資料表，請參閱<span><a target="_top"  href="http://www.mysql.com/portal/software/convertors/">轉換器</a></span>一節。<h3 class="title"><a name="msvba"></a>
			26.1.12.&nbsp;MyODBC和Microsoft VBA及ASP</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#count-error">
				26.1.12.1. 為什麼SELECT COUNT(*) FROM tbl_na<em class="replaceable">me返回錯誤？</em></a></span></dt><dt><span class="section"><a href="connectors.html#chunk">
				26.1.12.2. 無論何時，當我使用AppendChunk()或GetChunk() 
				ADO方法時，遇到錯誤「多步操作導致錯誤，請檢查每個狀態值」<code class="literal"></code></a></span></dt><dt><span class="section"><a href="connectors.html#total-number-of-rows">
				26.1.12.3. 在ADO中如何發現受特定SQL語句影響的總行數？</a></span></dt><dt><span class="section"><a href="connectors.html#blob-article">
				26.1.12.4. 在Visual Basic中如何處理Blob數據？</a></span></dt><dt><span class="section"><a href="connectors.html#vb-types">
				26.1.12.5. 如何將Visual Basic的數據類型映射到MySQL類型？</a></span></dt><dt><span class="section"><a href="connectors.html#sample--vb">
				26.1.12.6. 示範：VB與ADO、DAO和RDO</a></span></dt><dt><span class="section"><a href="connectors.html#asp">
				26.1.12.7. ASP和MySQL以及MyODBC</a></span></dt><dt><span class="section"><a href="connectors.html#ado">
				26.1.12.8. INFO：關於ActiveX數據對像（ADO）的常見問題</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				在本節中，回答了與Microsoft Visual Basic(ADO, DAO &amp; RDO)和ASP一起使用MyODBC有關的問題。<h4 class="title"><a name="count-error"></a>
				26.1.12.1.&nbsp;為什麼SELECT COUNT(*) FROM tbl_na<em class="replaceable">me返回錯誤？</em></h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				這是因為<span>COUNT(*)資料表達式返回了</span>1個<span>BIGINT，</span>ADO不理解這個大值的含義。選擇「將<span>BIGINT列更改為INT<span >」</span>選項（</span>選項值16384）。<h4 class="title"><a name="chunk"></a>
				26.1.12.2.&nbsp;無論何時，當我使用AppendChunk()或GetChunk() 
				ADO方法時，遇到錯誤「多步操作導致錯誤，請檢查每個狀態值」<code class="literal"></code></h4></div></div></div>
				<p>將光標位置指定為adUseServer時，ADO的<span>GetChunk()</span>和<span>AppendChunk()</span>方法不能按預期的方式工作。從另一方面上講，可使用adUseClient克服該問題。</p>
				<p>在<span><a target="_top"  href="http://www.dwam.net/iishelp/ado/docs/adomth02_4.htm">http://www.dwam.net/iishelp/ado/docs/adomth02_4.htm</a></span>上給出了一個簡單示範。</p>
				<div class="titlepage">
					<div>
						<div>
							<h4 class="title"><a name="total-number-of-rows">
							</a>26.1.12.3.&nbsp;在ADO中如何發現受特定SQL語句影響的總行數？</h4></div>
					</div></div></div><div class="section"><div class="titlepage"><div><div>
				在ADO執行方法中使用<span>RecordsAffected屬性。</span>關於使用執行方法的更多訊息，請參見<span><a target="_top"  href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/ado270/htm/mdmthcnnexecute.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/ado270/htm/mdmthcnnexecute.asp</a></span>。<h4 class="title"><a name="blob-article"></a>
				26.1.12.4.&nbsp;在Visual Basic中如何處理Blob數據？</h4></div></div></div>
				<p>下面給出了Mike Hillyer（<span><a  href="mailto:m.hillyer@telusplanet.net">m.hillyer@telusplanet.net</a></span><span>）寫的一篇好文章，其中解釋了如何在ADO中通過MyODBC插入數據和／或從Blob列獲取數據的方法。</span><span><a target="_top"  href="http://www.dynamergy.com/mike/articles/blobaccessvb.html">MySQL 
				BLOB列和Visual Basic 6</a></span>。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="vb-types"></a>
				26.1.12.5.&nbsp;如何將Visual Basic的數據類型映射到MySQL類型？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				下面給出了Mike Hillyer（<span><a  href="mailto:m.hillyer@telusplanet.net">m.hillyer@telusplanet.net</a></span><span>）的另一篇好文章。</span><span><a target="_top"  href="http://www.dynamergy.com/mike/articles/vbmysqldatatypes.php">如何將Visual 
				basic數據類型映射為MySQL類型</a></span>。<h4 class="title"><a name="sample--vb"></a>
				26.1.12.6.&nbsp;示範：VB與ADO、DAO和RDO</h4></div></div></div>
				<p>下面給出了ADO、DAO和RDO與VB一起使用的用法示範： </p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>ADO示範： <a href="connectors.html#myodbc-with-vb" title="26.1.19. MyODBC With VB: ADO, DAO and RDO">
				26.1.19節，「MyODBC與VB：ADO、DAO和RDO」</a></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>DAO示範： <a href="connectors.html#myodbc-with-vb" title="26.1.19. MyODBC With VB: ADO, DAO and RDO">
				26.1.19節，「MyODBC與VB：ADO、DAO和RDO」</a></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>RDO示範： <a href="connectors.html#myodbc-with-vb" title="26.1.19. MyODBC With VB: ADO, DAO and RDO">
				26.1.19節，「MyODBC與VB：ADO、DAO和RDO」</a></p>
				<p>如果您有其他好的例子，或關於ADO/DAO/RDO的基本知識，請將詳情發送至<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a></span><span>。</span></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="asp"></a>
				26.1.12.7.&nbsp;ASP和MySQL以及MyODBC</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				關於如何使用MyODBC通過ASP訪問MySQL的更多訊息，請參閱下述文章： 
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				<a target="_top"  href="http://www.devarticles.com/c/a/ASP/Using-MyODBC-To-Access-Your-MySQL-Database-Via-ASP/">
				使用MyODBC通過ASP訪問您的MySQL資料庫</a> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>
				<a target="_top"  href="http://www.dwam.net/mysql/asp_myodbc.asp">
				ASP and MySQL at DWAM.NT</a> </span></p>
				<p>在<span><a target="_top"  href="http://support.microsoft.com/default.aspx?scid=/Support/ActiveServer/faq/data/adofaq.asp">http://support.microsoft.com/default.aspx?scid=/Support/ActiveServer/faq/data/adofaq.asp</a></span>中，給出了關於ASP的常見問題清單。</p>
				<h4 class="title"><a name="ado"></a>
				26.1.12.8.&nbsp;INFO：關於ActiveX數據對像（ADO）的常見問題</h4></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			更多訊息，請參見<span><a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q183606">ActiveX數據對像（ADO）常見問題</a></span>。<h3 class="title"><a name="tools"></a>
			26.1.13.&nbsp;MyODBC和第三方ODBC工具</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#doctoexcel">
				26.1.13.1. 如何將數據從MySQL提取到MS-Word/Excel文檔？</a></span></dt><dt><span class="section"><a href="connectors.html#msdts">
				26.1.13.2. 使用MyODBC將資料表從MS DTS導出到MySQL時出現語法錯誤</a></span></dt><dt><span class="section"><a href="connectors.html#howto-cf">26.1.13.3. 
				如何在Solaris平台上配置MySQL+MyODBC+unixODBC+ColdFusion</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				在本節中，回答了與MyODBC和各種ODBC相關工具有關的問題，如Microsoft Word、Excel和ColdFusion。<h4 class="title"><a name="doctoexcel"></a>
				26.1.13.1.&nbsp;如何將數據從MySQL提取到MS-Word/Excel文檔？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				要想將數據從MySQL提取到Word/Excel文檔，需要使用MyODBC驅動程式以及「Microsoft查詢幫助」插件。<p>
				例如，用含有兩列文本的資料表建立1個資料庫：<span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>使用<strong><span>mysql</span><span>客戶端</span></strong>命令行工具插入行。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>使用ODBC管理器建立1個DSN檔案，例如，針對剛建立資料庫的「my」。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>打開Word應用程式。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>建立1個新的空白文檔。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在資料庫工具欄上，按「插入資料庫」按鈕。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>按「獲取數據」按鈕。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在「獲取數據」屏幕右側，按「<span>Ms 
				Query</span>」按鈕。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>在「<span>Ms Query</span>」中使用「<span>my</span> 
				DSN」檔案建立1個新數據源。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>選擇新查詢。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>選擇打算使用的列。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果願意，建立1個過濾器。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>如果願意，建立1個分類。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>選擇「將數據返回到<span>Microsoft 
				Word</span>」。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>點擊「完成」。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>點擊「插入數據」並選擇記錄。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>點擊OK，在您的Word文檔中將看到插入的行。</p>
				<h4 class="title"><a name="msdts"></a>26.1.13.2.&nbsp;使用MyODBC將資料表從MS 
				DTS導出到MySQL時出現語法錯誤</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				這與當資料表由TEXT或VARCHAR數據類型構成時Access 97遇到的問題類似。通過將MyODBC驅動升級到3.51.02或更高版本，即可排除該錯誤。<h4 class="title"><a name="howto-cf"></a>26.1.13.3. 如何在Solaris平台上配置MySQL+MyODBC+unixODBC+ColdFusion</h4></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			請參見<span><a target="_top"  href="http://dbforums.com/showthread.php?threadid=174934">MySQL 
			ColdFusion unixODBC MyODBC和Solaris：如何成功</a> </span><h3 class="title"><a name="functionality"></a>
			26.1.14.&nbsp;MyODBC通用功能</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#odbc-and-last-insert-id">
				26.1.14.1. 如何在ODBC中獲取AUTO_INCREMENT列的值<code class="literal"></code></a></span></dt><dt><span class="section"><a href="connectors.html#dynamic-cursor">
				26.1.14.2. MyODBC支援動態光標類型嗎？</a></span></dt><dt><span class="section"><a href="connectors.html#transaction">
				26.1.14.3. 導致事務無法啟用錯誤的原因是什麼？</a></span></dt><dt><span class="section"><a href="connectors.html#nocursor">
				26.1.14.4. 導致無法找到光標錯誤的原因是什麼？</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-compatibility">
				26.1.14.5. 我能與MyODBC 3.51一起使用MyODBC 2.50應用程式嗎？</a></span></dt><dt><span class="section"><a href="connectors.html#myodbc-net">
				26.1.14.6. 我能使用MyODBC從.NET環境訪問MySQL嗎？</a></span></dt><dt><span class="section"><a href="connectors.html#performance">
				26.1.14.7. MyODBC的性能為什麼很差，對於相對較小的查詢也會導致大量的磁盤動作？</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				在本節中，回答了與MyODBC一般功能有關的問題。<h4 class="title"><a name="odbc-and-last-insert-id"></a>
				26.1.14.1.&nbsp;如何在ODBC中獲取AUTO_INCREMENT列的值<code class="literal"></code></h4></div></div></div><a class="indexterm" name="id3042336"></a>
				<p>
				一個常見問題是，如何獲取從INSERT語句自動生成的ID的值。使用ODBC，您可以作與以下示範類似的任何事（假定「auto」為<span>AUTO_INCREMENT字段）：</span>
				</p>
				<pre><span>INSERT INTO tbl (auto,text) VALUES(NULL,&#39;text&#39;);</span></pre>
				<pre><span>SELECT LAST_INSERT_ID();</span></pre>
				<p>或者，如果您僅打算將ID插入到另一資料表中，您可以：<span> </span></p>
				<pre><span>INSERT INTO tbl (auto,text) VALUES(NULL,&#39;text&#39;);</span></pre>
				<pre><span>INSERT INTO tbl2 (id,text) VALUES(LAST_INSERT_ID(),&#39;text&#39;);</span></pre>
				<p>請參見<a href="apis.html#getting-unique-id" title="25.2.13.3. How to Get the Unique ID for the Last Inserted Row">25.2.13.3節，「如何獲得上次插入行的唯一ID」</a>。</p>
				<p>為了使某些ODBC應用程式（至少是Delphi和Access）獲得更好的性能，可使用下述查詢來找到新插入的行：<span>
				</span></p>
				<pre><span>SELECT * FROM tbl WHERE auto IS NULL;</span></pre>
			</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamic-cursor"></a>
				26.1.14.2.&nbsp;MyODBC支援動態光標類型嗎？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				是。MyODBC 3.51支援動態光標類型以及正向和靜態特性。<p>
				由於性能方面的原因，在預設情況下，驅動程式不支援該特性。您可以啟用該特性，方法是，將連接選項標誌指定為「<span>OPTION=32<span >」</span>，或在</span>DSN配置中選中「啟用動態光標」選項。</p>
				<h4 class="title"><a name="transaction"></a>
				26.1.14.3.&nbsp;導致事務無法啟用錯誤的原因是什麼？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				當應用程式發出事務使用，但底層MySQL伺服器不支援事務或禁止事務時，驅動程式將返回該錯誤。<p>為了避免該問題，必須使用啟用了<span>InnoDB</span>或<span>BDB儲存引擎（或兩者）的伺服器，並使用這類資料表。</span>從4.0版以後，預設情況下，MySQL伺服器均支援<span>InnoDB</span>。在BDB可用的平台上，MySQL-Max伺服器也支援<span>BDB</span>。</p>
				<p>此外，如果您的伺服器支援事務資料表類型（<span>InnoDB和BDB），請確保在DSN配置中未設置</span>「禁止事務」選項。</p>
				<h4 class="title"><a name="nocursor"></a>26.1.14.4.&nbsp;導致無法找到光標錯誤的原因是什麼？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				這是因為應用程式正在使用舊的MyODBC 2.50版本，不能通過SQLSetCursorName明確設置光標名稱。更正它的方法是升級到MyODBC 
				3.51版。<h4 class="title"><a name="myodbc-compatibility"></a>
				26.1.14.5.&nbsp;我能與MyODBC 3.51一起使用MyODBC 2.50應用程式嗎？</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				是。如果您發現不能與MyODBC 3.51一起工作，但能與MyODBC 2.50一起工作的任何事項，請發送電子郵件至<span><a  href="mailto:myodbc@lists.mysql.com">myodbc@lists.mysql.com</a></span><span>。</span><h4 class="title"><a name="myodbc-net"></a>
				26.1.14.6.&nbsp;我能使用MyODBC從.NET環境訪問MySQL嗎？</h4></div></div></div>
				<p>是。您可以使用<strong><span>odbc.net</span></strong>，通過MyODBC連接到MySQL。這裡給出了一些從VC.NET和VB.NET連接到MySQL的基本示範。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>請參見<a href="connectors.html#odbc-net-op-c-sharp-cp" title="26.1.20.1. ODBC.NET: CSHARP(C#)">26.1.20.1節，「ODBC.NET: CSHARP(C#)」</a><span> </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>請參見<a href="connectors.html#odbc-net-op-vb-cp" title="26.1.20.2. ODBC.NET: VB">26.1.20.2節，「ODBC.NET: VB」</a><span> </span></p>
				<p>這裡給出了<strong><span>Venu</span></strong>（MyODBC開發人員）撰寫的另一篇好文章<span><a target="_top"  href="http://www.mysql.com/newsletter/2002-07/a0000000035.html">研究.NET環境下的MySQL</a></span>，其中，給出了所有的MySQL 
				.NET接口以及一些有用的例子。</p>
				<p>注意： 在與MyODBC一起使用ODBC.NET的過程中，在獲取空字串的同時（長度為0），將給出SQL_NO_DATA異常。從站點<span><a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q319243">http://support.microsoft.com/default.aspx?scid=kb;EN-US;q319243</a></span>，可獲取針對它的補丁。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="performance"></a>
				26.1.14.7.&nbsp;MyODBC的性能為什麼很差，對於相對較小的查詢也會導致大量的磁盤動作？</h4></div></div></div>
				<p>MyODBC比其他ODBC驅動程式快很多。緩慢可能是因未使用下述選項造成的： </p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>打開「ODBC跟蹤」選項。遵循<span><a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;268591">這裡</a></span>給出的指示說明，交叉檢查是否未啟用該選項。</p>
				<p><img src="images/mydsn-trace.png" alt="ODBC Tracing
              Tab"></p>
				<p>
				如上圖所示，「ODBC數據源管理器」「跟蹤」選項卡的「何時跟蹤」選項應始終指向「現在開始跟蹤」，而不是「現在停止跟蹤」。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>
				使用了驅動程式的調試版本。如果您正在使用驅動DLL的調試版本，也會使查詢處理變慢。您可以執行交叉檢查，通過驅動DLL屬性（在系統目錄下，右擊驅動DLL並點擊「屬性」）的「註釋」區，檢查DLL是否是調試版或發佈版，如下圖所示：<span>
				</span></p>
				<p><img src="images/mydll-properties.png" alt="DLL Properties Dialog"></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>
				啟用了「驅動跟蹤和查詢日誌」。即使您打算使用驅動程式的調試版（在生產環境下總應使用發佈版），也應確保禁止了「驅動跟蹤和查詢日誌」選項（OPTION=4,524288），如下圖所示：<span>
				</span></p>
				<p><img src="images/mydsn-options.png" alt="MyODBC Options Dialog"></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="basic-myodbc-application-steps"></a>
		26.1.15.&nbsp;基本的MyODBC應用步驟</h3></div></div></div><div class="mediaobject">
				從MyODBC應用程式執行的與MySQL伺服器的交互包含以下操作： 
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>配置MyODBC DSN。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>連接到MySQL伺服器。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>初始化操作。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>執行SQL語句。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>檢索結果。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>執行事務。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>中斷與伺服器的連接。</p>
				<p>大多數應用程式均使用了這些步驟的某些變體。在下圖中，給出了基本的應用步驟： </p>
				<img src="images/myflowchart.png" alt="MyODBC Programming Flowchart"></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-api-reference"></a>
		26.1.16.&nbsp;MyODBC API引用</h3></div></div></div>
			<p>在本節中，概要介紹了按功能分類的ODBC子程式。</p>
			<p>關於全部ODBC API參考，請參見ODBC程式員參考，<span><a target="_top"  href="http://msdn.microsoft.com/library/en-us/odbc/htm/odbcabout_this_manual.asp">http://msdn.microsoft.com/library/en-us/odbc/htm/odbcabout_this_manual.asp</a></span>。</p>
			<p>應用程式可以使用<span>SQLGetInfo函數來獲得關於</span>MyODBC的一致性訊息。為了獲得驅動程式對特定函數的支援訊息，應用程式可使用<span>SQLGetFunctions</span>。</p>
			<p>註釋： 為了向後兼容，MyODBC 3.51驅動程式支援所有已不使用的函數。</p>
			<p>在下面的資料表各中，按任務分組列出了MyODBC API使用：<span> </span></p>
			<p><b>連接到數據源：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table4">
				<tr>
					<td>
					<p><b>函數名</b></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><b>一致性</b></td>
					<td>
					<p><b>目的</b></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLAllocHandle</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>獲取環境、連接、語句或描述符句柄。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLConnect</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>按數據源名、用戶ID和密碼連接到特定驅動程式。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLDriverConnect</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>通過連接字串，或驅動管理器和驅動顯示對話框發出的請求，連接到特定驅動程式。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLAllocEnv</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>獲得驅動程式分配的環境句柄。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLAllocConnect</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>獲取連接句柄。</td>
				</tr>
			</table>
			<p><b>獲取關於驅動程式和數據源的訊息：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table5">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLDataSources</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回可用數據源的列資料表，由驅動管理器處理。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLDrivers</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>返回已安裝驅動程式和器屬性的列資料表，由驅動管理器處理。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetInfo</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回關於特定驅動程式和數據源的訊息。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetFunctions</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回支援的驅動函數。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetTypeInfo</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回關於所支援數據類型的訊息。</td>
				</tr>
			</table>
			<p><b>設置並檢索驅動屬性：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table6">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLSetConnectAttr</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>設置連接屬性。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetConnectAttr</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回連接屬性的值。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLSetConnectOption</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>設置連接選項。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetConnectOption</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>返回連接選項的值。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLSetEnvAttr</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>設置環境屬性。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetEnvAttr</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返迴環境屬性的值。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLSetStmtAttr</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>設置語句屬性。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetStmtAttr</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回語句屬性的值。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLSetStmtOption</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>設置語句選項。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetStmtOption</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>返回語句選項的值。</td>
				</tr>
			</table>
			<p><b>準備SQL請求：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table7">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLAllocStmt</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>分配語句句柄。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLPrepare</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>準備隨後執行的SQL語句。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLBindParameter</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>為SQL語句中的參數分配儲存器。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetCursorName</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回與語句句柄相關的光標名。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLSetCursorName</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>指定光標名。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLSetScrollOptions</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>設置控制光標行為的選項。</td>
				</tr>
			</table>
			<p><b>提交請求：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table8">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLExecute</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>執行準備好的語句。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLExecDirect</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>執行語句。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLNativeSql</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>返回由驅動程式翻譯的SQL語句的文本。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLDescribeParam</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>返回語句中特定參數的描述。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLNumParams</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回語句中的參數數目。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLParamData</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>與<span>SQLPutData一起使用，以便在執行時提供參數</span>。（對於長數據值很有用）。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLPutData</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>發送某一參數數據值的部分或全部。（對於長數據值很有用）。</td>
				</tr>
			</table>
			<p><b>檢索結果以及關於結果的訊息：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table9">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLRowCount</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回插入、更新或刪除請求影響的行數。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLNumResultCols</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回結果集中的列數。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLDescribeCol</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>描述結果集中的列。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLColAttribute</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>描述結果集中的某1列的屬性。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLColAttributes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>描述結果集中的某1列的多個屬性。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLFetch</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回多個結果行。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLFetchScroll</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回可滾動結果行。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLExtendedFetch</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>返回可滾動結果行。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLSetPos</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>
					將光標定為在獲取的數據塊中，允許應用程式更新行集合中的數據，或更新或刪除結果集中的數據。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLBulkOperations</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>執行批量插入和批量書籤操作，包括更新、刪除和按書籤獲取。</td>
				</tr>
			</table>
			<p><b>檢索錯誤和診斷訊息：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table10">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLError</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>返回額外的錯誤或狀態訊息。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetDiagField</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回額外的診斷訊息（診斷性數據結構的單個字段）。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLGetDiagRec</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回額外的診斷訊息（診斷性數據結構的多個字段）。</td>
				</tr>
			</table>
			<p><b>獲取關於數據源的系統資料表（目錄函數）條目的訊息：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table11">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLColumnPrivileges</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>返回關於一個或多個資料表的列和相關屬性的列資料表。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLColumns</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>X/Open</span></td>
					<td>
					<p>返回指定資料表中列名的列資料表。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLForeignKeys</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>在指定資料表中如果存在外部鍵，返回構成外部鍵的列名列資料表。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLPrimaryKeys</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>返回構成某1資料表的主鍵的列名列資料表。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLSpecialColumns</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>X/Open</span></td>
					<td>
					<p>
					返回關於最佳列集合的訊息，該列集合唯一地指明了指定資料表中的行，或當某1事務更新了行中的任何值時自動更新的列。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLStatistics</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>返回關於單個資料表的統計訊息，以及與資料表相關的索引列資料表。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLTablePrivileges</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ODBC</span></td>
					<td>
					<p>返回資料表列資料表，以及與各資料表相關的權限。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLTables</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>X/Open</span></td>
					<td>
					<p>返回儲存在特定數據源內的資料表名列資料表。</td>
				</tr>
			</table>
			<p><b>執行事務：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table12">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLTransact</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>提交或回滾事務。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLEndTran</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>提交或回滾事務。</td>
				</tr>
			</table>
			<p><b>中止語句：</b><span> </span></p>
			<table border="1" cellpadding="0" id="table13">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLFreeStmt</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>結束語句處理，捨棄未決結果，並釋放與語句句柄相關的所有資源（可選）。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLCloseCursor</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>關閉在語句句柄上打開的指針。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLCancel</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>取消SQL語句。</td>
				</tr>
			</table>
			<p><strong><span>中止連接：</span></strong><span>
			</span></p>
			<table border="1" cellpadding="0" id="table14">
				<tr>
					<td>
					<p><strong><span>
					函數名</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong>
					<span>MyODBC</span></strong></td>
					<td>
					<p><strong><span>
					一致性</span></strong></td>
					<td>
					<p><strong><span>
					目的</span></strong></td>
				</tr>
				<tr>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><strong>
					<span>2.50</span></strong></td>
					<td>
					<p><strong>
					<span>3.51</span></strong></td>
					<td>
					<p><span>&nbsp;</span></td>
					<td>
					<p><span>&nbsp;</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLDisconnect</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>關閉連接。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLFreeHandle</span></td>
					<td>
					<p><span>No</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>ISO 92</span></td>
					<td>
					<p>釋放環境、連接、語句或描述符句柄。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLFreeConnect</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>釋放連接句柄。</td>
				</tr>
				<tr>
					<td>
					<p>
					<span>SQLFreeEnv</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Yes</span></td>
					<td>
					<p><span>Deprecated</span></td>
					<td>
					<p>釋放連接句柄。</td>
				</tr>
			</table>
		</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-data-types"></a>
		26.1.17.&nbsp;MyODBC數據類型</h3></div></div></div>
			<p>在下資料表中，介紹了驅動程式將伺服器數據類型映射為預設SQL和C數據類型的方法： </p>
			<table border="1" cellpadding="0" id="table15">
				<tr>
					<td>
					<p><b>值</b></td>
					<td>
					<p><b>SQL類型</b></td>
					<td>
					<p><b>C類型</b></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>bit</span></td>
					<td>
					<p>
					<span>SQL_BIT</span></td>
					<td>
					<p>
					<span>SQL_C_BIT</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>tinyint</span></td>
					<td>
					<p>
					<span>SQL_TINYINT</span></td>
					<td>
					<p>
					<span>SQL_C_STINYINT</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>tinyint unsigned</span></td>
					<td>
					<p>
					<span>SQL_TINYINT</span></td>
					<td>
					<p>
					<span>SQL_C_UTINYINT</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>bigint</span></td>
					<td>
					<p>
					<span>SQL_BIGINT</span></td>
					<td>
					<p>
					<span>SQL_C_SBIGINT</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>bigint unsigned</span></td>
					<td>
					<p>
					<span>SQL_BIGINT</span></td>
					<td>
					<p>
					<span>SQL_C_UBIGINT</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>long varbinary</span></td>
					<td>
					<p>
					<span>SQL_LONGVARBINARY</span></td>
					<td>
					<p>
					<span>SQL_C_BINARY</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>blob</span></td>
					<td>
					<p>
					<span>SQL_LONGVARBINARY</span></td>
					<td>
					<p>
					<span>SQL_C_BINARY</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>longblob</span></td>
					<td>
					<p>
					<span>SQL_LONGVARBINARY</span></td>
					<td>
					<p>
					<span>SQL_C_BINARY</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>tinyblob</span></td>
					<td>
					<p>
					<span>SQL_LONGVARBINARY</span></td>
					<td>
					<p>
					<span>SQL_C_BINARY</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>mediumblob</span></td>
					<td>
					<p>
					<span>SQL_LONGVARBINARY</span></td>
					<td>
					<p>
					<span>SQL_C_BINARY</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>long varchar</span></td>
					<td>
					<p>
					<span>SQL_LONGVARCHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>text</span></td>
					<td>
					<p>
					<span>SQL_LONGVARCHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>mediumtext</span></td>
					<td>
					<p>
					<span>SQL_LONGVARCHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>char</span></td>
					<td>
					<p>
					<span>SQL_CHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>numeric</span></td>
					<td>
					<p>
					<span>SQL_NUMERIC</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>decimal</span></td>
					<td>
					<p>
					<span>SQL_DECIMAL</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>integer</span></td>
					<td>
					<p>
					<span>SQL_INTEGER</span></td>
					<td>
					<p>
					<span>SQL_C_SLONG</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>integer unsigned</span></td>
					<td>
					<p>
					<span>SQL_INTEGER</span></td>
					<td>
					<p>
					<span>SQL_C_ULONG</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>int</span></td>
					<td>
					<p>
					<span>SQL_INTEGER</span></td>
					<td>
					<p>
					<span>SQL_C_SLONG</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>int unsigned</span></td>
					<td>
					<p>
					<span>SQL_INTEGER</span></td>
					<td>
					<p>
					<span>SQL_C_ULONG</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>mediumint</span></td>
					<td>
					<p>
					<span>SQL_INTEGER</span></td>
					<td>
					<p>
					<span>SQL_C_SLONG</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>mediumint unsigned</span></td>
					<td>
					<p>
					<span>SQL_INTEGER</span></td>
					<td>
					<p>
					<span>SQL_C_ULONG</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>smallint</span></td>
					<td>
					<p>
					<span>SQL_SMALLINT</span></td>
					<td>
					<p>
					<span>SQL_C_SSHORT</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>smallint unsigned</span></td>
					<td>
					<p>
					<span>SQL_SMALLINT</span></td>
					<td>
					<p>
					<span>SQL_C_USHORT</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>real</span></td>
					<td>
					<p>
					<span>SQL_FLOAT</span></td>
					<td>
					<p>
					<span>SQL_C_DOUBLE</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>double</span></td>
					<td>
					<p>
					<span>SQL_FLOAT</span></td>
					<td>
					<p>
					<span>SQL_C_DOUBLE</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>float</span></td>
					<td>
					<p>
					<span>SQL_REAL</span></td>
					<td>
					<p>
					<span>SQL_C_FLOAT</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>double precision</span></td>
					<td>
					<p>
					<span>SQL_DOUBLE</span></td>
					<td>
					<p>
					<span>SQL_C_DOUBLE</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>date</span></td>
					<td>
					<p>
					<span>SQL_DATE</span></td>
					<td>
					<p>
					<span>SQL_C_DATE</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>time</span></td>
					<td>
					<p>
					<span>SQL_TIME</span></td>
					<td>
					<p>
					<span>SQL_C_TIME</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>year</span></td>
					<td>
					<p>
					<span>SQL_SMALLINT</span></td>
					<td>
					<p>
					<span>SQL_C_SHORT</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>datetime</span></td>
					<td>
					<p>
					<span>SQL_TIMESTAMP</span></td>
					<td>
					<p>
					<span>SQL_C_TIMESTAMP</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>timestamp</span></td>
					<td>
					<p>
					<span>SQL_TIMESTAMP</span></td>
					<td>
					<p>
					<span>SQL_C_TIMESTAMP</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>text</span></td>
					<td>
					<p>
					<span>SQL_VARCHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>varchar</span></td>
					<td>
					<p>
					<span>SQL_VARCHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>enum</span></td>
					<td>
					<p>
					<span>SQL_VARCHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>set</span></td>
					<td>
					<p>
					<span>SQL_VARCHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>bit</span></td>
					<td>
					<p>
					<span>SQL_CHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
				<tr>
					<td>
					<p>
					<span>bool</span></td>
					<td>
					<p>
					<span>SQL_CHAR</span></td>
					<td>
					<p>
					<span>SQL_C_CHAR</span></td>
				</tr>
			</table>
		</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-error-codes"></a>
		26.1.18.&nbsp;MyODBC錯誤代碼</h3></div></div></div>
			<p>在下資料表中，列出了驅動程式返回的除伺服器錯誤之外的錯誤代碼列資料表： </p>
			<table border="1" cellpadding="0" id="table16">
				<tr>
					<td>
					<p><b>本機代碼</b></td>
					<td>
					<p><strong>
					<span>SQLSTATE 2</span></strong></td>
					<td>
					<p><strong>
					<span>SQLSTATE 3</span></strong></td>
					<td>
					<p><b>錯誤消息</b></td>
				</tr>
				<tr>
					<td>
					<p><span>500</span></td>
					<td>
					<p><span>01000</span></td>
					<td>
					<p><span>01000</span></td>
					<td>
					<p>一般警告</td>
				</tr>
				<tr>
					<td>
					<p><span>501</span></td>
					<td>
					<p><span>01004</span></td>
					<td>
					<p><span>01004</span></td>
					<td>
					<p>字串數據，右截</td>
				</tr>
				<tr>
					<td>
					<p><span>502</span></td>
					<td>
					<p><span>01S02</span></td>
					<td>
					<p><span>01S02</span></td>
					<td>
					<p>選項值被更改</td>
				</tr>
				<tr>
					<td>
					<p><span>503</span></td>
					<td>
					<p><span>01S03</span></td>
					<td>
					<p><span>01S03</span></td>
					<td>
					<p>未更新／刪除行</td>
				</tr>
				<tr>
					<td>
					<p><span>504</span></td>
					<td>
					<p><span>01S04</span></td>
					<td>
					<p><span>01S04</span></td>
					<td>
					<p>更新／刪除了1個以上的行</td>
				</tr>
				<tr>
					<td>
					<p><span>505</span></td>
					<td>
					<p><span>01S06</span></td>
					<td>
					<p><span>01S06</span></td>
					<td>
					<p>在結果集合返回第1個行集合之前視圖獲取數據。</td>
				</tr>
				<tr>
					<td>
					<p><span>506</span></td>
					<td>
					<p><span>07001</span></td>
					<td>
					<p><span>07002</span></td>
					<td>
					<p><span>
					對於所有參數，未使用SQLBindParameter</span>。</td>
				</tr>
				<tr>
					<td>
					<p><span>507</span></td>
					<td>
					<p><span>07005</span></td>
					<td>
					<p><span>07005</span></td>
					<td>
					<p>精製語句不符合光標規範</td>
				</tr>
				<tr>
					<td>
					<p><span>508</span></td>
					<td>
					<p><span>07009</span></td>
					<td>
					<p><span>07009</span></td>
					<td>
					<p>無效的描述符索引。</td>
				</tr>
				<tr>
					<td>
					<p><span>509</span></td>
					<td>
					<p><span>08002</span></td>
					<td>
					<p><span>08002</span></td>
					<td>
					<p>連接名正在使用。</td>
				</tr>
				<tr>
					<td>
					<p><span>510</span></td>
					<td>
					<p><span>08003</span></td>
					<td>
					<p><span>08003</span></td>
					<td>
					<p>連接不存在。</td>
				</tr>
				<tr>
					<td>
					<p><span>511</span></td>
					<td>
					<p><span>24000</span></td>
					<td>
					<p><span>24000</span></td>
					<td>
					<p>無效的光標狀態。</td>
				</tr>
				<tr>
					<td>
					<p><span>512</span></td>
					<td>
					<p><span>25000</span></td>
					<td>
					<p><span>25000</span></td>
					<td>
					<p>無效的事務狀態。</td>
				</tr>
				<tr>
					<td>
					<p><span>513</span></td>
					<td>
					<p>25S01</td>
					<td>
					<p>25S01</td>
					<td>
					<p>事務狀態未知。</td>
				</tr>
				<tr>
					<td>
					<p><span>514</span></td>
					<td>
					<p><span>34000</span></td>
					<td>
					<p><span>34000</span></td>
					<td>
					<p>無效光標名。</td>
				</tr>
				<tr>
					<td>
					<p><span>515</span></td>
					<td>
					<p><span>S1000</span></td>
					<td>
					<p><span>HY000</span></td>
					<td>
					<p>一般的驅動程式定義錯誤。</td>
				</tr>
				<tr>
					<td>
					<p><span>516</span></td>
					<td>
					<p><span>S1001</span></td>
					<td>
					<p><span>HY001</span></td>
					<td>
					<p>內存分配錯誤。</td>
				</tr>
				<tr>
					<td>
					<p><span>517</span></td>
					<td>
					<p><span>S1002</span></td>
					<td>
					<p><span>HY002</span></td>
					<td>
					<p>無效的列編號。</td>
				</tr>
				<tr>
					<td>
					<p><span>518</span></td>
					<td>
					<p><span>S1003</span></td>
					<td>
					<p><span>HY003</span></td>
					<td>
					<p>無效的應用緩衝類型。</td>
				</tr>
				<tr>
					<td>
					<p><span>519</span></td>
					<td>
					<p><span>S1004</span></td>
					<td>
					<p><span>HY004</span></td>
					<td>
					<p>無效的SQL數據類型。</td>
				</tr>
				<tr>
					<td>
					<p><span>520</span></td>
					<td>
					<p><span>S1009</span></td>
					<td>
					<p><span>HY009</span></td>
					<td>
					<p>空指針的無效使用。</td>
				</tr>
				<tr>
					<td>
					<p><span>521</span></td>
					<td>
					<p><span>S1010</span></td>
					<td>
					<p><span>HY010</span></td>
					<td>
					<p>函數順序錯誤。</td>
				</tr>
				<tr>
					<td>
					<p><span>522</span></td>
					<td>
					<p><span>S1011</span></td>
					<td>
					<p><span>HY011</span></td>
					<td>
					<p>現在無法設置屬性。</td>
				</tr>
				<tr>
					<td>
					<p><span>523</span></td>
					<td>
					<p><span>S1012</span></td>
					<td>
					<p><span>HY012</span></td>
					<td>
					<p>無效的事務操作碼。</td>
				</tr>
				<tr>
					<td>
					<p><span>524</span></td>
					<td>
					<p><span>S1013</span></td>
					<td>
					<p><span>HY013</span></td>
					<td>
					<p>內存管理錯誤。</td>
				</tr>
				<tr>
					<td>
					<p><span>525</span></td>
					<td>
					<p><span>S1015</span></td>
					<td>
					<p><span>HY015</span></td>
					<td>
					<p>無可用的光標名。</td>
				</tr>
				<tr>
					<td>
					<p><span>526</span></td>
					<td>
					<p><span>S1024</span></td>
					<td>
					<p><span>HY024</span></td>
					<td>
					<p>無效的屬性值。</td>
				</tr>
				<tr>
					<td>
					<p><span>527</span></td>
					<td>
					<p><span>S1090</span></td>
					<td>
					<p><span>HY090</span></td>
					<td>
					<p>無效字串或緩衝長度。</td>
				</tr>
				<tr>
					<td>
					<p><span>528</span></td>
					<td>
					<p><span>S1091</span></td>
					<td>
					<p><span>HY091</span></td>
					<td>
					<p>無效的描述符字段標識符。</td>
				</tr>
				<tr>
					<td>
					<p><span>529</span></td>
					<td>
					<p><span>S1092</span></td>
					<td>
					<p><span>HY092</span></td>
					<td>
					<p>無效的屬性／選項標識符。</td>
				</tr>
				<tr>
					<td>
					<p><span>530</span></td>
					<td>
					<p><span>S1093</span></td>
					<td>
					<p><span>HY093</span></td>
					<td>
					<p>無效的參數編號。</td>
				</tr>
				<tr>
					<td>
					<p><span>531</span></td>
					<td>
					<p><span>S1095</span></td>
					<td>
					<p><span>HY095</span></td>
					<td>
					<p>函數類型超出範圍。</td>
				</tr>
				<tr>
					<td>
					<p><span>532</span></td>
					<td>
					<p><span>S1106</span></td>
					<td>
					<p><span>HY106</span></td>
					<td>
					<p>獲取類型超出範圍。</td>
				</tr>
				<tr>
					<td>
					<p><span>533</span></td>
					<td>
					<p><span>S1117</span></td>
					<td>
					<p><span>HY117</span></td>
					<td>
					<p>行值超出範圍。</td>
				</tr>
				<tr>
					<td>
					<p><span>534</span></td>
					<td>
					<p><span>S1109</span></td>
					<td>
					<p><span>HY109</span></td>
					<td>
					<p>無效的光標位置。</td>
				</tr>
				<tr>
					<td>
					<p><span>535</span></td>
					<td>
					<p><span>S1C00</span></td>
					<td>
					<p><span>HYC00</span></td>
					<td>
					<p>可選特性未實施。</td>
				</tr>
				<tr>
					<td>
					<p><span>0</span></td>
					<td>
					<p><span>21S01</span></td>
					<td>
					<p><span>21S01</span></td>
					<td>
					<p>列計數與值計數不匹配。</td>
				</tr>
				<tr>
					<td>
					<p><span>0</span></td>
					<td>
					<p><span>23000</span></td>
					<td>
					<p><span>23000</span></td>
					<td>
					<p>完整性約束違反。</td>
				</tr>
				<tr>
					<td>
					<p><span>0</span></td>
					<td>
					<p><span>42000</span></td>
					<td>
					<p><span>42000</span></td>
					<td>
					<p>語法錯誤或訪問衝突。</td>
				</tr>
				<tr>
					<td>
					<p><span>0</span></td>
					<td>
					<p><span>42S02</span></td>
					<td>
					<p><span>42S02</span></td>
					<td>
					<p>未發現基本資料表或視圖。</td>
				</tr>
				<tr>
					<td>
					<p><span>0</span></td>
					<td>
					<p><span>42S12</span></td>
					<td>
					<p><span>42S12</span></td>
					<td>
					<p>未發現索引。</td>
				</tr>
				<tr>
					<td>
					<p><span>0</span></td>
					<td>
					<p><span>42S21</span></td>
					<td>
					<p><span>42S21</span></td>
					<td>
					<p>列已存在。</td>
				</tr>
				<tr>
					<td>
					<p><span>0</span></td>
					<td>
					<p><span>42S22</span></td>
					<td>
					<p><span>42S22</span></td>
					<td>
					<p>未發現列。</td>
				</tr>
				<tr>
					<td>
					<p><span>0</span></td>
					<td>
					<p><span>08S01</span></td>
					<td>
					<p><span>08S01</span></td>
					<td>
					<p>通信連結失敗。</td>
				</tr>
			</table>
		</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-with-vb"></a>
		26.1.19.&nbsp;MyODBC與VB：ADO、DAO和RDO</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#ado--rs-addnew">
				26.1.19.1. ADO: rs.addNew, 
				rs.delete和rs.update</a></span></dt><dt><span class="section"><a href="connectors.html#dao--rs-addnew">
				26.1.19.2. DAO: rs.addNew, 
				rs.update和滾動</a></span></dt><dt><span class="section"><a href="connectors.html#rdo--rs-addnew-and-rs-update">26.1.19.3. 
				RDO: rs.addNew和rs.update</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				在本節中，給出了MySQL ODBC 3.51驅動程式與ADO、DAO和RDO一起使用的一些簡單示範。<h4 class="title"><a name="ado--rs-addnew"></a>
				26.1.19.1.&nbsp;ADO: rs.addNew, 
				rs.delete和rs.update</h4></div></div></div>
				<p>在下面的ADO（ActiveX數據對像）示範中，建立了資料表<span>my_ado，並演示了rs.addNew</span>、<span>rs.delete</span>和<span>rs.update</span>的用法。</p>
				<pre><span>Private Sub myodbc_ado_Click()</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>Dim conn As ADODB.Connection</span></pre>
				<pre><span>Dim rs As ADODB.Recordset</span></pre>
				<pre><span>Dim fld As ADODB.Field</span></pre>
				<pre><span>Dim sql As String</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre>&#39;connect to MySQL server using MySQL ODBC 3.51 Driver（使用MySQL ODBC 3.51驅動程式連接到MySQL伺服器）</pre>
				<pre><span>Set conn = New ADODB.Connection</span></pre>
				<pre><span>conn.ConnectionString = &quot;DRIVER={MySQL ODBC 3.51 Driver};&quot;_</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot;SERVER=localhost;&quot;_</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot; DATABASE=test;&quot;_</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot;UID=venu;PWD=venu; OPTION=3&quot;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>conn.Open</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre>&#39;create table（建立資料表）</pre>
				<pre><span>conn.Execute &quot;DROP TABLE IF EXISTS my_ado&quot;</span></pre>
				<pre><span>conn.Execute &quot;CREATE TABLE my_ado(id int not null primary key, name varchar(20),&quot; _</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot;txt text, dt date, tm time, ts timestamp)&quot;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre>&#39;direct insert（直接插入）</pre>
				<pre><span>conn.Execute &quot;INSERT INTO my_ado(id,name,txt) values(1,100,&#39;venu&#39;)&quot;</span></pre>
				<pre><span>conn.Execute &quot;INSERT INTO my_ado(id,name,txt) values(2,200,&#39;MySQL&#39;)&quot;</span></pre>
				<pre><span>conn.Execute &quot;INSERT INTO my_ado(id,name,txt) values(3,300,&#39;Delete&#39;)&quot;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>Set rs = New ADODB.Recordset</span></pre>
				<pre><span>rs.CursorLocation = adUseServer</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;fetch the initial table ..</span>（獲取初始資料表…）</pre>
				<pre><span>rs.Open &quot;SELECT * FROM my_ado&quot;, conn</span></pre>
				<pre><span>&nbsp; Debug.Print rs.RecordCount</span></pre>
				<pre><span>&nbsp; rs.MoveFirst</span></pre>
				<pre><span>&nbsp; Debug.Print String(50, &quot;-&quot;) &amp; &quot;Initial my_ado Result Set &quot; &amp; String(50, &quot;-&quot;)</span></pre>
				<pre><span>&nbsp; For Each fld In rs.Fields</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Debug.Print fld.Name,</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Next</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Debug.Print</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Do Until rs.EOF</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; For Each fld In rs.Fields</span></pre>
				<pre><span>&nbsp; &nbsp;&nbsp;Debug.Print fld.Value,</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Next</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; rs.MoveNext</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Debug.Print</span></pre>
				<pre><span>&nbsp; Loop</span></pre>
				<pre><span>rs.Close</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;rs insert</span>（<span>rs</span>插入）</pre>
				<pre><span>rs.Open &quot;select * from my_ado&quot;, conn, adOpenDynamic, adLockOptimistic</span></pre>
				<pre><span>rs.AddNew</span></pre>
				<pre><span>rs!Name = &quot;Monty&quot;</span></pre>
				<pre><span>rs!txt = &quot;Insert row&quot;</span></pre>
				<pre><span>rs.Update</span></pre>
				<pre><span>rs.Close</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;rs update</span>（<span>rs</span>更新）</pre>
				<pre><span>rs.Open &quot;SELECT * FROM my_ado&quot;</span></pre>
				<pre><span>rs!Name = &quot;update&quot;</span></pre>
				<pre><span>rs!txt = &quot;updated-row&quot;</span></pre>
				<pre><span>rs.Update</span></pre>
				<pre><span>rs.Close</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;rs update second time..</span>（<span>rs</span>更新第<span>2</span>次…）</pre>
				<pre><span>rs.Open &quot;SELECT * FROM my_ado&quot;</span></pre>
				<pre><span>rs!Name = &quot;update&quot;</span></pre>
				<pre><span>rs!txt = &quot;updated-second-time&quot;</span></pre>
				<pre><span>rs.Update</span></pre>
				<pre><span>rs.Close</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;rs delete</span>（<span>rs</span>刪除）</pre>
				<pre><span>rs.Open &quot;SELECT * FROM my_ado&quot;</span></pre>
				<pre><span>rs.MoveNext</span></pre>
				<pre><span>rs.MoveNext</span></pre>
				<pre><span>rs.Delete</span></pre>
				<pre><span>rs.Close</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;fetch the updated table ..</span>（獲取更新的資料表…）</pre>
				<pre><span>rs.Open &quot;SELECT * FROM my_ado&quot;, conn</span></pre>
				<pre><span>&nbsp; Debug.Print rs.RecordCount</span></pre>
				<pre><span>&nbsp; rs.MoveFirst</span></pre>
				<pre><span>&nbsp; Debug.Print String(50, &quot;-&quot;) &amp; &quot;Updated my_ado Result Set &quot; &amp; String(50, &quot;-&quot;)</span></pre>
				<pre><span>&nbsp; For Each fld In rs.Fields</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Debug.Print fld.Name,</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Next</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Debug.Print</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Do Until rs.EOF</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; For Each fld In rs.Fields</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Debug.Print fld.Value,</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Next</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; rs.MoveNext</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; Debug.Print</span></pre>
				<pre><span>&nbsp; Loop</span></pre>
				<pre><span>rs.Close</span></pre>
				<pre><span>conn.Close</span></pre>
				<pre><span>End Sub</span></pre>
			</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dao--rs-addnew"></a>
				26.1.19.2.&nbsp;DAO: rs.addNew, 
				rs.update和滾動</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				在下面的DAO（數據訪問對像）示範中，建立了資料表<span>my_dao，並演示了rs.addNew</span>、<span>rs.update</span>、以及結果集滾動的用法。<pre><span>Private Sub myodbc_dao_Click()</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>Dim ws As Workspace</span></pre>
				<pre><span>Dim conn As Connection</span></pre>
				<pre><span>Dim queryDef As queryDef</span></pre>
				<pre><span>Dim str As String</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre>&#39;connect to MySQL server using MySQL ODBC 3.51 Driver（使用MySQL ODBC 3.51驅動程式連接到MySQL）</pre>
				<pre><span>Set ws = DBEngine.CreateWorkspace(&quot;&quot;, &quot;venu&quot;, &quot;venu&quot;, dbUseODBC)</span></pre>
				<pre><span>str = &quot;odbc;DRIVER={MySQL ODBC 3.51 Driver};&quot;_</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot;SERVER=localhost;&quot;_</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot; DATABASE=test;&quot;_</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot;UID=venu;PWD=venu; OPTION=3&quot;</span></pre>
				<pre><span>Set conn = ws.OpenConnection(&quot;test&quot;, dbDriverNoPrompt, False, str)</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;Create table my_dao</span>（建立資料表<span>my_dao</span>）</pre>
				<pre><span>Set queryDef = conn.CreateQueryDef(&quot;&quot;, &quot;drop table if exists my_dao&quot;)</span></pre>
				<pre><span>queryDef.Execute</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>Set queryDef = conn.CreateQueryDef(&quot;&quot;, &quot;create table my_dao(Id INT AUTO_INCREMENT PRIMARY KEY, &quot; _</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot;Ts TIMESTAMP(14) NOT NULL, Name varchar(20), Id2 INT)&quot;)</span></pre>
				<pre><span>queryDef.Execute</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;Insert new records using rs.addNew</span>（使用<span>rs.addNew</span>插入新記錄）</pre>
				<pre><span>Set rs = conn.OpenRecordset(&quot;my_dao&quot;)</span></pre>
				<pre><span>Dim i As Integer</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp; For i = 10 To 15</span></pre>
				<pre><span>&nbsp; rs.AddNew</span></pre>
				<pre><span>&nbsp; rs!Name = &quot;insert record&quot; &amp; i</span></pre>
				<pre><span>&nbsp; rs!Id2 = i</span></pre>
				<pre><span>&nbsp; rs.Update</span></pre>
				<pre><span>&nbsp; Next i</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rs.Close</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;rs update..</span>（<span>rs</span>更新）</pre>
				<pre><span>Set rs = conn.OpenRecordset(&quot;my_dao&quot;)</span></pre>
				<pre><span>rs.Edit</span></pre>
				<pre><span>rs!Name = &quot;updated-string&quot;</span></pre>
				<pre><span>rs.Update</span></pre>
				<pre><span>rs.Close</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;fetch the table back...</span>（向後獲取資料表…）</pre>
				<pre><span>Set rs = conn.OpenRecordset(&quot;my_dao&quot;, dbOpenDynamic)</span></pre>
				<pre><span>str = &quot;Results:&quot;</span></pre>
				<pre><span>rs.MoveFirst</span></pre>
				<pre><span>While Not rs.EOF</span></pre>
				<pre><span>str = &quot; &quot; &amp; rs!Id &amp; &quot; , &quot; &amp; rs!Name &amp; &quot;, &quot; &amp; rs!Ts &amp; &quot;, &quot; &amp; rs!Id2</span></pre>
				<pre><span>Debug.Print &quot;DATA:&quot; &amp; str</span></pre>
				<pre><span>rs.MoveNext</span></pre>
				<pre><span>Wend</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;rs Scrolling</span>（<span>rs</span>滾動）</pre>
				<pre><span>rs.MoveFirst</span></pre>
				<pre><span>str = &quot; FIRST ROW: &quot; &amp; rs!Id &amp; &quot; , &quot; &amp; rs!Name &amp; &quot;, &quot; &amp; rs!Ts &amp; &quot;, &quot; &amp; rs!Id2</span></pre>
				<pre><span>Debug.Print str</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>rs.MoveLast</span></pre>
				<pre><span>str = &quot; LAST ROW: &quot; &amp; rs!Id &amp; &quot; , &quot; &amp; rs!Name &amp; &quot;, &quot; &amp; rs!Ts &amp; &quot;, &quot; &amp; rs!Id2</span></pre>
				<pre><span>Debug.Print str</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>rs.MovePrevious</span></pre>
				<pre><span>str = &quot; LAST-1 ROW: &quot; &amp; rs!Id &amp; &quot; , &quot; &amp; rs!Name &amp; &quot;, &quot; &amp; rs!Ts &amp; &quot;, &quot; &amp; rs!Id2</span></pre>
				<pre><span>Debug.Print str</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&#39;free all resources</span>（釋放所有資源）</pre>
				<pre><span>rs.Close</span></pre>
				<pre><span>queryDef.Close</span></pre>
				<pre><span>conn.Close</span></pre>
				<pre><span>ws.Close</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>End Sub</span></pre>
				<h4 class="title"><a name="rdo--rs-addnew-and-rs-update"></a>
				26.1.19.3.&nbsp;RDO: rs.addNew和rs.update</h4></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			在下面的RDO（遠程數據對像）示範中，建立了資料表<span>my_rdo，並演示了rs.addNew</span>和<span>rs.update</span>的用法。<pre><span>Dim rs As rdoResultset</span></pre>
			<pre><span>&nbsp; Dim cn As New rdoConnection</span></pre>
			<pre><span>&nbsp; Dim cl As rdoColumn</span></pre>
			<pre><span>&nbsp; Dim SQL As String</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &#39;cn.Connect = &quot;DSN=test;&quot;</span></pre>
			<pre><span>&nbsp; cn.Connect = &quot;DRIVER={MySQL ODBC 3.51 Driver};&quot;_</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp; &quot;SERVER=localhost;&quot;_</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot; DATABASE=test;&quot;_</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; &quot;UID=venu;PWD=venu; OPTION=3&quot;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; cn.CursorDriver = rdUseOdbc</span></pre>
			<pre><span>&nbsp; cn.EstablishConnection rdDriverPrompt</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &#39;drop table my_rdo</span>（捨棄資料表<span>my_rdo</span>）</pre>
			<pre><span>&nbsp; SQL = &quot;drop table if exists my_rdo&quot;</span></pre>
			<pre><span>&nbsp; cn.Execute SQL, rdExecDirect</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &#39;create table my_rdo</span>（建立資料表<span>my_rdo</span>）</pre>
			<pre><span>&nbsp; SQL = &quot;create table my_rdo(id int, name varchar(20))&quot;</span></pre>
			<pre><span>&nbsp; cn.Execute SQL, rdExecDirect</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &#39;insert </span>–<span> direct</span>（插入，直接）</pre>
			<pre><span>&nbsp; SQL = &quot;insert into my_rdo values (100,&#39;venu&#39;)&quot;</span></pre>
			<pre><span>&nbsp; cn.Execute SQL, rdExecDirect</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; SQL = &quot;insert into my_rdo values (200,&#39;MySQL&#39;)&quot;</span></pre>
			<pre><span>&nbsp; cn.Execute SQL, rdExecDirect</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &#39;rs insert</span>（<span>rs</span>插入）</pre>
			<pre><span>&nbsp; SQL = &quot;select * from my_rdo&quot;</span></pre>
			<pre><span>&nbsp; Set rs = cn.OpenResultset(SQL, rdOpenStatic, rdConcurRowVer, rdExecDirect)</span></pre>
			<pre><span>&nbsp; rs.AddNew</span></pre>
			<pre><span>&nbsp; rs!id = 300</span></pre>
			<pre><span>&nbsp; rs!Name = &quot;Insert1&quot;</span></pre>
			<pre><span>&nbsp; rs.Update</span></pre>
			<pre><span>&nbsp; rs.Close</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &#39;rs insert</span>（<span>rs</span>插入）</pre>
			<pre><span>&nbsp; SQL = &quot;select * from my_rdo&quot;</span></pre>
			<pre><span>&nbsp; Set rs = cn.OpenResultset(SQL, rdOpenStatic, rdConcurRowVer, rdExecDirect)</span></pre>
			<pre><span>&nbsp; rs.AddNew</span></pre>
			<pre><span>&nbsp; rs!id = 400</span></pre>
			<pre><span>&nbsp; rs!Name = &quot;Insert 2&quot;</span></pre>
			<pre><span>&nbsp; rs.Update</span></pre>
			<pre><span>&nbsp; rs.Close</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &#39;rs update</span>（<span>rs</span>更新）</pre>
			<pre><span>&nbsp; SQL = &quot;select * from my_rdo&quot;</span></pre>
			<pre><span>&nbsp; Set rs = cn.OpenResultset(SQL, rdOpenStatic, rdConcurRowVer, rdExecDirect)</span></pre>
			<pre><span>&nbsp; rs.Edit</span></pre>
			<pre><span>&nbsp; rs!id = 999</span></pre>
			<pre><span>&nbsp; rs!Name = &quot;updated&quot;</span></pre>
			<pre><span>&nbsp; rs.Update</span></pre>
			<pre><span>&nbsp; rs.Close</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &#39;fetch back...</span></pre>
			<pre><span>&nbsp; SQL = &quot;select * from my_rdo&quot;</span></pre>
			<pre><span>&nbsp; Set rs = cn.OpenResultset(SQL, rdOpenStatic, rdConcurRowVer, rdExecDirect)</span></pre>
			<pre><span>&nbsp; Do Until rs.EOF</span></pre>
			<pre><span>&nbsp; For Each cl In rs.rdoColumns</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Debug.Print cl.Value,</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; Next</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; rs.MoveNext</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; Debug.Print</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loop</span></pre>
			<pre><span>&nbsp; Debug.Print &quot;Row count=&quot;; rs.RowCount</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &#39;close</span>（關閉）</pre>
			<pre><span>&nbsp; rs.Close</span></pre>
			<pre><span>&nbsp; cn.Close</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>End Sub</span></pre>
			<h3 class="title"><a name="myodbc-with-net"></a>
			26.1.20.&nbsp;MyODBC與Microsoft.NET</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#odbc-net-op-c-sharp-cp">26.1.20.1. ODBC.NET: CSHARP(C#)</a></span></dt><dt><span class="section"><a href="connectors.html#odbc-net-op-vb-cp">26.1.20.2. ODBC.NET: VB</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
			本節包含一些簡單示範，介紹了MyODBC驅動程式與ODBC.NET一起使用的用法。<h4 class="title"><a name="odbc-net-op-c-sharp-cp"></a>26.1.20.1. ODBC.NET: CSHARP(C#)</h4></div></div></div>
			<p>在下面的簡單示範中建立了資料表<span>my_odbc_net，並介紹了它在C#中的使用。</span></p>
			<pre class="programlisting">
/**
* @sample    : mycon.cs
* @purpose   : Demo sample for ODBC.NET using MyODBC
* @author    : Venu, &lt;<a href="mailto:venu@mysql.com">venu@mysql.com</a>&gt;
*
* (C) Copyright MySQL AB, 1995-2004
*
**/

/* build command
*
*  csc /t:exe
*      /out:mycon.exe mycon.cs
*      /r:Microsoft.Data.Odbc.dll
*/

using Console = System.Console;
using Microsoft.Data.Odbc;

namespace myodbc3
{
class mycon
{
  static void Main(string[] args)
  {
    try
    {
      //Connection string for MyODBC 2.50
      /*string MyConString = "DRIVER={MySQL};" +
                           "SERVER=localhost;" +
                           "DATABASE=test;" +
                           "UID=venu;" +
                           "PASSWORD=venu;" +
                           "OPTION=3";
      */
      //Connection string for MyODBC 3.51
      string MyConString = "DRIVER={MySQL ODBC 3.51 Driver};" +
                           "SERVER=localhost;" +
                           "DATABASE=test;" +
                           "UID=venu;" +
                           "PASSWORD=venu;" +
                           "OPTION=3";

      //Connect to MySQL using MyODBC
      OdbcConnection MyConnection = new OdbcConnection(MyConString);
      MyConnection.Open();

      Console.WriteLine("\n !!! success, connected successfully !!!\n");

      //Display connection information
      Console.WriteLine("Connection Information:");
      Console.WriteLine("\tConnection String:" + MyConnection.ConnectionString);
      Console.WriteLine("\tConnection Timeout:" + MyConnection.ConnectionTimeout);
      Console.WriteLine("\tDatabase:" + MyConnection.Database);
      Console.WriteLine("\tDataSource:" + MyConnection.DataSource);
      Console.WriteLine("\tDriver:" + MyConnection.Driver);
      Console.WriteLine("\tServerVersion:" + MyConnection.ServerVersion);

      //Create a sample table
      OdbcCommand MyCommand = new OdbcCommand("DROP TABLE IF EXISTS my_odbc_net",MyConnection);
      MyCommand.ExecuteNonQuery();
      MyCommand.CommandText = "CREATE TABLE my_odbc_net(id int, name varchar(20), idb bigint)";
      MyCommand.ExecuteNonQuery();

      //Insert
      MyCommand.CommandText = "INSERT INTO my_odbc_net VALUES(10,'venu', 300)";
      Console.WriteLine("INSERT, Total rows affected:" + MyCommand.ExecuteNonQuery());;

      //Insert
      MyCommand.CommandText = "INSERT INTO my_odbc_net VALUES(20,'mysql',400)";
      Console.WriteLine("INSERT, Total rows affected:" + MyCommand.ExecuteNonQuery());

      //Insert
      MyCommand.CommandText = "INSERT INTO my_odbc_net VALUES(20,'mysql',500)";
      Console.WriteLine("INSERT, Total rows affected:" + MyCommand.ExecuteNonQuery());

      //Update
      MyCommand.CommandText = "UPDATE my_odbc_net SET id=999 WHERE id=20";
      Console.WriteLine("Update, Total rows affected:" + MyCommand.ExecuteNonQuery());

      //COUNT(*)
      MyCommand.CommandText = "SELECT COUNT(*) as TRows FROM my_odbc_net";
      Console.WriteLine("Total Rows:" + MyCommand.ExecuteScalar());

      //Fetch
      MyCommand.CommandText = "SELECT * FROM my_odbc_net";
      OdbcDataReader MyDataReader;
      MyDataReader =  MyCommand.ExecuteReader();
      while (MyDataReader.Read())
      {
       if(string.Compare(MyConnection.Driver,"myodbc3.dll") == 0) {
         Console.WriteLine("Data:" + MyDataReader.GetInt32(0) + " " +
                                     MyDataReader.GetString(1) + " " +
                                     MyDataReader.GetInt64(2)); //Supported only by MyODBC 3.51
       }
       else {
         Console.WriteLine("Data:" + MyDataReader.GetInt32(0) + " " +
                                     MyDataReader.GetString(1) + " " +
                                     MyDataReader.GetInt32(2)); //BIGINTs not supported by MyODBC
       }
      }

      //Close all resources
      MyDataReader.Close();
      MyConnection.Close();
    }
    catch (OdbcException MyOdbcException)//Catch any ODBC exception ..
    {
      for (int i=0; i &lt; MyOdbcException.Errors.Count; i++)
      {
        Console.Write("ERROR #" + i + "\n" +
          "Message: " + MyOdbcException.Errors[i].Message + "\n" +
          "Native: " + MyOdbcException.Errors[i].NativeError.ToString() + "\n" +
          "Source: " + MyOdbcException.Errors[i].Source + "\n" +
          "SQL: " + MyOdbcException.Errors[i].SQLState + "\n");
      }
    }
  }
}
}
</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="odbc-net-op-vb-cp"></a>26.1.20.2. ODBC.NET: VB</h4></div></div></div>
				<p>在下面的簡單示範中建立了資料表<span>my_vb_net，並介紹了它在VB中的用法。</span></p>
				<pre class="programlisting">' @sample    : myvb.vb
' @purpose   : Demo sample for ODBC.NET using MyODBC
' @author    : Venu, &lt;<a href="mailto:venu@mysql.com">venu@mysql.com</a>&gt;
'
' (C) Copyright MySQL AB, 1995-2004
'
'

'
' build command
'
' vbc /target:exe
'     /out:myvb.exe
'     /r:Microsoft.Data.Odbc.dll
'     /r:System.dll
'     /r:System.Data.dll
'

Imports Microsoft.Data.Odbc
Imports System

Module myvb
  Sub Main()
      Try

          'MyODBC 3.51 connection string
          Dim MyConString As String = "DRIVER={MySQL ODBC 3.51 Driver};" &amp; _
                         "SERVER=localhost;" &amp; _
                         "DATABASE=test;" &amp; _
                         "UID=venu;" &amp; _
                         "PASSWORD=venu;" &amp; _
                         "OPTION=3;"

          'Connection
          Dim MyConnection As New OdbcConnection(MyConString)
          MyConnection.Open()

          Console.WriteLine ("Connection State::" &amp; MyConnection.State.ToString)

          'Drop
          Console.WriteLine ("Dropping table")
          Dim MyCommand As New OdbcCommand()
          MyCommand.Connection = MyConnection
          MyCommand.CommandText = "DROP TABLE IF EXISTS my_vb_net"
          MyCommand.ExecuteNonQuery()

          'Create
          Console.WriteLine ("Creating....")
          MyCommand.CommandText = "CREATE TABLE my_vb_net(id int, name varchar(30))"
          MyCommand.ExecuteNonQuery()

          'Insert
          MyCommand.CommandText = "INSERT INTO my_vb_net VALUES(10,'venu')"
          Console.WriteLine("INSERT, Total rows affected:" &amp; MyCommand.ExecuteNonQuery())

          'Insert
          MyCommand.CommandText = "INSERT INTO my_vb_net VALUES(20,'mysql')"
          Console.WriteLine("INSERT, Total rows affected:" &amp; MyCommand.ExecuteNonQuery())

          'Insert
          MyCommand.CommandText = "INSERT INTO my_vb_net VALUES(20,'mysql')"
          Console.WriteLine("INSERT, Total rows affected:" &amp; MyCommand.ExecuteNonQuery())

          'Insert
          MyCommand.CommandText = "INSERT INTO my_vb_net(id) VALUES(30)"
          Console.WriteLine("INSERT, Total rows affected:" &amp; MyCommand.ExecuteNonQuery())

          'Update
          MyCommand.CommandText = "UPDATE my_vb_net SET id=999 WHERE id=20"
          Console.WriteLine("Update, Total rows affected:" &amp; MyCommand.ExecuteNonQuery())

          'COUNT(*)
          MyCommand.CommandText = "SELECT COUNT(*) as TRows FROM my_vb_net"
          Console.WriteLine("Total Rows:" &amp; MyCommand.ExecuteScalar())

          'Select
          Console.WriteLine ("Select * FROM my_vb_net")
          MyCommand.CommandText = "SELECT * FROM my_vb_net"
          Dim MyDataReader As OdbcDataReader
          MyDataReader = MyCommand.ExecuteReader
          While MyDataReader.Read
              If MyDataReader("name") Is DBNull.Value Then
                  Console.WriteLine ("id = " &amp; CStr(MyDataReader("id")) &amp; "  name = " &amp; _
                    "NULL")
              Else
                  Console.WriteLine ("id = " &amp; CStr(MyDataReader("id")) &amp; "  name = " &amp; _
                                        CStr(MyDataReader("name")))
              End If
          End While

      'Catch ODBC Exception
      Catch MyOdbcException As OdbcException
          Dim i As Integer
          Console.WriteLine (MyOdbcException.ToString)

      'Catch program exception
      Catch MyException As Exception
          Console.WriteLine (MyException.ToString)
  End Try
  End Sub
End Module
</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-credits"></a>
			26.1.21.&nbsp;感謝</h3></div></div></div>
			<p>下面列出了一些MySQL AB公司負責MyODBC和MyODBC 3.51驅動程式開發的人員。</p>
			<div class="itemizedlist">
				<ul type="disc">
					<li>
					<p>
          Micheal (Monty) Widenius
        </p></li><li><p>
          Venu Anuganti
        </p></li><li><p>
          Peter Harvey
        </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="connector-net"></a>26.2. MySQL Connector/NET</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#connector-net-introduction">
		26.2.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-installation">
		26.2.2. 下載並安裝MySQL Connector/NET</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-architecture">
		26.2.3. Connector/NET體系結構</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using">
		26.2.4. 使用MySQL Connector/NET</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news">
		26.2.5. MySQL Connector/NET變更史</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-introduction"></a>
			26.2.1.&nbsp;前言</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			使用MySQL 
			Connector/NET，開發人員能夠方便地建立需要安全和高性能數據連接（與MySQL）的.NET應用程式。它實施了所需的ADO.NET接口，並將其集成到了ADO.NET 
			aware工具中。開發人員能夠使用他們選擇的.NET語言建立應用程式。MySQL 
			Connector/NET是用100％純C#語言編寫的可完全管理的ADO.NET驅動程式。<p>MySQL 
			Connector/NET包括對下述事宜的完整支援：<span> </span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>MySQL 5.0特性（儲存程式等）。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>MySQL 4.1特性（伺服器端的精製語句、Unicode、以及共享內存訪問等）。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>大訊息包支援，可發送和接收高達2GB的行和BLOB。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>協議壓縮，允許壓縮客戶端和伺服器之間的數據流。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>支援使用CP/IP套接字、命名管道、以及Windows共享內存的連接。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>支援使用CP/IP套接字、或Unix套接字的連接。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>支援由Novell開發的開放原始碼Mono框架。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>可完全管理，不利用MySQL客戶端庫。</p>
			<p>MySQL Connector/NET的開發人員高度尊重用戶在軟件開發過程中提供的幫助。如果您發現MySQL 
			Connector/NET缺少對您來說很重要的某些特性，或者如果您發現了問題，請使用我們的<span><a target="_top"  href="http://bugs.mysql.com">MySQL問題系統</a></span>請求該特性或通報問題。</p>
			<p>通過<span><a target="_top"  href="http://forums.mysql.com">http://forums.mysql.com</a></span>上的論壇以及<span><a target="_top"  href="http://lists.mysql.com">http://lists.mysql.com</a></span>上的郵件列資料表，可找到針對MySQL 
			Connector/NET的社區支援訊息。MySQL AB公司提供付費支援，更多訊息請參見<span><a target="_top"  href="http://www.mysql.com/support/">http://www.mysql.com/support/</a></span>。</p>
			<p>本文檔的目的是作為MySQL Connector/NET的用戶指南，而不是語法參考。如果您打算瞭解詳細的語法訊息，請閱讀MySQL 
			Connector/NET分發版中提供的<span>Documentation.chm檔案。</span></p>
			<h3 class="title"><a name="connector-net-installation"></a>
			26.2.2.&nbsp;下載並安裝MySQL Connector/NET</h3></div></div></div>
			<p>MySQL Connector/NET能夠運行在任何支援.NET框架的平台上。.NET框架主要被最近的Microsoft 
			Windows版本支援，通過由Novell開發的Mono框架，在Linux上也支援它（請參見<span><a target="_top"  href="http://www.mono-project.com">http://www.mono-project.com</a></span>）。</p>
			<p>MySQL Connector/NET可通過使用Windows Installer (<span>.msi</span>)安裝軟件包進行安裝，使用該軟件包，可在任何Windows作業系統上安裝MySQL 
			Connector/NET。MSI軟件包包含在名為<span>mysql-connector-net-<i>version</i>.zip的壓縮檔案中，其中，<span >「</span><i>version</i><span >」</span>（版本）指明了</span>MySQL 
			Connector/NET的版本。</p>
			<p>可從下述網站下載MySQL Connector/NET：<span><a target="_top"  href="http://dev.mysql.com/downloads/connector/net/1.0.html">http://dev.mysql.com/downloads/connector/net/1.0.html</a></span>。</p>
			<p>隨著Windows XP的發佈，Windows Installer（安裝器）引擎也予以了更新，對於使用舊版本的用戶，可參閱<span><a target="_top"  href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;292539">該Microsoft知識庫文章</a></span>以瞭解升級至最新版本的更多訊息。</p>
			<p>要想安裝MySQL Connector/NET，請右擊MSI檔案並選擇「安裝」。在安裝器提示您完成安裝參數選擇後，安裝將自動開始。對於大多數用戶，建議採用典型安裝。</p>
			<p>如果在運行安裝器時遇到問題，可下載不帶安裝器的ZIP檔案。該檔案名為<span>mysql-connector-net-<i>version</i>-noinstall.zip</span>。使用ZIP程式，將其解壓至您所選擇的目錄。</p>
			<p>除非作了其他選擇，否則MySQL Connector/NET將被安裝到「<span>C:\Program 
			Files\MySQL\MySQL Connector Net <i>X.X.X</i></span>」，其中，「<span><i>X.X.X</i></span>」是您所安裝的MySQL 
			Connector/NET的版本號。新安裝不會覆蓋已有的MySQL Connector/NET版本。</p>
			<div class="titlepage">
				<div>
					<div>
						<h3 class="title"><a name="connector-net-architecture">
						</a>26.2.3.&nbsp;Connector/NET體系結構</h3></div></div>
			</div>
			<div class="toc">
				<dl>
					<dt><span class="section">
					<a href="connectors.html#connector-net-architecture-command">
					26.2.3.1. MySqlCommand類</a></span></dt>
					<dt><span class="section">
					<a href="connectors.html#connector-net-architecture-commandbuilder">
					26.2.3.2. MySqlCommandBuilder類</a></span></dt>
					<dt><span class="section">
					<a href="connectors.html#connector-net-architecture-connection">
					26.2.3.3. MySqlConnection類</a></span></dt>
					<dt><span class="section">
					<a href="connectors.html#connector-net-architecture-adapter">
					26.2.3.4. MySqlDataAdapter類</a></span></dt>
					<dt><span class="section">
					<a href="connectors.html#connector-net-architecture-reader">
					26.2.3.5. MySqlDataReader類</a></span></dt>
					<dt><span class="section">
					<a href="connectors.html#connector-net-architecture-exception">
					26.2.3.6. MySqlException類</a></span></dt>
					<dt><span class="section">
					<a href="connectors.html#mysql-connector-net-architecture-helper">
					26.2.3.7. MySqlHelper類</a></span></dt>
					<dt><span class="section">
					<a href="connectors.html#connector-net-architecture-transaction">
					26.2.3.8. MySqlTransaction類</a></span></dt>
				</dl></div>
			<div class="section">
				<div class="titlepage">
					<div>
						<div>MySQL 
							Connector/NET包含數個類，這些類可用於連接到資料庫，執行查詢和語句，並管理查詢結果。<p>
							下面介紹了MySQL Connector/NET的主要類：</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							MySqlCommand</span>：代資料表對MySQL資料庫進行執行操作的SQL語句。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							MySqlCommandBuilder</span>：自動生成單個資料表的命令，用於協調對DataSet所作的更改和相關的MySQL資料庫。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							MySqlConnection</span>：代資料表與MySQL伺服器資料庫的開放式連接。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							MySqlDataAdapter</span>：代資料表一組數據命令和資料庫連接，用於填充資料庫和更新MySQL資料庫。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							MySqlDataReader</span>：提供了從MySQL資料庫讀取行的「僅正向」流的一種方式。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							MySqlException</span>：當MySQL返回錯誤時拋出的異常。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							MySqlHelper</span>：助手類，能使工作變的更簡單。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							MySqlTransaction</span>：代資料表將在MySQL資料庫中進行的SQL事務。</p>
							<p>在後續段落中，將分別介紹這些對象。這些章節的目的是概要介紹MySQL 
							Connector/NET的主要類，而不是語法參考。如果您打算瞭解詳細的語法訊息，請閱讀MySQL 
							Connector/NET分發版中提供的<span>Documentation.chm檔案。</span></p>
							<h4 class="title">
							<a name="connector-net-architecture-command"></a>
							26.2.3.1.&nbsp;MySqlCommand類</h4></div></div></div>
				<div class="toc">
					<dl>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-command-properties">
						26.2.3.1.1. 屬性</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-command-methods">
						26.2.3.1.2. 方法</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-command-usage">
						26.2.3.1.3. 用法</a></span></dt>
					</dl></div>
				<p><span>MySqlCommand類</span>代資料表對MySQL資料庫進行執行操作的SQL語句。</p>
				<p><em><span>註釋：</span></em>在以前的版本中，採用符號「@」來標識SQL中的參數。它與MySQL用戶變數不兼容，因此，現採用符號「?」來定位SQL中的參數。為了支援早期代碼，也可以在連接字串中設置「old 
				syntax=yes」。如果進行了這類設置，請注意，如果無法定義希望在SQL中使用的參數（定義失敗），不會給出異常提示。</p>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>
								<h5 class="title">
								<a name="connector-net-architecture-command-properties">
								</a>26.2.3.1.1.&nbsp;屬性</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用屬性如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								CommandText</span>：獲取或設置將在數據源上執行的SQL語句。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								CommandTimeout</span>：獲取或設置中止執行命令並生成錯誤之前應等待的時間。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								CommandType</span>：獲取或設置值，該值指明了解釋CommandText的方式。可能的值包括<span>StoredProcedure</span>、<span>TableDirect</span>和<span>Text</span>。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Connection</span>：獲取或設置該MySqlCommand實例使用的MySqlConnection。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								IsPrepared</span>：如果該命令已準備好，為「真」，否則為「假」。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Parameters</span>：獲取MySqlParameterCollection。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Transaction</span>：獲取或設置MySqlTransaction，MySqlCommand將在其中執行。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								UpdatedRowSource</span>：當DbDataAdapter的Update方法使用它時，用於獲取或設置命令結果作用在DataRow上的方式。</p>
								<h5 class="title">
								<a name="connector-net-architecture-command-methods">
								</a>26.2.3.1.2.&nbsp;方法</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用方法如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Cancel</span>：嘗試取消MySqlCommand的執行。<i>不支援該操作。</i></p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Clone</span>：建立該MySqlCommand對象的克隆對象。包括CommandText、Connection和Transaction屬性，以及整個參數列資料表。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								CreateParameter</span>：建立MySqlParameter對象的新實例。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Dispose</span>：處理該MySqlCommand實例。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								ExecuteNonQuery</span>：根據連接情況執行SQL語句，並返回受影響的行數。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								ExecuteReader</span>：將CommandText發送給Connection，並建立MySqlDataReader。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								ExecuteScalar</span>：執行查詢，並返回查詢操作所返回的結果集中第1行的第1列。多餘的列或行將被忽略。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Prepare</span>：在MySQL伺服器的1個實例上建立命令的預製版本。</p>
								<h5 class="title">
								<a name="connector-net-architecture-command-usage">
								</a>26.2.3.1.3.&nbsp;用法</h5></div></div></div>
					<div class="toc">
						<dl>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-command-usage-vbnet">26.2.3.1.3.1. VB.NET</a></span></dt>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-command-usage-csharp">26.2.3.1.3.2. C#</a></span></dt>
						</dl></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>在下面的示範中，建立了1個MySqlCommand和1個MySqlConnection。打開了MySqlConnection，並將其設置為用於MySqlCommand的連接。隨後，使用ExecuteNonQuery，並關閉連接。為了完成該任務，為ExecuteNonQuery傳遞了1個連接字串和1個查詢字串（查詢字串是1條SQL 
									INSERT語句）。<h6 class="title">
									<a name="connector-net-architecture-command-usage-vbnet">
									</a>26.2.3.1.3.1. VB.NET</h6></div></div>
						</div>
						<p>在下例中，介紹了在VB.NET中使用MySqlCommand類的方法：</p>
						<pre class="programlisting">Public Sub InsertRow(myConnectionString As String)
    ' If the connection string is null, use a default.
    If myConnectionString = "" Then
        myConnectionString = "Database=Test;Data Source=localhost;User Id=username;Password=pass"
    End If
    Dim myConnection As New MySqlConnection(myConnectionString)
    Dim myInsertQuery As String = "INSERT INTO Orders (id, customerId, amount) Values(1001, 23, 30.66)"
    Dim myCommand As New MySqlCommand(myInsertQuery)
    myCommand.Connection = myConnection
    myConnection.Open()
    myCommand.ExecuteNonQuery()
    myCommand.Connection.Close()
End Sub
</pre></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>
									<h6 class="title">
									<a name="connector-net-architecture-command-usage-csharp">
									</a>26.2.3.1.3.2. C#</h6></div></div></div>
						<p>在下例中，介紹了在C#中使用MySqlCommand類的方法：</p>
						<pre class="programlisting">public void InsertRow(string myConnectionString) 
{
    // If the connection string is null, use a default.
    if(myConnectionString == "") 
    {
        myConnectionString = "Database=Test;Data Source=localhost;User Id=username;Password=pass";
    }
    MySqlConnection myConnection = new MySqlConnection(myConnectionString);
    string myInsertQuery = "INSERT INTO Orders (id, customerId, amount) Values(1001, 23, 30.66)";
    MySqlCommand myCommand = new MySqlCommand(myInsertQuery);
    myCommand.Connection = myConnection;
    myConnection.Open();
    myCommand.ExecuteNonQuery();
    myCommand.Connection.Close();
}
</pre></div></div></div>
			<div class="section">
				<div class="titlepage">
					<div>
						<div>
							<h4 class="title">
							<a name="connector-net-architecture-commandbuilder">
							</a>26.2.3.2.&nbsp;MySqlCommandBuilder類</h4></div></div>
				</div>
				<div class="toc">
					<dl>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-commandbuilder-properties">
						26.2.3.2.1. 屬性</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-commandbuilder-methods">
						26.2.3.2.2. 方法</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-commandbuilder-usage">
						26.2.3.2.3. 用法</a></span></dt>
					</dl></div>
				<p>MySqlDataAdapter不會自動生成所需的SQL語句（用於協調對DataSet所作的更改和相關的MySQL實例）。但是，如果設置了MySqlDataAdapter的SelectCommand屬性，可以建立MySqlCommandBuilder對像來自動生成針對單個資料表更新的SQL語句。隨後，MySqlCommandBuilder將生成您未設置的任何附加的SQL語句。</p>
				<p>一旦您設置了DataAdapter屬性，MySqlCommandBuilder會將自己註冊為針對OnRowUpdating事件的監聽程式。一次只能將1個MySqlDataAdapter或MySqlCommandBuilder對像關聯起來。</p>
				<p>為了生成INSERT、UPDATE或DELETE語句，MySqlCommandBuilder使用了SelectCommand屬性來自動檢索所需的元數據集合。如果在檢索完元數據後更改了SelectCommand（例如首次更新後），應使用RefreshSchema方法來更新元數據。</p>
				<p>SelectCommand也必須返回至少1個主鍵或唯一列。如果未顯示任何返回訊息，將生成InvalidOperation異常，而且不會生成命令。</p>
				<p>MySqlCommandBuilder還會使用SelectCommand引用的Connection、CommandTimeout和Transaction屬性。如果更改了這些屬性中的任何1個，或者，如果替換了SelectCommand本身，用戶應使用RefreshSchema。如不然，InsertCommand、UpdateCommand和DeleteCommand屬性將保持它們以前的值。</p>
				<p>如果使用了Dispose，MySqlCommandBuilder將解除與MySqlDataAdapter的關聯，已生成的命令將不再使用。</p>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>
								<h5 class="title">
								<a name="connector-net-architecture-commandbuilder-properties">
								</a>26.2.3.2.1.&nbsp;屬性</h5></div></div></div>
					<p>可用屬性如下：</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>DataAdapter</span>：MySqlCommandBuilder將自己註冊為針對RowUpdating事件的監聽程式，RowUpdating事件是由在該屬性中指定的MySqlDataAdapter生成的。建立了新的MySqlCommandBuilder實例時，將釋放任何已有的與MySqlDataAdapter關聯的MySqlCommandBuilder。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>QuotePrefix</span>,
					<span>QuoteSuffix</span>：MySQL中的資料庫對像能夠包含特殊字元，如空格等，這會使得正常的SQL字串無法解析。使用QuotePrefix和QuoteSuffix屬性，MySqlCommandBuilder能夠建立處理該問題的SQL命令。</p>
					<div class="titlepage">
						<div>
							<div>
								<h5 class="title">
								<a name="connector-net-architecture-commandbuilder-methods">
								</a>26.2.3.2.2.&nbsp;方法</h5></div></div></div>
					<p>可用方法如下：</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>DeriveParameters</span>：從MySqlCommand指定的儲存程式中檢索參數訊息，並填充所指定MySqlCommand對象的參數集。目前不支援該方法，這是因為MySQL中未提供儲存程式。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>GetDeleteCommand</span>：獲取用於在資料庫上執行刪除操作所需的、自動生成的MySqlCommand對象。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>GetInsertCommand</span>：獲取用於在資料庫上執行插入操作所需的、自動生成的MySqlCommand對象。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>GetUpdateCommand</span>：獲取用於在資料庫上執行更新操作所需的、自動生成的MySqlCommand對象。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>RefreshSchema</span>：刷新用於生成INSERT、UPDATE或DELETE語句的資料庫方案訊息。</p>
					<div class="titlepage">
						<div>
							<div>
								<h5 class="title">
								<a name="connector-net-architecture-commandbuilder-usage">
								</a>26.2.3.2.3.&nbsp;用法</h5></div></div></div>
					<div class="toc">
						<dl>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-commandbuilder-usage-vb">26.2.3.2.3.1. VB.NET</a></span></dt>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-commandbuilder-usage-csharp">26.2.3.2.3.2. C#</a></span></dt>
						</dl></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>在下面給出的示範中，使用了MySqlCommand、MySqlDataAdapter和MySqlConnection，用於從數據源選擇行。為該示範傳遞了1個初始化的DataSet、1個連接字串、1個查詢字串（是SQL 
									SELECT語句）、以及1個作為資料庫資料表名稱的字串。隨後，該示範建立了1個MySqlCommandBuilder。<h6 class="title">
									<a name="connector-net-architecture-commandbuilder-usage-vb">
									</a>26.2.3.2.3.1. VB.NET</h6></div></div>
						</div>
						<p>在下例中，介紹了在VB.NET中使用MySqlCommandBuilder類的方法：</p>
						<pre class="programlisting">  Public Shared Function SelectRows(myConnection As String, mySelectQuery As String, myTableName As String) As DataSet
        Dim myConn As New MySqlConnection(myConnection)
        Dim myDataAdapter As New MySqlDataAdapter()
        myDataAdapter.SelectCommand = New MySqlCommand(mySelectQuery, myConn)
        Dim cb As SqlCommandBuilder = New MySqlCommandBuilder(myDataAdapter)

        myConn.Open()

        Dim ds As DataSet = New DataSet
        myDataAdapter.Fill(ds, myTableName)

        ' Code to modify data in DataSet here 

        ' Without the MySqlCommandBuilder this line would fail.
        myDataAdapter.Update(ds, myTableName)

        myConn.Close()
    End Function 'SelectRows
    </pre></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>
									<h6 class="title">
									<a name="connector-net-architecture-commandbuilder-usage-csharp">
									</a>26.2.3.2.3.2. C#</h6></div></div></div>
						<p>在下例中，介紹了在C#中使用MySqlCommandBuilder類的方法：</p>
						<pre class="programlisting">    public static DataSet SelectRows(string myConnection, string mySelectQuery, string myTableName)
    {
      MySqlConnection myConn = new MySqlConnection(myConnection);
      MySqlDataAdapter myDataAdapter = new MySqlDataAdapter();
      myDataAdapter.SelectCommand = new MySqlCommand(mySelectQuery, myConn);
      MySqlCommandBuilder cb = new MySqlCommandBuilder(myDataAdapter);

      myConn.Open();

      DataSet ds = new DataSet();
      myDataAdapter.Fill(ds, myTableName);

      //code to modify data in DataSet here

      //Without the MySqlCommandBuilder this line would fail
      myDataAdapter.Update(ds, myTableName);

      myConn.Close();

      return ds;
    }  
    </pre></div></div></div>
			<div class="section">
				<div class="titlepage">
					<div>
						<div>
							<h4 class="title">
							<a name="connector-net-architecture-connection"></a>
							26.2.3.3.&nbsp;MySqlConnection類</h4></div></div></div>
				<div class="toc">
					<dl>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-connection-properties">
						26.2.3.3.1. 屬性</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-connection-methods">
						26.2.3.3.2. 方法</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-connection-usage">
						26.2.3.3.3. 用法</a></span></dt>
					</dl></div>
				<p>MySqlConnection對像代資料表與MySQL伺服器數據源的會話。建立MySqlConnection實例時，所有屬性均將被設置為它們的初始值。關於這些值的列資料表，請參見MySqlConnection構造函數。</p>
				<p>如果MySqlConnection超出範圍，不會被關閉。因此，必須通過使用Close或Dispose明確地關閉連接。</p>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>
								<h5 class="title">
								<a name="connector-net-architecture-connection-properties">
								</a>26.2.3.3.1.&nbsp;屬性</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用屬性如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								ConnectionString</span>：設置或獲取用於連接至MySQL伺服器資料庫的字串。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								ConnectionTimeout</span>：獲取在中止嘗試並生成錯誤之前為建立連接所需的等待時間。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Database</span>：獲取當前資料庫的名稱或打開連接後將使用的資料庫的名稱。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								DataSource</span>：獲取將要連接的MySQL伺服器的名稱。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								ServerThread</span>：返回該連接所使用的伺服器線程的ID。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								ServerVersion</span>：獲取包含客戶端與之相連的MySQL伺服器版本的字串。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								State</span>：獲取連接的當前連接的狀態。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								UseConnection</span>：與伺服器進行通信時，指明該連接是否將使用壓縮特性。</p>
								<h5 class="title">
								<a name="connector-net-architecture-connection-methods">
								</a>26.2.3.3.2.&nbsp;方法</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用方法如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								BeginTransaction</span>：開始資料庫事務。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								ChangeDatabase</span>：針對打開的MySqlConnection，更改當前資料庫。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Close</span>：關閉與資料庫的連接。這是關閉任何打開連接的首選方法。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								CreateCommand</span>：建立並返回與MySqlConnection相關的MySqlCommand對象。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Dispose</span>：釋放MySqlConnection使用的資源。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>Open</span>：用ConnectionString指定的屬性設置打開資料庫連接。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>Ping</span>：對MySQL伺服器執行Ping操作。</p>
								<h5 class="title">
								<a name="connector-net-architecture-connection-usage">
								</a>26.2.3.3.3.&nbsp;用法</h5></div></div></div>
					<div class="toc">
						<dl>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-connection-usage-vb">26.2.3.3.3.1. VB.NET</a></span></dt>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-connection-usage-csharp">26.2.3.3.3.2. C#</a></span></dt>
						</dl></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>在下面的示範中，建立了1個MySqlCommand和1個MySqlConnection。打開了MySqlConnection，並將其設置為用於MySqlCommand的連接。隨後，使用ExecuteNonQuery，並關閉連接。為了完成該任務，為ExecuteNonQuery傳遞了1個連接字串和1個查詢字串（查詢字串是1條SQL 
									INSERT語句）。<h6 class="title">
									<a name="connector-net-architecture-connection-usage-vb">
									</a>26.2.3.3.3.1. VB.NET</h6></div></div>
						</div>
						<p>在下例中，介紹了在VB.NET中使用MySqlConnection類的方法：</p>
						<pre class="programlisting">Public Sub InsertRow(myConnectionString As String)
    ' If the connection string is null, use a default.
    If myConnectionString = "" Then
        myConnectionString = "Database=Test;Data Source=localhost;User Id=username;Password=pass"
    End If
    Dim myConnection As New MySqlConnection(myConnectionString)
    Dim myInsertQuery As String = "INSERT INTO Orders (id, customerId, amount) Values(1001, 23, 30.66)"
    Dim myCommand As New MySqlCommand(myInsertQuery)
    myCommand.Connection = myConnection
    myConnection.Open()
    myCommand.ExecuteNonQuery()
    myCommand.Connection.Close()
End Sub
      </pre></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>
									<h6 class="title">
									<a name="connector-net-architecture-connection-usage-csharp">
									</a>26.2.3.3.3.2. C#</h6></div></div></div>
						<p>在下例中，介紹了在C#中使用MySqlConnection類的方法：</p>
						<pre class="programlisting">public void InsertRow(string myConnectionString) 
{
    // If the connection string is null, use a default.
    if(myConnectionString == "") 
    {
        myConnectionString = "Database=Test;Data Source=localhost;User Id=username;Password=pass";
    }
    MySqlConnection myConnection = new MySqlConnection(myConnectionString);
    string myInsertQuery = "INSERT INTO Orders (id, customerId, amount) Values(1001, 23, 30.66)";
    MySqlCommand myCommand = new MySqlCommand(myInsertQuery);
    myCommand.Connection = myConnection;
    myConnection.Open();
    myCommand.ExecuteNonQuery();
    myCommand.Connection.Close();
}

      </pre></div></div></div>
			<div class="section">
				<div class="titlepage">
					<div>
						<div>
							<h4 class="title">
							<a name="connector-net-architecture-adapter"></a>
							26.2.3.4.&nbsp;MySqlDataAdapter類</h4></div></div></div>
				<div class="toc">
					<dl>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-adapter-properties">
						26.2.3.4.1. 屬性</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-adapter-methods">
						26.2.3.4.2. 方法</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-adapter-usage">
						26.2.3.4.3. 用法</a></span></dt>
					</dl></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>MySQLDataAdapter起著DataSet和MySQL之間橋樑的作用，用於檢索和保存數據。MySQLDataAdapter通過映射Fill（填充）和Update（更新）提供了該橋，Fill能改變DataSet中的數據以便與數據源中的數據匹配，Update能改變數據源中的數據以便與DataSet中的數據匹配（通過對數據源使用恰當的SQL語句）。<p>
								當MySQLDataAdapter填充DataSet時，如果資料表或列不存在，它將為返回的數據建立必要的資料表和列。但是，在隱式建立的方案中不包括主鍵訊息，除非將MissingSchemaAction屬性設為AddWithKey。在使用FillSchema用數據填充它之前，也能讓MySQLDataAdapter建立DataSet方案，包含主鍵訊息。</p>
								<p>MySQLDataAdapter用於MySqlConnection和MySqlCommand的連接，用以提升連接至MySQL資料庫時的性能。</p>
								<p>MySQLDataAdapter還包括SelectCommand、InsertCommand、DeleteCommand、UpdateCommand和TableMappings屬性，用於簡化數據的加載和更新操作。</p>
								<h5 class="title">
								<a name="connector-net-architecture-adapter-properties">
								</a>26.2.3.4.1.&nbsp;屬性</h5></div></div></div>
					<p>可用屬性如下：</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					AcceptChangesDuringFill</span>：獲取或設置值，該值指明了在任何填充操作過程中，在將DataRow新增到DataTable後，是否要在DataRow上使用AcceptChanges。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					ContinueUpdateOnError</span>：獲取或設置值，該值指定了在行更新過程中出現錯誤時是否要生成異常項。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>DeleteCommand</span>：獲取或設置用於將記錄從數據集中刪除的SQL語句或儲存程式。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>InsertCommand</span>：獲取或設置用於在數據集中插入記錄的SQL語句或儲存程式。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					MissingMappingAction</span>：確定當進入的數據不含匹配資料表或列時需要採取的動作。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					MissingSchemaAction</span>：確定當已有的DataSet方案與進入數據不匹配時需要採取的動作。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>SelectCommand</span>：獲取或設置用於在數據源中選擇記錄的SQL語句或儲存程式。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>TableMappings</span>：獲取提供了源資料表和DataTable之間主映射的集合。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>UpdateCommand</span>：獲取或設置用於在數據源中更新記錄的SQL語句或儲存程式。</div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>
								<h5 class="title">
								<a name="connector-net-architecture-adapter-methods">
								</a>26.2.3.4.2.&nbsp;方法</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用方法如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>Fill</span>：使用DataSet名稱新增或刷新DataSet中的行，以便與數據源中的行匹配，並建立名為「Table」的DataTable。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								FillSchema</span>：將名為「Table」的DataTable新增到指定的DataSet，並配置方案，以便與基於指定SchemaType的數據源中的資料表匹配。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetFillParameters</span>：執行SQL 
								SELECT語句時，按用戶獲取參數集。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Update</span>：為指定DataSet中的各插入行、更新行或刪除行分別使用INSERT、UPDATE或DELETE語句。</p>
								<h5 class="title">
								<a name="connector-net-architecture-adapter-usage">
								</a>26.2.3.4.3.&nbsp;用法</h5></div></div></div>
					<div class="toc">
						<dl>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-adapter-usage-vb">26.2.3.4.3.1. VB.NET</a></span></dt>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-adapter-usage-csharp">26.2.3.4.3.2. C#</a></span></dt>
						</dl></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>在下面的示範中，建立了1個MySqlCommand和1個MySqlConnection。打開MySqlConnection，並將其設置為用於MySqlCommand的連接。隨後，使用ExecuteNonQuery，並關閉連接。為了完成該任務，為ExecuteNonQuery傳遞了1個連接字串和1個查詢字串（查詢字串是1條SQL 
									INSERT語句）。<h6 class="title">
									<a name="connector-net-architecture-adapter-usage-vb">
									</a>26.2.3.4.3.1. VB.NET</h6></div></div>
						</div>
						<p>在下例中，介紹了在VB.NET中使用MySqlDataAdapter類的方法：</p>
						<pre class="programlisting">Public Function SelectRows(dataSet As DataSet, connection As String, query As String) As DataSet
    Dim conn As New MySqlConnection(connection)
    Dim adapter As New MySqlDataAdapter()
    adapter.SelectCommand = new MySqlCommand(query, conn)
    adapter.Fill(dataset)
    Return dataset
End Function 
</pre></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>
									<h6 class="title">
									<a name="connector-net-architecture-adapter-usage-csharp">
									</a>26.2.3.4.3.2. C#</h6></div></div></div>
						<p>在下例中，介紹了在C#中使用MySqlDataAdapter類的方法：</p>
						<pre class="programlisting">public DataSet SelectRows(DataSet dataset,string connection,string query) 
{
    MySqlConnection conn = new MySqlConnection(connection);
    MySqlDataAdapter adapter = new MySqlDataAdapter();
    adapter.SelectCommand = new MySqlCommand(query, conn);
    adapter.Fill(dataset);
    return dataset;
}   
  </pre></div></div></div>
			<div class="section">
				<div class="titlepage">
					<div>
						<div>
							<h4 class="title">
							<a name="connector-net-architecture-reader"></a>
							26.2.3.5.&nbsp;MySqlDataReader類</h4></div></div></div>
				<div class="toc">
					<dl>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-reader-properties">
						26.2.3.5.1. 屬性</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-reader-methods">
						26.2.3.5.2. 方法</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-reader-usage">
						26.2.3.5.3. 用法</a></span></dt>
					</dl></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>MySqlDataReader類提供了從MySQL資料庫讀取行的「僅正向」流的一種方式。<p>
								要想建立MySQLDataReader，必須使用MySqlCommand對象的ExecuteReader方法，而不是直接使用構造函數。</p>
								<p>使用MySqlDataReader的同時，相關的MySqlConnection將忙於MySqlDataReader。除了關閉它之外，不能在MySqlConnection上執行任何操作。該情況將一直持續到使用了MySqlDataReader的「Close」方法為止。</p>
								<p>關閉了MySqlDataReader後，您只能使用IsClosed和RecordsAffected屬性。儘管在MySqlDataReader存在同時能夠訪問RecordsAffected屬性，但在返回RecordsAffected的值之前總應使用「Close」，以確保準確的返回值。</p>
								<p>
								為了獲得最佳性能，MySqlDataReader將避免建立不必要的對象或執行不必要的數據拷貝。其結果是，對諸如GetValue等方法的多個使用會返回對相同對象的引用。如果您準備更改由諸如GetValue等方法返回的對象的基本值，請仔細小心。</p>
								<h5 class="title">
								<a name="connector-net-architecture-reader-properties">
								</a>26.2.3.5.1.&nbsp;屬性</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用屬性如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Depth</span>：獲取指明當前行嵌套深度的值。目前並不支援方法，總會返回0。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								FieldCount</span>：獲取當前行中的列數。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								HasRows</span>：獲取值，該值指明了MySqlDataReader是否包含1行或多行。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								IsClosed</span>：獲取值，該值指明了和蘇劇閱讀器是否已關閉。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>Item</span>：以固有格式獲取列的值。在C#，該屬性是MySqlDataReader類的索引屬性。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								RecordsAffected</span>：獲取隱執行SQL語句而更改、插入、或刪除的行數。</p>
								<h5 class="title">
								<a name="connector-net-architecture-reader-methods">
								</a>26.2.3.5.2.&nbsp;方法</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用方法如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Close</span>：關閉MySqlDataReader對象。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetBoolean</span>：獲取指定列的布爾值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetByte</span>：以字節形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetBytes</span>：讀取從指定列偏移至緩衝的字節流，數組從給定的緩衝偏移位置開始。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetChar</span>：以單字元形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetChars</span>：讀取從指定列偏移至緩衝的字元流，數組從給定的緩衝偏移位置開始。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetDataTypeName</span>：獲取源數據類型的名稱。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetDateTime</span>：以DateTime對像形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetDecimal</span>：以DateTime對像形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetDouble</span>：以雙精度浮點數的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetFieldType</span>：獲取作為對像數據類型的類型。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetFloat</span>：以單精度浮點數的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetGuid</span>：以GUID的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetInt16</span>：以16位帶符號整數的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetInt32</span>：以32位帶符號整數的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetInt64</span>：以64位帶符號整數的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetMySqlDateTime</span>：以MySqlDateTime對象的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetName</span>：獲取指定列的名稱。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetOrdinal</span>：給定列名，獲取列的順序。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetSchemaTable</span>：返回描述了MySqlDataReader的列元數據的DataTable。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetString</span>：以String對象的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetTimeSpan</span>：以TimeSpan對象的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetUInt16</span>：以16位無符號整數的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetUInt32</span>：以32位無符號整數的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetUInt64</span>：以64位無符號整數的形式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetValue</span>：以固有格式獲取指定列的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								GetValues</span>：獲取當前行集合中的所有屬性列。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								IsDBNull</span>：獲取值，該值指明了列中是否包含不存在或丟失的值。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								NextResult</span>：讀取批SQL語句的結果時，使數據閱讀器跳到下一個結果。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>Read</span>：使MySqlDataReader跳到下一條記錄。</p>
								<h5 class="title">
								<a name="connector-net-architecture-reader-usage">
								</a>26.2.3.5.3.&nbsp;用法</h5></div></div></div>
					<div class="toc">
						<dl>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-reader-usage-vb">26.2.3.5.3.1. VB.NET</a></span></dt>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-reader-usage-csharp">26.2.3.5.3.2. C#</a></span></dt>
						</dl></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>在下面的示範中，建立了1個MySqlConnection，1個MySqlCommand和1個MySqlDataReader。該示範讀取數據，並將數據輸出到控制台。最後，本例關閉了MySqlDataReader，然後關閉了MySqlConnection。<h6 class="title">
									<a name="connector-net-architecture-reader-usage-vb">
									</a>26.2.3.5.3.1. VB.NET</h6></div></div>
						</div>
						<p>在下例中，介紹了在VB.NET中使用MySqlDataReader類的方法：</p>
						<pre class="programlisting">Public Sub ReadMyData(myConnString As String)
    Dim mySelectQuery As String = "SELECT OrderID, CustomerID FROM Orders"
    Dim myConnection As New MySqlConnection(myConnString)
    Dim myCommand As New MySqlCommand(mySelectQuery, myConnection)
    myConnection.Open()
    Dim myReader As MySqlDataReader
    myReader = myCommand.ExecuteReader()
    ' Always call Read before accessing data.
    While myReader.Read()
        Console.WriteLine((myReader.GetInt32(0) &amp; ", " &amp; myReader.GetString(1)))
    End While
    ' always call Close when done reading.
    myReader.Close()
    ' Close the connection when done with it.
    myConnection.Close()
End Sub 'ReadMyData       
      </pre></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>
									<h6 class="title">
									<a name="connector-net-architecture-reader-usage-csharp">
									</a>26.2.3.5.3.2. C#</h6></div></div></div>
						<p>在下例中，介紹了在C#中使用MySqlDataReader類的方法：</p>
						<pre class="programlisting">public void ReadMyData(string myConnString) {
    string mySelectQuery = "SELECT OrderID, CustomerID FROM Orders";
    MySqlConnection myConnection = new MySqlConnection(myConnString);
    MySqlCommand myCommand = new MySqlCommand(mySelectQuery,myConnection);
    myConnection.Open();
    MySqlDataReader myReader;
    myReader = myCommand.ExecuteReader();
    // Always call Read before accessing data.
    while (myReader.Read()) {
       Console.WriteLine(myReader.GetInt32(0) + ", " + myReader.GetString(1));
    }
    // always call Close when done reading.
    myReader.Close();
    // Close the connection when done with it.
    myConnection.Close();
 }     
      </pre></div></div></div>
			<div class="section">
				<div class="titlepage">
					<div>
						<div>
							<h4 class="title">
							<a name="connector-net-architecture-exception"></a>
							26.2.3.6.&nbsp;MySqlException類</h4></div></div></div>
				<div class="toc">
					<dl>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-exception-properties">
						26.2.3.6.1. 屬性</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-exception-methods">
						26.2.3.6.2. 方法</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-exception-usage">
						26.2.3.6.3. 用法</a></span></dt>
					</dl></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>當MySql數據提供方遇到伺服器生成的錯誤時將建立該類。<p>
								拋出異常時，打開的連接不會自動關閉。如果客戶端應用程式判定該異常是致命的，應關閉任何打開的MySqlDataReader對像或MySqlConnection對象。</p>
								<h5 class="title">
								<a name="connector-net-architecture-exception-properties">
								</a>26.2.3.6.1.&nbsp;屬性</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用屬性如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								HelpLink</span>：獲取或設置指向與該異常相關的幫助檔案的連結。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								InnerException</span>：獲取導致當前異常的異常實例。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								IsFatal</span>：如果該異常是致命的，為「真」，並關閉連接，如果不是致命的，為「假」。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Message</span>：獲取描述當前異常的消息。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Number</span>：獲取指明錯誤類型的編號。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Source</span>：獲取或設置導致錯誤的應用程式或對象的名稱。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								StackTrace</span>：獲取拋出當前異常時在使用堆棧上幀的字串表徵。<span>
								</span></p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								TargetSite</span>：獲取拋出當前異常的方法。<span>
								</span></p>
								<h5 class="title">
								<a name="connector-net-architecture-exception-methods">
								</a>26.2.3.6.2.&nbsp;方法</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>MySqlException類沒有相應的方法。 
								<h5 class="title">
								<a name="connector-net-architecture-exception-usage">
								</a>26.2.3.6.3.&nbsp;用法</h5></div></div></div>
					<div class="toc">
						<dl>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-exception-usage-vb">26.2.3.6.3.1. VB.NET</a></span></dt>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-exception-usage-csharp">26.2.3.6.3.2. C#</a></span></dt>
						</dl></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>在下述示範中，因丟失了伺服器而生成了MySqlException，然後顯示異常。 
									<h6 class="title">
									<a name="connector-net-architecture-exception-usage-vb">
									</a>26.2.3.6.3.1. VB.NET</h6></div></div>
						</div>
						<p>該示範介紹在VB.NET下使用MySqlException類的方法。 </p>
						<pre class="programlisting">Public Sub ShowException()
     Dim mySelectQuery As String = "SELECT column1 FROM table1"
     Dim myConnection As New MySqlConnection ("Data Source=localhost;Database=Sample;")
     Dim myCommand As New MySqlCommand(mySelectQuery, myConnection)

     Try
         myCommand.Connection.Open()
     Catch e As MySqlException
        MessageBox.Show( e.Message )
     End Try
 End Sub       
      </pre></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>
									<h6 class="title">
									<a name="connector-net-architecture-exception-usage-csharp">
									</a>26.2.3.6.3.2. C#</h6></div></div></div>
						<p>該示範介紹在C#下使用MySqlException類的方法。</p>
						<pre class="programlisting">public void ShowException() 
{
   string mySelectQuery = "SELECT column1 FROM table1";
   MySqlConnection myConnection =
      new MySqlConnection("Data Source=localhost;Database=Sample;");
   MySqlCommand myCommand = new MySqlCommand(mySelectQuery,myConnection);

   try 
   {
      myCommand.Connection.Open();
   }
   catch (MySqlException e) 
   {
        MessageBox.Show( e.Message );
   }
}
    </pre></div></div></div>
			<div class="section">
				<div class="titlepage">
					<div>
						<div>
							<h4 class="title">
							<a name="mysql-connector-net-architecture-helper">
							</a>26.2.3.7.&nbsp;MySqlHelper類</h4></div></div></div>
				<div class="toc">
					<dl>
						<dt><span class="section">
						<a href="connectors.html#mysql-connector-net-architecture-helper-properties">
						26.2.3.7.1. 屬性</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#mysql-connector-net-architecture-helper-properties-methods">
						26.2.3.7.2. 方法</a></span></dt>
					</dl></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>
								助手類，能使與提供方（Provider）一起進行的工作變的更簡單。開發人員可以使用該類提供的方法自動執行共同任務。<h5 class="title">
								<a name="mysql-connector-net-architecture-helper-properties">
								</a>26.2.3.7.1.&nbsp;屬性</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>MySqlHelper類沒有相應的屬性。<h5 class="title">
								<a name="mysql-connector-net-architecture-helper-properties-methods">
								</a>26.2.3.7.2.&nbsp;方法</h5></div></div></div></div>
			</div>
			<div class="section">
				<div class="titlepage">
					<div>
						<div>可用方法如下：<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							ExecuteDataRow</span>：執行單個SQL語句並返回結果集的第1行。在該方法的執行過程中，將建立、打開並關閉1個新的MySqlConnection對象。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							ExecuteDataset</span>：執行單個SQL命令並返回DataSet中的結果集。在該方法的執行過程中，將建立、打開並關閉1個新的MySqlConnection對象。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							ExecuteNonQuery</span>：在MySQL資料庫上執行單個命令。使用該方法時，將認為MySqlConnection已打開，方法執行完後，MySqlConnection仍保持打開狀態。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							ExecuteReader</span>：Overloaded：在MySQL資料庫上執行單個命令。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							ExecuteScalar</span>：在MySQL資料庫上執行單個命令。</p>
							<p>
							<span>
							·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</span></span><span>
							UpdateDataSet</span>：用來自給定DataSet的數據更新給定資料表。</p>
							<h4 class="title">
							<a name="connector-net-architecture-transaction">
							</a>26.2.3.8.&nbsp;MySqlTransaction類</h4></div></div>
				</div>
				<div class="toc">
					<dl>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-transaction-properties">
						26.2.3.8.1. 屬性</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-transaction-methods">
						26.2.3.8.2. 方法</a></span></dt>
						<dt><span class="section">
						<a href="connectors.html#connector-net-architecture-transaction-usage">
						26.2.3.8.3. 用法</a></span></dt>
					</dl></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>代資料表將在MySQL資料庫中進行的SQL事務。<h5 class="title">
								<a name="connector-net-architecture-transaction-properties">
								</a>26.2.3.8.1.&nbsp;屬性</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用屬性如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Connection</span>：獲取與事務相關的MySqlConnection對象，如果事務不再有效，獲取空引用（在Visual 
								Basic中為Nothing）。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								IsolationLevel</span>：為該事務指定IsolationLevel。</p>
								<h5 class="title">
								<a name="connector-net-architecture-transaction-methods">
								</a>26.2.3.8.2.&nbsp;方法</h5></div></div></div></div>
				<div class="section">
					<div class="titlepage">
						<div>
							<div>可用方法如下：<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Commit</span>：提交資料庫事務。</p>
								<p>
								<span>
								·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								</span></span><span>
								Rollback</span>：從掛起狀態回滾事務。</p>
								<h5 class="title">
								<a name="connector-net-architecture-transaction-usage">
								</a>26.2.3.8.3.&nbsp;用法</h5></div></div></div>
					<div class="toc">
						<dl>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-transaction-vb">26.2.3.8.3.1. VB.NET</a></span></dt>
							<dt><span class="section">
							<a href="connectors.html#connector-net-architecture-transaction-csharp">26.2.3.8.3.2. C#</a></span></dt>
						</dl></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>在下面的示範中，建立了1個MySqlConnection和1個MySqlTransaction。此外，在示範中還介紹了如何使用BeginTransaction、Commit和Rollback方法。<h6 class="title">
									<a name="connector-net-architecture-transaction-vb">
									</a>26.2.3.8.3.1. VB.NET</h6></div></div>
						</div>
						<p>在下例中，介紹了在VB.NET中使用MySqlTransaction類的方法：</p>
						<pre class="programlisting">Public Sub RunTransaction(myConnString As String)
    Dim myConnection As New MySqlConnection(myConnString)
    myConnection.Open()
    
    Dim myCommand As MySqlCommand = myConnection.CreateCommand()
    Dim myTrans As MySqlTransaction
    
    ' Start a local transaction
    myTrans = myConnection.BeginTransaction()
    ' Must assign both transaction object and connection
    ' to Command object for a pending local transaction
    myCommand.Connection = myConnection
    myCommand.Transaction = myTrans
    
    Try
      myCommand.CommandText = "Insert into Region (RegionID, RegionDescription) VALUES (100, 'Description')"
      myCommand.ExecuteNonQuery()
      myCommand.CommandText = "Insert into Region (RegionID, RegionDescription) VALUES (101, 'Description')"
      myCommand.ExecuteNonQuery()
      myTrans.Commit()
      Console.WriteLine("Both records are written to database.")
    Catch e As Exception
      Try
        myTrans.Rollback()
      Catch ex As MySqlException
        If Not myTrans.Connection Is Nothing Then
          Console.WriteLine("An exception of type " &amp; ex.GetType().ToString() &amp; _
                            " was encountered while attempting to roll back the transaction.")
        End If
      End Try
    
      Console.WriteLine("An exception of type " &amp; e.GetType().ToString() &amp; _
                      "was encountered while inserting the data.")
      Console.WriteLine("Neither record was written to database.")
    Finally
      myConnection.Close()
    End Try
End Sub 'RunTransaction       
      </pre></div>
					<div class="section">
						<div class="titlepage">
							<div>
								<div>
									<h6 class="title">
									<a name="connector-net-architecture-transaction-csharp">
									</a>26.2.3.8.3.2. C#</h6></div></div></div>
						<p>在下例中，介紹了在C#中使用MySqlTransaction類的方法：</p>
						<pre class="programlisting">public void RunTransaction(string myConnString) 
 {
    MySqlConnection myConnection = new MySqlConnection(myConnString);
    myConnection.Open();

    MySqlCommand myCommand = myConnection.CreateCommand();
    MySqlTransaction myTrans;

    // Start a local transaction
    myTrans = myConnection.BeginTransaction();
    // Must assign both transaction object and connection
    // to Command object for a pending local transaction
    myCommand.Connection = myConnection;
    myCommand.Transaction = myTrans;

    try
    {
      myCommand.CommandText = "Insert into Region (RegionID, RegionDescription) VALUES (100, 'Description')";
      myCommand.ExecuteNonQuery();
      myCommand.CommandText = "Insert into Region (RegionID, RegionDescription) VALUES (101, 'Description')";
      myCommand.ExecuteNonQuery();
      myTrans.Commit();
      Console.WriteLine("Both records are written to database.");
    }
    catch(Exception e)
    {
      try
      {
        myTrans.Rollback();
      }
      catch (MySqlException ex)
      {
        if (myTrans.Connection != null)
        {
          Console.WriteLine("An exception of type " + ex.GetType() +
                            " was encountered while attempting to roll back the transaction.");
        }
      }
    
      Console.WriteLine("An exception of type " + e.GetType() +
                        " was encountered while inserting the data.");
      Console.WriteLine("Neither record was written to database.");
    }
    finally 
    {
      myConnection.Close();
    }
}       
      </pre></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-using"></a>
			26.2.4.&nbsp;使用MySQL Connector/NET</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#connector-net-using-introduction">
				26.2.4.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-connecting">
				26.2.4.2. 使用MySQL Connector/NET連接到MySQL</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-prepared">
				26.2.4.3. 與預處理語句一起使用MySQL Connector/NET</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-stored">
				26.2.4.4. 用MySQL Connector/NET訪問儲存程式</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-blob">
				26.2.4.5. 用Connector/NET處理BLOB數據</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-crystal">
				26.2.4.6. 與Crystal Reports一起使用MySQL Connector/NET</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-datetime">
				26.2.4.7. 在MySQL Connector/NET中處理日期和時間訊息</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-using-introduction"></a>
				26.2.4.1.&nbsp;前言</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				在本節中，介紹的Connector/NET的一些常用方式，包括BLOB處理，日期處理，以及與諸如Crystal 
				Reports等常見工具一起使用Connector/NET的方法。<h4 class="title"><a name="connector-net-using-connecting"></a>
				26.2.4.2.&nbsp;使用MySQL Connector/NET連接到MySQL</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#connector-net-using-connecting-introduction">
					26.2.4.2.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-connecting-connection_string">
					26.2.4.2.2. 建立連接字串</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-connecting-open">
					26.2.4.2.3. 打開連接</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-connecting-errors">
					26.2.4.2.4. 處理連接錯誤</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="connector-net-using-connecting-introduction"></a>
					26.2.4.2.1.&nbsp;前言</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					.NET應用程式和MySQL伺服器之間的所有交互均是通過<span>MySqlConnection對像傳送的。</span>在應用程式能夠與伺服器進行交互之前，必須獲取、配置、並打開<span>MySqlConnection</span>對象。<p>
					即使在使用<span>MySqlHelper</span>類時，<span>MySqlConnection</span>對象也會被<span>Helper類建立。</span></p>
					<p>在本節中，介紹了使用<span>MySqlConnection對像連接到MySQL的方法。</span></p>
					<h5 class="title"><a name="connector-net-using-connecting-connection_string"></a>
					26.2.4.2.2.&nbsp;建立連接字串</h5></div></div></div>
					<p><span>MySqlConnection</span>對象是使用連接字串配置的。1個連接字串包含伺服器鍵／值對，由分號隔開。每個鍵／值對由等號連接。</p>
					<p>下面給出了1個簡單的連接字串示範：</p>
					<pre><span>&nbsp;&nbsp;&nbsp; Server=127.0.0.1;Uid=root;Pwd=12345;Database=test;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
					<p>在本例中，對<span>MySqlConnection對像進行了配置，使用帳號<span >「</span>root<span >」</span>和密碼<span >「</span>12345<span >」</span>與位於127.0.0.1的</span>MySQL伺服器相連。所有語句的預設資料庫為測試資料庫。</p>
					<p>典型的選項如下（關於選項的完整清單，請參見API文檔）：</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>Server</span>：將要連接的MySQL實例的名稱或網絡地址。預設為本地主機。別名包括H<span>ost</span>,
					<span>Data Source</span>,
					<span>DataSource</span>,
					<span>Address</span>,
					<span>Addr</span>和<span>Network 
					Address。</span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>Uid</span>：連接時使用的MySQL用戶帳號。別名包括<span>User 
					Id</span>, <span>Username</span>和<span>User 
					name。</span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>Pwd</span>：MySQL帳號的密碼。也可以使用別名密碼。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>Database</span>：所有語句作用於的預設資料庫。預設為<span>mysql</span>。也可以使用別名<span>Initial 
					Catalog</span>。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>Port</span>：MySQL用於監聽連接的端口。預設為<span>3306。</span>將該值指定為「-1<span style="font-family:&quot;Times New Roman&quot;">」</span>將使用命名管道連接。</p>
					<div class="titlepage">
						<div>
							<div>
								<h5 class="title">
								<a name="connector-net-using-connecting-open">
								</a>26.2.4.2.3.&nbsp;打開連接</h5></div></div></div>
					<p>一旦建立了連接字串，可使用它打開與MySQL伺服器的連接。</p>
					<p>下述代碼用於建立<span>MySqlConnection</span>對象，指定連接字串，並打開連接。</p>
					<p>[VB]
        </p>
					<pre class="programlisting">Dim conn As New MySql.Data.MySqlClient.MySqlConnection
Dim myConnectionString as String

myConnectionString = "server=127.0.0.1;" _
            &amp; "uid=root;" _
            &amp; "pwd=12345;" _
            &amp; "database=test;"

Try
  conn.ConnectionString = myConnectionString
  conn.Open()

Catch ex As MySql.Data.MySqlClient.MySqlException
  MessageBox.Show(ex.Message)
End Try
  </pre>
					<p>[C#]
        </p>
					<pre class="programlisting">MySql.Data.MySqlClient.MySqlConnection conn;
string myConnectionString;
    
myConnectionString = "server=127.0.0.1;uid=root;" +
    "pwd=12345;database=test;";
  
try
{
    conn = new MySql.Data.MySqlClient.MySqlConnection();
    conn.ConnectionString = myConnectionString;
    conn.Open();
}
catch (MySql.Data.MySqlClient.MySqlException ex)
{
    MessageBox.Show(ex.Message);
}
</pre>
					<p>您也可以將連接字串傳遞給<span>MySqlConnection類的構造函數：</span></p>
					<p>[VB]
        </p>
					<pre class="programlisting">Dim myConnectionString as String

myConnectionString = "server=127.0.0.1;" _
              &amp; "uid=root;" _
              &amp; "pwd=12345;" _
              &amp; "database=test;" 

Try
    Dim conn As New MySql.Data.MySqlClient.MySqlConnection(myConnectionString)
    conn.Open()
Catch ex As MySql.Data.MySqlClient.MySqlException
   MessageBox.Show(ex.Message)
End Try
  </pre>
					<p>[C#]
        </p>
					<pre class="programlisting">MySql.Data.MySqlClient.MySqlConnection conn;
string myConnectionString;

myConnectionString = "server=127.0.0.1;uid=root;" +
    "pwd=12345;database=test;";

try
{
    conn = new MySql.Data.MySqlClient.MySqlConnection(myConnectionString);
    conn.Open();
}
catch (MySql.Data.MySqlClient.MySqlException ex)
{
    MessageBox.Show(ex.Message);
}
</pre></div><div class="section"><div class="titlepage"><div><div>
					一旦打開了連接，其他MySQL Connector/NET類也能使用該連接與MySQL伺服器進行通信。<h5 class="title"><a name="connector-net-using-connecting-errors"></a>
					26.2.4.2.4.&nbsp;處理連接錯誤</h5></div></div></div>
					<p>由於與外部伺服器的連接不可預測，應為您的.NET應用程式新增錯誤處理功能，這點很重要。出現連接錯誤時，<span>MySqlConnection</span>類將返回1個<span>MySqlException對象。</span>該對像有兩個在處理錯誤時十分有用的屬性：</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>Message</span>：描述當前異常的消息。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>Number</span>：MySQL錯誤編號。</p>
					<p>處理錯誤時，可根據錯誤編號瞭解應用程式的響應。進行連接時最常見的兩個錯誤編號如下：</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					0</span><span>: </span>無法連接到伺服器。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					1045</span><span>: </span>無效的帳號和／或密碼。</p>
					<p>在下面的代碼中，介紹了根據實際錯誤改編應用程式的方法：</p>
					<p>
          [VB]
        </p><pre class="programlisting">Dim myConnectionString as String

myConnectionString = "server=127.0.0.1;" _
          &amp; "uid=root;" _
          &amp; "pwd=12345;" _
          &amp; "database=test;" 

Try
    Dim conn As New MySql.Data.MySqlClient.MySqlConnection(myConnectionString)
    conn.Open()
Catch ex As MySql.Data.MySqlClient.MySqlException
    Select Case ex.Number
        Case 0
            MessageBox.Show("Cannot connect to server. Contact administrator")
        Case 1045
            MessageBox.Show("Invalid username/password, please try again")
    End Select
End Try
  </pre><p>
          [C#]
        </p><pre class="programlisting">MySql.Data.MySqlClient.MySqlConnection conn;
string myConnectionString;

myConnectionString = "server=127.0.0.1;uid=root;" +  
    "pwd=12345;database=test;";

try
{
    conn = new MySql.Data.MySqlClient.MySqlConnection(myConnectionString);
    conn.Open();
}
    catch (MySql.Data.MySqlClient.MySqlException ex)
{
    switch (ex.Number)
    {
        case 0:
            MessageBox.Show("Cannot connect to server.  Contact administrator");
        case 1045:
            MessageBox.Show("Invalid username/password, please try again");
    }
}
  </pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-using-prepared"></a>
				26.2.4.3.&nbsp;與預處理語句一起使用MySQL Connector/NET</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#connector-net-using-prepared-introduction">
				26.2.4.3.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-prepared-preparing">
					26.2.4.3.2. 在MySQL Connector/NET中準備語句</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="connector-net-using-prepared-introduction"></a>
					26.2.4.3.1.&nbsp;前言</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					從MySQL 4.1開始，能夠與MySQL 
					Connector/NET一起使用預處理語句。使用預處理語句能夠現住改善多次執行的查詢的性能。<p>
					對於多次執行的語句，預處理執行的速度快於直接執行，這是因為只需進行1次解析操作。在直接執行的情況下，每次執行時均將進行解析操作。預處理執行還能降低網絡通信量，這是因為對於預處理語句的每次執行，僅需發送用於參數的數據。</p>
					<p>預處理語句的另一優點是，它能使用二進制協議，這使得客戶端和伺服器間的數據傳輸更有效率。</p>
					<h5 class="title"><a name="connector-net-using-prepared-preparing"></a>
					26.2.4.3.2.&nbsp;在MySQL Connector/NET中準備語句</h5></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				為了準備好語句，需建立1個命令對象，並為查詢設置<span>.CommandText屬性。</span><p>
				輸入語句後，使用<span>MySqlCommand對象的.Prepare方法。</span>完成語句的準備後，為查詢中的每個元素新增參數。</p>
				<p>輸入查詢並輸入參數後，使用<span>.ExecuteNonQuery()</span>、<span>.ExecuteScalar()</span>、或<span>.ExecuteReader方法執行語句。</span></p>
				<p>對於後續的執行操作，僅需更改參數值並再次使用執行方法，無需設置<span>.CommandText屬性或重新定義參數。</span></p>
				<p><span>[VB] </span></p>
				<pre><span>Dim conn As New MySqlConnection</span></pre>
				<pre><span>Dim cmd As New MySqlCommand</span></pre>
				<pre><span>&nbsp; </span></pre>
				<pre><span>conn.ConnectionString = strConnection</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>Try</span></pre>
				<pre><span>&nbsp;&nbsp; conn.Open()</span></pre>
				<pre><span>&nbsp;&nbsp; cmd.Connection = conn</span></pre>
				<pre><span> </span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;cmd.CommandText = &quot;INSERT INTO myTable VALUES(NULL, ?number, ?text)&quot;</span></pre>
				<pre><span>&nbsp;&nbsp; cmd.Prepare()</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp; cmd.Parameters.Add(&quot;?number&quot;, 1)</span></pre>
				<pre><span>&nbsp;&nbsp; cmd.Parameters.Add(&quot;?text&quot;, &quot;One&quot;)</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp; For i = 1 To 1000</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;cmd.Parameters(&quot;?number&quot;).Value = i</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd.Parameters(&quot;?text&quot;).Value = &quot;A string value&quot;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd.ExecuteNonQuery()</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; Next </span></pre>
				<pre><span>Catch ex As MySqlException</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; MessageBox.Show(&quot;Error &quot; &amp; ex.Number &amp; &quot; has occurred: &quot; &amp; ex.Message, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error)</span></pre>
				<pre><span>End Try</span></pre>
				<pre><span>&nbsp; </span></pre>
				<p><span>[C#] </span></p>
				<pre><span>MySql.Data.MySqlClient.MySqlConnection conn;</span></pre>
				<pre><span>MySql.Data.MySqlClient.MySqlCommand cmd;</span></pre>
				<pre><span>&nbsp; </span></pre>
				<pre><span>conn = new MySql.Data.MySqlClient.MySqlConnection();</span></pre>
				<pre><span>cmd = new MySql.Data.MySqlClient.MySqlCommand();</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>conn.ConnectionString = strConnection;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>try</span></pre>
				<pre><span>{</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; conn.Open();</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; cmd.Connection = conn;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; cmd.CommandText = &quot;INSERT INTO myTable VALUES(NULL, ?number, ?text)&quot;;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; cmd.Prepare();</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; cmd.Parameters.Add(&quot;?number&quot;, 1);</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; cmd.Parameters.Add(&quot;?text&quot;, &quot;One&quot;);</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; for (int i=1; i &lt;= 1000; i++)</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; {</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd.Parameters[&quot;?number&quot;].Value = i;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd.Parameters[&quot;?text&quot;].Value = &quot;A string value&quot;;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd.ExecuteNonQuery();</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; }</span></pre>
				<pre><span>}</span></pre>
				<pre><span>catch (MySql.Data.MySqlClient.MySqlException ex)</span></pre>
				<pre><span>{</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; MessageBox.Show(&quot;Error &quot; + ex.Number + &quot; has occurred: &quot; + ex.Message,</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);</span></pre>
				<pre><span>}</span></pre>
				<h4 class="title"><a name="connector-net-using-stored"></a>
				26.2.4.4.&nbsp;用MySQL Connector/NET訪問儲存程式</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#connector-net-using-stored-introduction">
				26.2.4.4.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-stored-creating">
					26.2.4.4.2. 從MySQL Connector/NET建立儲存程式</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-stored-calling">
					26.2.4.4.3. 從MySQL Connector/NET使用儲存程式</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="connector-net-using-stored-introduction"></a>
					26.2.4.4.1.&nbsp;前言</h5></div></div></div>
					<p>隨著MySQL版本5的發佈，MySQL伺服器目前支援儲存程式，它採用了SQL 2003儲存程式的語法。</p>
					<p>&nbsp;</p>
					<p>儲存程式指的是能夠保存在伺服器上的一組SQL語句。 
					一旦完成了該操作，客戶端無需再次發出單獨語句，而僅需引用儲存程式取而代之。</p>
					<p>在下述情況下，儲存程式尤其有用：</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>多個客戶端應用程式是採用不同語言編寫的或工作在不同平台上，但需執行相同的資料庫操作。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					安全性極其重要時。例如，對於所有共同操作，銀行採用了儲存程式。這樣，就能提供一致且安全的環境，而且這類儲存程式能夠保證每次操作均具有恰當登錄。在這類設置下，應用程式和用戶無法直接訪問資料庫資料表，但能執行特定的儲存程式。</p>
					<p>MySQL Connector/NET支援通過<span>MySqlCommand對象的儲存程式使用。</span>使用<span>MySqlCommand.Parameters集，能夠將數據傳入和傳出</span>MySQL儲存程式。</p>
					<p>在本節中，未深度介紹建立儲存程式方面的訊息，要想瞭解這類訊息，請參見MySQL參考手冊的<span><a target="_top"  href="http://dev.mysql.com/doc/mysql/en/stored-procedures.html">儲存程式</a></span>。</p>
					<p>在MySQL Connector/NET安裝的<span>Samples目錄下，可找到1個相應的示範，該示範演示了與</span>MySQL 
					Connector/NET一起使用儲存程式的方法。</p>
					<div class="titlepage">
						<div>
							<div>
								<h5 class="title">
								<a name="connector-net-using-stored-creating">
								</a>26.2.4.4.2.&nbsp;從MySQL Connector/NET建立儲存程式</h5>
							</div></div></div>
					<p>可使用多種工具建立MySQL中的儲存程式。首先，可使用<strong><span>mysql</span></strong>命令行客戶端建立儲存程式。其次，可使用<span>MySQL 
					Query Browser</span> GUI客戶端建立儲存程式。最後，可使用<span>MySqlCommand對象的.ExecuteNonQuery方法</span>建立儲存程式。</p>
					<p>[VB]
        </p>
					<pre class="programlisting">Dim conn As New MySqlConnection
Dim cmd As New MySqlCommand

conn.ConnectionString = "server=127.0.0.1;" _
    &amp; "uid=root;" _
    &amp; "pwd=12345;" _
    &amp; "database=test"

Try
    conn.Open()
    cmd.Connection = conn

    cmd.CommandText = "CREATE PROCEDURE add_emp(" _
        &amp; "IN fname VARCHAR(20), IN lname VARCHAR(20), IN bday DATETIME, OUT empno INT) " _
        &amp; "BEGIN INSERT INTO emp(first_name, last_name, birthdate) " _
        &amp; "VALUES(fname, lname, DATE(bday)); SET empno = LAST_INSERT_ID(); END"
 
    cmd.ExecuteNonQuery()
Catch ex As MySqlException
    MessageBox.Show("Error " &amp; ex.Number &amp; " has occurred: " &amp; ex.Message, "Error", MessageBoxButtons.OK, MessageBoxIcon.Error)
End Try
</pre>
					<p>[C#]
        </p>
					<pre class="programlisting">MySql.Data.MySqlClient.MySqlConnection conn;
MySql.Data.MySqlClient.MySqlCommand cmd;

conn = new MySql.Data.MySqlClient.MySqlConnection();
cmd = new MySql.Data.MySqlClient.MySqlCommand();

conn.ConnectionString = "server=127.0.0.1;uid=root;" +
    "pwd=12345;database=test;";

try
{
    conn.Open();
    cmd.Connection = conn;

    cmd.CommandText = "CREATE PROCEDURE add_emp(" +
        "IN fname VARCHAR(20), IN lname VARCHAR(20), IN bday DATETIME, OUT empno INT) " +
        "BEGIN INSERT INTO emp(first_name, last_name, birthdate) " +
        "VALUES(fname, lname, DATE(bday)); SET empno = LAST_INSERT_ID(); END";

    cmd.ExecuteNonQuery();
}
catch (MySql.Data.MySqlClient.MySqlException ex)
{
MessageBox.Show("Error " + ex.Number + " has occurred: " + ex.Message,
    "Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
}
</pre></div><div class="section"><div class="titlepage"><div><div>
					請注意，不同於命令行和GUI客戶端，在MySQL Connector/NET中建立儲存程式時不需要指定特殊的定界符。<h5 class="title"><a name="connector-net-using-stored-calling"></a>
					26.2.4.4.3.&nbsp;從MySQL Connector/NET使用儲存程式</h5></div></div></div>
					<p>要想使用MySQL Connector/NET來使用儲存程式，應建立1個<span>MySqlCommand對象，並將儲存程式名作為.CommandText屬性傳遞。</span>將<span>.CommandType</span>屬性設置為<span>CommandType.StoredProcedure。</span></p>
					<p>命名了<span>儲存程式後，為儲存程式中的每個參數建立1個MySqlCommand參數。</span>用參數名和包含值的對象定義IN參數，用參數名和預計將返回的數據類型定義OUT參數。對於所有參數，均需定義參數方向。</p>
					<p>定義完參數後，使用<span>MySqlCommand.ExecuteNonQuery()方法使用儲存程式。</span></p>
					<p>
          [VB]
        </p><pre class="programlisting">Dim conn As New MySqlConnection
Dim cmd As New MySqlCommand

conn.ConnectionString = "server=127.0.0.1;" _
    &amp; "uid=root;" _
    &amp; "pwd=12345;" _
    &amp; "database=test"

Try
    conn.Open()
    cmd.Connection = conn

    cmd.CommandText = "add_emp"
    cmd.CommandType = CommandType.StoredProcedure

    cmd.Parameters.Add("?lname", 'Jones')
    cmd.Parameters("?lname").Direction = ParameterDirection.Input

    cmd.Parameters.Add("?fname", 'Tom')
    cmd.Parameters("?fname").Direction = ParameterDirection.Input

    cmd.Parameters.Add("?bday", #12/13/1977 2:17:36 PM#)
    cmd.Parameters("?bday").Direction = ParameterDirection.Input

    cmd.Parameters.Add("?empno", MySqlDbType.Int32)
    cmd.Parameters("?empno").Direction = ParameterDirection.Output

    cmd.ExecuteNonQuery()

    MessageBox.Show(cmd.Parameters("?empno").Value)
Catch ex As MySqlException
    MessageBox.Show("Error " &amp; ex.Number &amp; " has occurred: " &amp; ex.Message, "Error", MessageBoxButtons.OK, MessageBoxIcon.Error)
End Try
</pre><p>
          [C#]
        </p><pre class="programlisting">MySql.Data.MySqlClient.MySqlConnection conn;
MySql.Data.MySqlClient.MySqlCommand cmd;

conn = new MySql.Data.MySqlClient.MySqlConnection();
cmd = new MySql.Data.MySqlClient.MySqlCommand();

conn.ConnectionString = "server=127.0.0.1;uid=root;" +
    "pwd=12345;database=test;";

try
{
    conn.Open();
    cmd.Connection = conn;

    cmd.CommandText = "add_emp";
    cmd.CommandType = CommandType.StoredProcedure;

    cmd.Parameters.Add("?lname", "Jones");
    cmd.Parameters("?lname").Direction = ParameterDirection.Input;

    cmd.Parameters.Add("?fname", "Tom");
    cmd.Parameters("?fname").Direction = ParameterDirection.Input;

    cmd.Parameters.Add("?bday", DateTime.Parse("12/13/1977 2:17:36 PM"));
    cmd.Parameters("?bday").Direction = ParameterDirection.Input;

    cmd.Parameters.Add("?empno", MySqlDbType.Int32);
    cmd.Parameters("?empno").Direction = ParameterDirection.Output;

    cmd.ExecuteNonQuery();

    MessageBox.Show(cmd.Parameters("?empno").Value);
}
catch (MySql.Data.MySqlClient.MySqlException ex)
{
    MessageBox.Show("Error " + ex.Number + " has occurred: " + ex.Message,
      "Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
}
</pre></div></div><div class="section"><div class="titlepage"><div><div>
				一旦使用了儲存程式，可使用<span>MySqlConnector.Parameters集的.Value屬性檢索輸出參數的值。</span><h4 class="title"><a name="connector-net-using-blob"></a>
				26.2.4.5.&nbsp;用Connector/NET處理BLOB數據</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#connector-net-using-blob-introduction">
				26.2.4.5.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-blob-serverprep">
					26.2.4.5.2. 準備MySQL伺服器</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-blob-writing">
					26.2.4.5.3. 將檔案寫入資料庫</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-blob-reading">
					26.2.4.5.4. 將BLOB從資料庫讀取到磁盤上的檔案</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="connector-net-using-blob-introduction"></a>
					26.2.4.5.1.&nbsp;前言</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					MySQL的1種用途是在BLOB列中保存二進制數據。MySQL支援4種不同的BLOB數據類型：<span>TINYBLOB</span>,
					<span>BLOB</span>,
					<span>MEDIUMBLOB</span>和<span>LONGBLOB</span>。<p>
					可使用Connector/NET訪問保存在BLOB列中的數據，並能使用客戶端代碼對這類數據進行操作。使用Connector/NET和BLOB數據時，無特殊要求。</p>
					<p>在本節中，給出了數個簡單的代碼示範，在MySQL Connector/NET安裝的<span>Samples目錄下，可找到1個完整的示範應用程式。</span></p>
					<h5 class="title"><a name="connector-net-using-blob-serverprep"></a>
					26.2.4.5.2.&nbsp;準備MySQL伺服器</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					與BLOB數據一起使用MySQL的第1步是配置伺服器。首先，讓我們從建立要訪問的資料表開始。在我的檔案資料表中，通常有4列：1個具有恰當大小的AUTO_INCREMENT列（UNSIGNED 
					SMALLINT），用於保存識別檔案的主鍵；1個VARCHAR列，用於保存檔案名；1個UNSIGNED 
					MEDIUMINT列，用於保存檔案的大小；以及1個用於保存檔案本身的MEDIUMBLOB列。對於本例，我將使用下述資料表定義：<pre><span>CREATE TABLE file(</span></pre>
					<pre><span>file_id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,</span></pre>
					<pre><span>file_name VARCHAR(64) NOT NULL,</span></pre>
					<pre><span>file_size MEDIUMINT UNSIGNED NOT NULL,</span></pre>
					<pre><span>file MEDIUMBLOB NOT NULL);</span></pre>
					<p>完成資料表的建立後，或許需要更改max_allowed_packet系統變數。該變數決定了能夠發送給MySQL伺服器的訊息包（即單個行）大小。預設情況下，伺服器能夠接受來自客戶端應用程式的訊息包最大為1MB。如果不打算超過1MB，情況良好。如果打算在檔案傳輸中超出1MB，必須增加該數值。</p>
					<p>可以使用「MySQL系統管理員的啟動變數」屏幕更改max_allowed_packet選項。在「聯網」選項卡的「內存」部分，恰當調整「允許的最大值」選項。完成值的調整後，點擊「應用更改」按鈕，並使用「MySQL管理員」的「服務控制」屏幕重新啟動伺服器。也可以在my.cnf檔案中直接調整該值（新增1行，max_allowed_packet=xxM），或在MySQL中使用SET 
					max_allowed_packet=xxM。</p>
					<p>設置max_allowed_packet時應保守些，這是因為傳輸BLOB數據需要一段時間。恰當地設置該值，使之與預期使用相符，並在必要時增大該值。</p>
					<h5 class="title"><a name="connector-net-using-blob-writing"></a>
					26.2.4.5.3.&nbsp;將檔案寫入資料庫</h5></div></div></div>
					<p>要想將檔案寫入資料庫，需要將檔案轉換為字節數組，然後將字節數組用作INSERT查詢的參數。</p>
					<p>在下述代碼中，使用FileStream對像打開了1個檔案，將其讀入至字節數組，然後將其插入到檔案資料表中：</p>
					<p>
          [VB]
        </p><pre class="programlisting">Dim conn As New MySqlConnection
Dim cmd As New MySqlCommand

Dim SQL As String

Dim FileSize As UInt32
Dim rawData() As Byte
Dim fs As FileStream

conn.ConnectionString = "server=127.0.0.1;" _
    &amp; "uid=root;" _
    &amp; "pwd=12345;" _
    &amp; "database=test"

Try
    fs = New FileStream("c:\image.png", FileMode.Open, FileAccess.Read)
    FileSize = fs.Length
    
    rawData = New Byte(FileSize) {}
    fs.Read(rawData, 0, FileSize)
    fs.Close()
    
    conn.Open()
    
    SQL = "INSERT INTO file VALUES(NULL, ?FileName, ?FileSize, ?File)"
    
    cmd.Connection = conn
    cmd.CommandText = SQL
    cmd.Parameters.Add("?FileName", strFileName)
    cmd.Parameters.Add("?FileSize", FileSize)
    cmd.Parameters.Add("?File", rawData)
    
    cmd.ExecuteNonQuery()
    
    MessageBox.Show("File Inserted into database successfully!", _
    "Success!", MessageBoxButtons.OK, MessageBoxIcon.Asterisk)
    
    conn.Close()
Catch ex As Exception
    MessageBox.Show("There was an error: " &amp; ex.Message, "Error", _
        MessageBoxButtons.OK, MessageBoxIcon.Error)
End Try
  </pre><p>
          [C#]
        </p><pre class="programlisting">MySql.Data.MySqlClient.MySqlConnection conn;
MySql.Data.MySqlClient.MySqlCommand cmd;

conn = new MySql.Data.MySqlClient.MySqlConnection();
cmd = new MySql.Data.MySqlClient.MySqlCommand();

string SQL;
UInt32 FileSize;
byte[] rawData;
FileStream fs;

conn.ConnectionString = "server=127.0.0.1;uid=root;" +
    "pwd=12345;database=test;";

try
{
    fs = new FileStream(@"c:\image.png", FileMode.Open, FileAccess.Read);
    FileSize = fs.Length;

    rawData = new byte[FileSize];
    fs.Read(rawData, 0, FileSize);
    fs.Close();

    conn.Open();

    SQL = "INSERT INTO file VALUES(NULL, ?FileName, ?FileSize, ?File)";

    cmd.Connection = conn;
    cmd.CommandText = SQL;
    cmd.Parameters.Add("?FileName", strFileName);
    cmd.Parameters.Add("?FileSize", FileSize);
    cmd.Parameters.Add("?File", rawData);

    cmd.ExecuteNonQuery();

    MessageBox.Show("File Inserted into database successfully!",
        "Success!", MessageBoxButtons.OK, MessageBoxIcon.Asterisk);

    conn.Close();
}
catch (MySql.Data.MySqlClient.MySqlException ex)
{
    MessageBox.Show("Error " + ex.Number + " has occurred: " + ex.Message,
        "Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
}
 </pre></div><div class="section"><div class="titlepage"><div><div>
					<span>FileStream對象的<span >「</span>Read<span >」</span>方法可用於將檔案加載到字節數組中，該字節數組的大小是根據FileStream對象的<span >「</span>Length<span >」</span>屬性確定的。</span><p>
					將字節數組指定為<span>MySqlCommand對象的參數後，使用ExecuteNonQuery方法，並將BLOB插入到檔案資料表中。</span></p>
					<h5 class="title"><a name="connector-net-using-blob-reading"></a>
					26.2.4.5.4.&nbsp;將BLOB從資料庫讀取到磁盤上的檔案</h5></div></div></div>
					<p>一旦將檔案加載到了檔案資料表中，就能使用<span>MySqlDataReader類來檢索它。</span></p>
					<p>在下述代碼中，從檔案資料表提取了1行，然後將數據裝載到要寫入至磁盤的<span>FileStream對象。</span></p>
					<p>
          [VB]
        </p><pre class="programlisting">Dim conn As New MySqlConnection
Dim cmd As New MySqlCommand
Dim myData As MySqlDataReader
Dim SQL As String
Dim rawData() As Byte
Dim FileSize As UInt32
Dim fs As FileStream

conn.ConnectionString = "server=127.0.0.1;" _
    &amp; "uid=root;" _
    &amp; "pwd=12345;" _
    &amp; "database=test"

SQL = "SELECT file_name, file_size, file FROM file"

Try
    conn.Open()
    
    cmd.Connection = conn
    cmd.CommandText = SQL
    
    myData = cmd.ExecuteReader
    
    If Not myData.HasRows Then Throw New Exception("There are no BLOBs to save")
    
    myData.Read()
    
    FileSize = myData.GetUInt32(myData.GetOrdinal("file_size"))
    rawData = New Byte(FileSize) {}
    
    myData.GetBytes(myData.GetOrdinal("file"), 0, rawData, 0, FileSize)
    
    fs = New FileStream("C:\newfile.png", FileMode.OpenOrCreate, FileAccess.Write)
    fs.Write(rawData, 0, FileSize)
    fs.Close()
    
    MessageBox.Show("File successfully written to disk!", "Success!", MessageBoxButtons.OK, MessageBoxIcon.Asterisk)
    
    myData.Close()
    conn.Close()
Catch ex As Exception
    MessageBox.Show("There was an error: " &amp; ex.Message, "Error", MessageBoxButtons.OK, MessageBoxIcon.Error)
End Try
  </pre><p>
          [C#]
        </p><pre class="programlisting">MySql.Data.MySqlClient.MySqlConnection conn;
MySql.Data.MySqlClient.MySqlCommand cmd;
MySql.Data.MySqlClient.MySqlDataReader myData;

conn = new MySql.Data.MySqlClient.MySqlConnection();
cmd = new MySql.Data.MySqlClient.MySqlCommand();

string SQL;
UInt32 FileSize;
byte[] rawData;
FileStream fs;

conn.ConnectionString = "server=127.0.0.1;uid=root;" +
    "pwd=12345;database=test;";

SQL = "SELECT file_name, file_size, file FROM file";

try
{
    conn.Open();

    cmd.Connection = conn;
    cmd.CommandText = SQL;

    myData = cmd.ExecuteReader();

    if (! myData.HasRows)
        throw new Exception("There are no BLOBs to save");

    myData.Read();

    FileSize = myData.GetUInt32(myData.GetOrdinal("file_size"));
    rawData = new byte[FileSize];

    myData.GetBytes(myData.GetOrdinal("file"), 0, rawData, 0, FileSize);

    fs = new FileStream(@"C:\newfile.png", FileMode.OpenOrCreate, FileAccess.Write);
    fs.Write(rawData, 0, FileSize);
    fs.Close();

    MessageBox.Show("File successfully written to disk!",
        "Success!", MessageBoxButtons.OK, MessageBoxIcon.Asterisk);

    myData.Close();
    conn.Close();
}
catch (MySql.Data.MySqlClient.MySqlException ex)
{
    MessageBox.Show("Error " + ex.Number + " has occurred: " + ex.Message,
        "Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
}
 </pre></div></div><div class="section"><div class="titlepage"><div><div>
				連接後，檔案資料表的內容將被加載到<span>MySqlDataReader對像中。</span>使用MySqlDataReader的<span>GetBytes方法將BLOB加載到字節數組，然後使用</span>FileStream對像將字節數據寫入磁盤。<p>
				MySqlDataReader的<span>GetOrdinal方法可用於確定命名列的整數索引。</span>如果SELECT查詢的列順序發生變化，使用<span>GetOrdinal方法能夠防止錯誤。</span></p>
				<h4 class="title"><a name="connector-net-using-crystal"></a>
				26.2.4.6.&nbsp;與Crystal Reports一起使用MySQL Connector/NET</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#connector-net-using-crystal-introduction">
					26.2.4.6.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-crystal-source">
					26.2.4.6.2. 建立數據源</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-crystal-creating">
					26.2.4.6.3. 建立報告</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-crystal-displaying">
					26.2.4.6.4. 顯示報告</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="connector-net-using-crystal-introduction"></a>
					26.2.4.6.1.&nbsp;前言</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					Crystal Reports是Windows應用程式開發人員用於通報文檔生成的常用工具。在本節中，介紹了Crystal 
					Reports XI與MySQL和Connector/NET一起使用的方法。<p>在MySQL 
					Connector/NET安裝的Samples目錄的CrystalDemo子目錄下，可找到完整的示範應用程式。</p>
					<h5 class="title"><a name="connector-net-using-crystal-source"></a>
					26.2.4.6.2.&nbsp;建立數據源</h5></div></div></div>
					<p>在Crystal Reports中建立報告時，在設計報告時，有兩個用於訪問MySQL數據的選項。</p>
					<p>
					第1個選項是，設計報告時，使用Connector/ODBC作為ADO數據源。您能夠瀏覽資料庫，並使用拖放式操作選擇資料表和字段以建立報告。該方法的缺點是，必須在應用程式中執行額外操作以生成與報告預期的數據集匹配的數據集。</p>
					<p>第2個選項是在VB.NET中建立數據集，並將其保存為XML格式。隨後，該XML檔案可被用於設計報告。在應用程式中顯示報告時，它的資料表現相當良好，但設計時的通用性較差，這是因為在建立數據集時，必須選擇所有的相關列。如果忘記選擇了某一列，在能夠將列新增到報告前，必須重新建立數據集。</p>
					<p>使用下述代碼，可根據查詢操作建立數據集，並將其寫入磁盤。</p>
					<p>
          [VB]
        </p><pre class="programlisting">Dim myData As New DataSet
Dim conn As New MySqlConnection
Dim cmd As New MySqlCommand
Dim myAdapter As New MySqlDataAdapter

conn.ConnectionString = "server=127.0.0.1;" _
    &amp; "uid=root;" _
    &amp; "pwd=12345;" _
    &amp; "database=world"

Try
    conn.Open()
    cmd.CommandText = "SELECT city.name AS cityName, city.population AS CityPopulation, " _ 
        &amp; "country.name, country.population, country.continent " _
        &amp; "FROM country, city ORDER BY country.continent, country.name"
    cmd.Connection = conn
    
    myAdapter.SelectCommand = cmd
    myAdapter.Fill(myData)
    
    myData.WriteXml("C:\dataset.xml", XmlWriteMode.WriteSchema)
Catch ex As Exception
    MessageBox.Show(ex.Message, "Report could not be created", MessageBoxButtons.OK, MessageBoxIcon.Error)
End Try
 </pre><p>
          [C#]
        </p><pre class="programlisting">DataSet myData = new DataSet();
MySql.Data.MySqlClient.MySqlConnection conn;
MySql.Data.MySqlClient.MySqlCommand cmd;
MySql.Data.MySqlClient.MySqlDataAdapter myAdapter;

conn = new MySql.Data.MySqlClient.MySqlConnection();
cmd = new MySql.Data.MySqlClient.MySqlCommand();
myAdapter = new MySql.Data.MySqlClient.MySqlDataAdapter();

conn.ConnectionString = "server=127.0.0.1;uid=root;" +
  "pwd=12345;database=test;";
  
try
{
  cmd.CommandText = "SELECT city.name AS cityName, city.population AS CityPopulation, " +
  "country.name, country.population, country.continent " +
  "FROM country, city ORDER BY country.continent, country.name";
  cmd.Connection = conn;
  
  myAdapter.SelectCommand = cmd;
  myAdapter.Fill(myData);
  
  myData.WriteXml(@"C:\dataset.xml", XmlWriteMode.WriteSchema);
}
catch (MySql.Data.MySqlClient.MySqlException ex)
{
  MessageBox.Show(ex.Message, "Report could not be created",
  MessageBoxButtons.OK, MessageBoxIcon.Error);
}
</pre></div><div class="section"><div class="titlepage"><div><div>
					設計報告時，可將該代碼生成的XML檔案用作ADO.NET XML數據源。<p>
					如果您選擇使用Connector/ODBC來設計報告，可從<span><a target="_top"  href="http://dev.mysql.com/downloads/connector/odbc/3.51.html">dev.mysql.com</a></span>下載它。</p>
					<h5 class="title"><a name="connector-net-using-crystal-creating"></a>
					26.2.4.6.3.&nbsp;建立報告</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					對於大多數應用目的，標準的報告嚮導應能幫助您完成報告的最初建立。要想啟動嚮導，打開Crystal 
					Reports並從「檔案」菜單選擇「New &gt; Standard Report」選項。<p>
					嚮導首先要求您提供數據源。如果您正使用Connector/ODBC作為數據源，選擇數據源時，請使用OLE DB 
					(ADO)樹的「用於ODBC的OLEDB provider」選項，，而不是來自ODBC (RDO)的對應選項。如果您使用的是已保存的數據集，請選擇ADO.NET 
					(XML)選項，並瀏覽您保存的數據集。</p>
					<p>在報告的建立過程中，剩餘部分將由嚮導自動完成。</p>
					<p>建立完報告後，選擇「檔案」菜單中的「Report Options...」菜單項。取消對「Save Data 
					With Report」（與報告一起保存數據）選項的選擇。這樣，就能防止保存的數據干擾應用程式中的數據加載操作。</p>
					<h5 class="title"><a name="connector-net-using-crystal-displaying"></a>
					26.2.4.6.4.&nbsp;顯示報告</h5></div></div></div>
					<p>要想顯示報告，首先用報告所需的數據填充數據集，然後加載報告，並將其與綁定到數據集。最後，將報告傳遞給crViewer控制，以便向用戶顯示它。</p>
					<p>在顯示報告的項目中，需要下述引用：</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					CrytalDecisions.CrystalReports.Engine </span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>CrystalDecisions.ReportSource
					</span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>CrystalDecisions.Shared </span>
					</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>CrystalDecisions.Windows.Forms
					</span></p>
					<p>在下述代碼中，假定您使用數據集（用<a href="connectors.html#connector-net-using-crystal-source" title="26.2.4.6.2. Creating a Data Source">建立數據源</a>中給出的代碼保存的數據集）建立了報告，並在名為「<span>myViewer</span>」的資料表單上有1個crViewer控件。</p>
					<p>
          [VB]
        </p><pre class="programlisting">Imports CrystalDecisions.CrystalReports.Engine
Imports System.Data
Imports MySql.Data.MySqlClient

Dim myReport As New ReportDocument
Dim myData As New DataSet
Dim conn As New MySqlConnection
Dim cmd As New MySqlCommand
Dim myAdapter As New MySqlDataAdapter

conn.ConnectionString = _
    "server=127.0.0.1;" _
    &amp; "uid=root;" _
    &amp; "pwd=12345;" _
    &amp; "database=test"

Try
    conn.Open()
    
    cmd.CommandText = "SELECT city.name AS cityName, city.population AS CityPopulation, " _ 
        &amp; "country.name, country.population, country.continent " _
        &amp; "FROM country, city ORDER BY country.continent, country.name"
    cmd.Connection = conn
    
    myAdapter.SelectCommand = cmd
    myAdapter.Fill(myData)
    
    myReport.Load(".\world_report.rpt")
    myReport.SetDataSource(myData)
    myViewer.ReportSource = myReport
Catch ex As Exception
    MessageBox.Show(ex.Message, "Report could not be created", MessageBoxButtons.OK, MessageBoxIcon.Error)
End Try
</pre><p>
          [C#]
        </p><pre class="programlisting">using CrystalDecisions.CrystalReports.Engine;
using System.Data;
using MySql.Data.MySqlClient;

ReportDocument myReport = new ReportDocument();
DataSet myData = new DataSet();
MySql.Data.MySqlClient.MySqlConnection conn;
MySql.Data.MySqlClient.MySqlCommand cmd;
MySql.Data.MySqlClient.MySqlDataAdapter myAdapter;

conn = new MySql.Data.MySqlClient.MySqlConnection();
cmd = new MySql.Data.MySqlClient.MySqlCommand();
myAdapter = new MySql.Data.MySqlClient.MySqlDataAdapter();

conn.ConnectionString = "server=127.0.0.1;uid=root;" +
    "pwd=12345;database=test;";

try
{
    cmd.CommandText = "SELECT city.name AS cityName, city.population AS CityPopulation, " +
        "country.name, country.population, country.continent " +
        "FROM country, city ORDER BY country.continent, country.name";
    cmd.Connection = conn;

    myAdapter.SelectCommand = cmd;
    myAdapter.Fill(myData);

    myReport.Load(@".\world_report.rpt");
    myReport.SetDataSource(myData);
    myViewer.ReportSource = myReport;
}
catch (MySql.Data.MySqlClient.MySqlException ex)
{
    MessageBox.Show(ex.Message, "Report could not be created",
        MessageBoxButtons.OK, MessageBoxIcon.Error);
}
</pre>
					<p>使用相同的查詢（用於生成前面保存的數據集），可生成新的數據集。一旦填充了數據集，可使用ReportDocument加載報告檔案，並將其與數據集綁定在一起。ReportDocument是作為crViewer的ReportSource而傳遞的。</p>
					<p>使用Connector/ODBC從單個資料表建立報告時，採用了相同的方法。數據集替換報告中使用的資料表，並恰當顯示報告。</p>
					<p>
					如果報告是使用Connector/ODBC從多個資料表建立的，在我們的應用程式中必須建立具有多個資料表的數據集。這樣，就能用數據集中的報告替換報告數據源中的各個資料表。</p>
					<p>在我們的MySqlCommand對像中提供多條SELECT語句，通過該方式，用多個資料表填充數據集。這些SELECT語句基於SQL查詢，如資料庫菜單「Show 
					SQL Query」選項中的「Crystal Reports」中顯示的那樣。假定有下述查詢：</p>
					<pre><span>SELECT `country`.`Name`, `country`.`Continent`, `country`.`Population`, `city`.`Name`, `city`.`Population`</span></pre>
					<pre><span>FROM `world`.`country` `country` LEFT OUTER JOIN `world`.`city` `city` ON `country`.`Code`=`city`.`CountryCode`</span></pre>
					<pre><span>ORDER BY `country`.`Continent`, `country`.`Name`, `city`.`Name`</span></pre>
					<p>該查詢將被轉換為兩條SELECT查詢，並以下述代碼顯示：</p>
					<p>
          [VB]
        </p><pre class="programlisting">Imports CrystalDecisions.CrystalReports.Engine
Imports System.Data
Imports MySql.Data.MySqlClient

Dim myReport As New ReportDocument
Dim myData As New DataSet
Dim conn As New MySqlConnection
Dim cmd As New MySqlCommand
Dim myAdapter As New MySqlDataAdapter

conn.ConnectionString = "server=127.0.0.1;" _
    &amp; "uid=root;" _
    &amp; "pwd=12345;" _
    &amp; "database=world"

Try
    conn.Open()
    cmd.CommandText = "SELECT name, population, countrycode FROM city ORDER BY countrycode, name; " _
        &amp; "SELECT name, population, code, continent FROM country ORDER BY continent, name"
    cmd.Connection = conn
    
    myAdapter.SelectCommand = cmd
    myAdapter.Fill(myData)
    
    myReport.Load(".\world_report.rpt")
    myReport.Database.Tables(0).SetDataSource(myData.Tables(0))
    myReport.Database.Tables(1).SetDataSource(myData.Tables(1))
    myViewer.ReportSource = myReport
Catch ex As Exception
    MessageBox.Show(ex.Message, "Report could not be created", MessageBoxButtons.OK, MessageBoxIcon.Error)
End Try
</pre><p>
          [C#]
        </p><pre class="programlisting">using CrystalDecisions.CrystalReports.Engine;
using System.Data;
using MySql.Data.MySqlClient;

ReportDocument myReport = new ReportDocument();
DataSet myData = new DataSet();
MySql.Data.MySqlClient.MySqlConnection conn;
MySql.Data.MySqlClient.MySqlCommand cmd;
MySql.Data.MySqlClient.MySqlDataAdapter myAdapter;

conn = new MySql.Data.MySqlClient.MySqlConnection();
cmd = new MySql.Data.MySqlClient.MySqlCommand();
myAdapter = new MySql.Data.MySqlClient.MySqlDataAdapter();

conn.ConnectionString = "server=127.0.0.1;uid=root;" +
    "pwd=12345;database=test;";

try
{
    cmd.CommandText = "SELECT name, population, countrycode FROM city ORDER " +
        "BY countrycode, name; SELECT name, population, code, continent FROM " +
        "country ORDER BY continent, name";
    cmd.Connection = conn;

    myAdapter.SelectCommand = cmd;
    myAdapter.Fill(myData);

    myReport.Load(@".\world_report.rpt");
    myReport.Database.Tables(0).SetDataSource(myData.Tables(0));
    myReport.Database.Tables(1).SetDataSource(myData.Tables(1));
    myViewer.ReportSource = myReport;
}
catch (MySql.Data.MySqlClient.MySqlException ex)
{
    MessageBox.Show(ex.Message, "Report could not be created",
        MessageBoxButtons.OK, MessageBoxIcon.Error);
}  
 </pre></div></div><div class="section"><div class="titlepage"><div><div>
				應將SELECT語句按字母順序排列，這點很重要，原因在於，這是報告希望其源資料表所具有的順序。對於報告中的每個資料表，均需要一條SetDataSource語句。<p>
				該方法會導致性能問題，這是因為Crystal 
				Reports必須在客戶端一側將資料表綁定在一起，與使用以前保存的數據集相比，速度較慢。</p>
				<h4 class="title"><a name="connector-net-using-datetime"></a>
				26.2.4.7.&nbsp;在MySQL Connector/NET中處理日期和時間訊息</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#connector-net-using-datetime-introduction">
				26.2.4.7.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-datetime-problems">
					26.2.4.7.2. 使用無效日期時的問題</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-datetime-restricting">
					26.2.4.7.3. 限制無效日期</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-datetime-invalid">
					26.2.4.7.4. 處理無效日期</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-using-datetime-null">
					26.2.4.7.5. 處理NULL日期</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="connector-net-using-datetime-introduction"></a>
					26.2.4.7.1.&nbsp;前言</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					MySQL和.NET語言處理日期和時間訊息的方式是不同的，MySQL允許使用無法由.NET數據類型資料表示的日期，如「<span>0000-00-00 
					00:00:00<span >」</span>。</span>如果處理步當，該差異會導致問題。<p>
					在本節中，介紹了使用MySQL Connector/NET時恰當處理日期和時間訊息的方法。</p>
					<h5 class="title"><a name="connector-net-using-datetime-problems"></a>
					26.2.4.7.2.&nbsp;使用無效日期時的問題</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					對於使用無效日期的開發人員來說，數據處理方面的差異會導致問題。無效的MySQL日期無法被加載到.NET
					<span>DateTime</span>對像中，包括<span>NULL日期。</span><p>
					由於該原因，不能用<span>MySqlDataAdapter類的Fill方法填充</span>.NET
					<span>DataSet對象，這是因為無效日期會導致System.ArgumentOutOfRangeException異常。</span></p>
					<h5 class="title"><a name="connector-net-using-datetime-restricting"></a>
					26.2.4.7.3.&nbsp;限制無效日期</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					對日期問題的最佳解決方案是，限制用戶輸入無效日期。這即可在客戶端上進行，也可在伺服器端進行。<p>
					在客戶端上限制無效日期十分簡單，即總使用.NET <span>
					DateTime類來處理日期。DateTime類僅允許有效日期，從而確保了資料庫中的值也是有效的。</span>該方法的缺點是，在使用.NET和非.NET代碼操作資料庫的混合環境下不能使用它，這是因為各應用程式必須執行自己的日期驗證。</p>
					<p>MySQL 
					5.0.2和更高版本的用戶可使用新的傳統SQL模式來限制無效日期值。關於使用傳統SQL模式的更多訊息，請參見<span><a target="_top"  href="http://dev.mysql.com/doc/mysql/en/server-sql-mode.html">http://dev.mysql.com/doc/mysql/en/server-sql-mode.html</a></span>。</p>
					<h5 class="title"><a name="connector-net-using-datetime-invalid"></a>
					26.2.4.7.4.&nbsp;處理無效日期</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					強烈建議在您的.NET應用程式中應避免使用無效日期，儘管如此，也能tongguo
					<span>MySqlDateTime數據類型使用無效日期。</span><p>
					<span>MySqlDateTime</span>數據類型支援MySQL伺服器支援的相同日期值。MySQL 
					Connector/NET的預設行為是，對有效的日期值返回1個.NET DateTime對象，對無效日期值返回錯誤。可以更改該預設方式，使MySQL 
					Connector/NET為無效日期返回<span>MySqlDateTime對象。</span></p>
					<p>要想使MySQL Connector/NET為無效日期返回<span>MySqlDateTime對象，可在連接字串中新增下行：</span></p>
					<pre><span>&nbsp; Allow Zero Datetime=True</span></pre>
					<pre><span>&nbsp; </span></pre>
					<p>請注意，使用<span>MySqlDateTime類仍會產生問題。</span>下面介紹了一些已知問題：</p>
					<p>
					<span>1.<span>&nbsp;&nbsp;&nbsp;
					</span></span>無效日期的數據綁定仍會導致錯誤（零日期0000-00-00看上去不存在該問題）。</p>
					<p>
					<span>2.<span>&nbsp;&nbsp;&nbsp;
					</span></span><span>ToString</span>方法返回按標準MySQL格式進行格式處理的日期（例如，<span>2005-02-23 
					08:50:25</span>）。這與.NET DateTime類的<span>ToString行為不同。</span></p>
					<p>
					<span>3.<span>&nbsp;&nbsp;&nbsp;
					</span></span><span>MySqlDateTime</span>類支援NULL日期，但.NET 
					DateTime類不支援NULL日期。如果未首先檢查NULL，在試圖將MySQLDateTime轉換為DateTime時，會導致錯誤。</p>
					<p>由於存在上述已知事宜，最佳建議仍是，在您的應用程式中僅使用有效日期。</p>
					<h5 class="title"><a name="connector-net-using-datetime-null"></a>
					26.2.4.7.5.&nbsp;處理NULL日期</h5></div></div></div>
					<p>.NET <span>DateTime</span>數據類型不能處理<span>NULL值。</span>同樣，在查詢中為<span>DateTime變數賦值時，必須首先檢查值是否是NULL。</span></p>
					<p>使用<span>MySqlDataReader時，在賦值前，應使用.IsDBNull</span>方法檢查值是否為<span>NULL：</span></p>
					<p>
          [VB]
        </p><pre class="programlisting">If Not myReader.IsDBNull(myReader.GetOrdinal("mytime")) Then
    myTime = myReader.GetDateTime(myReader.GetOrdinal("mytime"))
Else
    myTime = DateTime.MinValue
End If
  </pre><p>
          [C#]
        </p><pre class="programlisting">if (! myReader.IsDBNull(myReader.GetOrdinal("mytime")))
    myTime = myReader.GetDateTime(myReader.GetOrdinal("mytime"));
else
    myTime = DateTime.MinValue;
  </pre></div></div></div><div class="section"><div class="titlepage"><div><div>
			<span>NULL</span>值能夠在數據集中使用，也能將其綁定以構成控件，無需特殊處理。<h3 class="title"><a name="connector-net-news"></a>
			26.2.5.&nbsp;MySQL Connector/NET變更史</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#connector-net-news-2.0.0">26.2.5.1. 
				版本2.0.0</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-1.0.7">26.2.5.2. 
				版本1.0.7</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-1.0.6">26.2.5.3. 
				版本1.0.6</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-1.0.5">26.2.5.4. 
				版本1.0.5</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-1.0.4">26.2.5.5. 
				版本1.0.4 1-20-05</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-1.0.3">26.2.5.6. 
				版本1.0.3-gamma 12-10-04</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-1.0.2">26.2.5.7. 
				版本1.0.2-gamma 04-11-15</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-1.0.1">26.2.5.8. 
				版本1.0.1-beta2 04-10-27</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-1.0.0">26.2.5.9. 
				版本1.0.0 04-09-01</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-0.9.0">26.2.5.10. 
				版本0.9.0 04-08-30</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-0.76">26.2.5.11. 
				版本0.76</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-0.75">26.2.5.12. 
				版本0.75</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-0.74">26.2.5.13. 
				版本0.74</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-0.71">26.2.5.14. 
				版本0.71</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-0.70">26.2.5.15. 
				版本0.70</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-0.68">26.2.5.16. 
				版本0.68</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-0.65">26.2.5.17. 
				版本0.65</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-0.60">26.2.5.18. 
				版本0.60</a></span></dt><dt><span class="section"><a href="connectors.html#connector-net-news-0.50">26.2.5.19. 
				版本0.50</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-2.0.0"></a>26.2.5.1. 
				版本2.0.0</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了在未填充Connection.Database的情況下使用儲存程式時出現的異常<span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#11450</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>特定的殘缺查詢將觸發「連接必須是有效和打開的」錯誤消息<span> (</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#11490</a></span>) 。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1.0.7"></a>26.2.5.2. 
				版本1.0.7</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>使用其某一參數含有特殊字元（如「@」）的儲存程式將產生異常。注意，必須啟用<span>ANSI_QUOTES才會使之成為可能</span><span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#13753</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>如果語句包含對相同參數的多個引用，無法對其進行預處理<span> (</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#13541</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					Ping()方法不更新Connection對象的State屬性</span><span> (</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#13658</a></span>) 。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1.0.6"></a>26.2.5.3. 
				版本1.0.6</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>Nant構建序列有問題<span>(</span><span><a target="_top"  href="http://bugs.mysql.com/12978"><span>Bug 
					#12978</span></a></span><span>) </span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>如果傳遞的第1個值是NULL，參數的串行化操作失敗<span> (</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#13276</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>含下述字元的字段名將導致錯誤：<span>()%&lt;&gt;/</span><span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#13036</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>MySQL Connector/NET 1.0.5安裝程式不能同時安裝MySQL 
					Connector/NET 1.0.4. (<span><a target="_top"  href="http://bugs.mysql.com/12835">Bug 
					#12835</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在Mono上MySQL Connector/NET 1.0.5不能連接<span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#13345</a></span>) 。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1.0.5"></a>26.2.5.4. 
				版本1.0.5</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>連接字串中有多個主機時，MySQL Connector/NET無法與列資料表中的1個主機相連<span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#12628</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>MySQL Connector/NET將新的十進制數據類型解釋為字節數組<span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#11294</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>不支援<span>cp1250字元編碼</span><span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#11621</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>當.NET線程池無可用的工作線程時，連接可能失敗<span> (</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#10637</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>十進制參數導致語法錯誤<span> (</span><span><a target="_top"  href="http://bugs.mysql.com/11550">Bug 
					#11550</a></span>, <span>
					<a target="_top"  href="http://bugs.mysql.com/10486">
					Bug #10486</a></span>, <span>
					<a target="_top"  href="http://bugs.mysql.com/10152">
					Bug #10152</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>如果儲存程式不含參數，使用儲存程式將導致異常<span> (</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#11542</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>特定的殘缺查詢將觸發「連接必須是有效和打開的」錯誤消息<span> (</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#11490</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>除了預設資料庫外，<span>MySqlCommandBuilder類不能處理引用了其他資料庫中資料表的查詢</span><span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#8382</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>MySQL Connector/NET無法特定的局部設置一起正常工作 (WL#8228)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>未填充<span>Connection.Database時使用儲存程式導致異常</span><span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#11450</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>讀取<span>TIMESTAMP列時產生異常</span><span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#7951</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>用換行符隔開參數時，無法識別參數<span> (</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#9722</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在初始連接上未設置連接字串時，使用<span>MySqlConnection.clone將導致錯誤</span><span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#10281</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了對從MySQL Connector/NET使用儲存函數的支援<span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#10644</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>MySQL Connector/NET不能連接到MySQL 4.1.14. (<span><a target="_top"  href="http://bugs.mysql.com/12771">Bug 
					#12771</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>用設計器新增了<span>MySqlConnection對像時，無法設置ConnectionString屬性</span><span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/12551">Bug 
					#12551</a></span>, <span>
					<a target="_top"  href="http://bugs.mysql.com/8724">
					Bug #8724</a></span>)。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1.0.4"></a>26.2.5.5. 
				版本1.0.4 1-20-05</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7243">
					Bug #7243</a></span>：使用準備導致異常[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與預處理語句有關的另一個小問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7258">
					Bug #7258</a></span>：MySqlCommand.Connection返回IDbConnection 
					[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7345">
					Bug #7345</a></span>：MySqlAdapter.Fill方法拋出錯誤消息：需要非負數值[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7478">
					Bug #7478</a></span>：MySqlCommand中的克隆方法問題[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7612">
					Bug #7612</a></span>：當字段為NULL時，MySqlDataReader.GetString(index)返回了非Null值[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7755">
					Bug #7755</a></span>：如果列是無符號類型，MySqlReader.GetInt32拋出異常[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7704">
					Bug #7704</a></span>：GetBytes不再工作[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7724">
					Bug #7724</a></span>：引用字元「<span >\</span>222」在EscapeString中未被引用[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了命名管道不能與某些Blob功能一起工作的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與共享內存連接有關的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7436">
					Bug #7436</a></span>：與多個結果集有關的問題<span >…</span> 
					[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在API參考文檔中增加了多個主題。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1.0.3"></a>26.2.5.6. 
				版本1.0.3-gamma 12-10-04</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>使MySQL成為預設的命名管道名稱。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，連接時SHOW COLLATION可用於檢索完整的字元編碼ID列資料表。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了無效字元編碼索引：<span>200 (</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#6547</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>安裝器現在包含了多個選項，可安裝至GAC中，並建立「開始」菜單項。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/6863">
					Bug #6863</a></span>：MySqlCommand參數中的Int64支援[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>對於連接，現在無需在連接字串上給出資料庫。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/6770">
					Bug #6770</a></span>：MySqlDataReader.GetChar(int i)拋出IndexOutOfRange異常[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了因具有不同行數的多個結果集而導致的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/6983">
					Bug #6983</a></span>：再次拋出異常時異常堆棧跟蹤丟失[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與使用預處理語句檢測Null值有關的主要問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/6902">
					Bug #6902</a></span>：解析儲存程式參數時的錯誤[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/6668">
					Bug #6668</a></span>：儲存程式的整數輸出參數返回為字串[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7032">
					Bug #7032</a></span>：按文本分類的數據資料表中的MySqlDateTime，無數據 [已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7133">
					Bug #7133</a></span>：使用inout參數時的無效查詢字串[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/6831">
					Bug #6831</a></span>：與MySQL 4.0一起時，測試失敗，原因在於資料表名的大小寫敏感性[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/7132">
					Bug #7132</a></span>：插入DateTime導致System.InvalidCastException的拋出[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/6879">
					Bug #6879</a></span>：使用DATE_ADD-function時的InvalidCast[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					<a target="_top"  href="http://bugs.mysql.com/6634">
					Bug #6634</a></span>：1個打開的連接被主機系統關閉[已更正]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為MySqlConnection新增了ServerThread屬性以顯示伺服器線程ID。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為MySqlConnection增加了Ping方法。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將測試包的名稱更改為MySql.Data.Tests.dll。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1.0.2"></a>26.2.5.7. 
				版本1.0.2-gamma 04-11-15</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與MySqlBinary有關的問題，其中，無法使用字串值更新延伸的文本列。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了使用定制安裝時忽略的安裝目錄問題(<span><a target="_top"  href="http://bugs.mysql.com/6329">Bug 
					#6329</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了設置命令文本將命令留在預處理狀態的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了MySqlParameter雙類型處理問題（字串parameterName，對像值）(<span><a target="_top"  href="http://bugs.mysql.com/6428">Bug 
					#6428</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了填充數據集時返回零日期「0000-00-00」錯誤(<span><a target="_top"  href="http://bugs.mysql.com/6429">Bug 
					#6429</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了使用儲存程式可能會導致「Illegal mix of 
					collations」（非法校對組合）的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了charset連接字串選項。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了#HY000「Illegal mix of 
					collations」（非法校對組合）(latin1_swedish_ci,IMPLICIT)和(utf8_general_ 
					(<span><a target="_top"  href="http://bugs.mysql.com/6322">Bug 
					#6322</a></span>)問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了TableEditor CS和VB示範。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了關於UCS-2的Charset-map問題(<span><a target="_top"  href="http://bugs.mysql.com/6541">Bug 
					#6541</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更新了安裝器，包含了新的示範。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正規了Long插入耗時很長的問題(Bug #5453)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了對象無法被處理的問題(<span><a target="_top"  href="http://bugs.mysql.com/6649">Bug 
					#6649</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>提供方正將伺服器指定的字元編碼用作預設字元編碼。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1.0.1"></a>26.2.5.8. 
				版本1.0.1-beta2 04-10-27</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了MySqlParameter(string, object)構造函數中的可能問題<span><a target="_top"  href="http://bugs.mysql.com/5602">BUG 
					#5602</a></span>。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/5458">BUG 
					#5458</a></span>，在longtext列上使用GetChars將拋出異常。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/5474">BUG 
					#5474</a></span>，無法運行儲存程式來填充mysqlcommand.parameters。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/5469">BUG 
					#5469</a></span>，設置DbType時拋出NullReferenceException。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了在關閉套接字之前連接器無法發出CMD_QUIT的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/5392">BUG 
					#5392</a></span>，MySqlCommand在字串文本內容中發現作為參數的「?」。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與ConnectionInternal有關的問題，其中，1個鍵可能會被新增多次。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>當伺服器版本為4.1.2或更高時，CP1252僅用於Latin1。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/5388">BUG 
					#5388</a></span>，如果1行為NULL，DataReader通報所有行均為NULL。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>虛擬化了驅動子系統，以便未來版本能輕易地支援客戶端或嵌入式伺服器。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>再次使用字段緩衝，以減少內存分配並增加速度。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了相應的問題，使用接口時使用舊語法將導致問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>對於寫入流操作，使用PacketWriter取代Packet。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在CompressedStream中再分解壓縮代碼，以清理NativeDriver。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了用於在預處理命令上重置命令文本的測試範例。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了給定Null值時MySqlParameterCollection.Add()將拋出不明異常的問題(<span><a target="_top"  href="http://bugs.mysql.com/5621">Bug 
					#5621</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了MySqlCommand()中的構造函數初始化問題(<span><a target="_top"  href="http://bugs.mysql.com/5613">Bug 
					#5613</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正瞭解析「;」字元的問題(<span><a target="_top"  href="http://bugs.mysql.com/5876">Bug 
					#5876</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了在DbType設置器中丟失引用的問題(<span><a target="_top"  href="http://bugs.mysql.com/5897">Bug 
					#5897</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了使用YEAR數據類型時的System.OverflowException問題(<span><a target="_top"  href="http://bugs.mysql.com/6036">Bug 
					#6036</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了聚合函數測試（實際上不是問題）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了浮點參數(double, numeric, single, 
					decimal)的序列化問題(<span><a target="_top"  href="http://bugs.mysql.com/5900">Bug 
					#5900</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>IsNullable錯誤(<span><a target="_top"  href="http://bugs.mysql.com/5796">Bug 
					#5796</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了不遵守連接字串上給出的連接壽命的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了不遵守Min Pool Size（最小池大小）的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了MySqlDataReader和「show tables from ...」（從<span >…</span>顯示資料表）行為(<span><a target="_top"  href="http://bugs.mysql.com/5256">Bug 
					#5256</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實施了SequentialAccess。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了發現第1個0後MySqlDateTime在所有subseq.records上設置IsZero屬性的問題(<span><a target="_top"  href="http://bugs.mysql.com/6006">Bug 
					#6006</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了無法正確顯示中文字的問題(<span><a target="_top"  href="http://bugs.mysql.com/5288">Bug 
					#5288</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>還更正了俄文字元支援。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了Method TokenizeSql()僅將有限的有效字元用於參數的問題(<span><a target="_top"  href="http://bugs.mysql.com/6217">Bug 
					#6217</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了丟失resx檔案的NET Connector源(<span><a target="_top"  href="http://bugs.mysql.com/6216">Bug 
					#6216</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與檢索／更新查詢一起使用是會導致問題的DBNull值<span> 
					(</span><span><a target="_top"  href="http://bugs.mysql.com/11450">Bug 
					#5798</a></span>) 。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了仍有另一個「未設置給對像實例的對象引用」(<span><a target="_top"  href="http://bugs.mysql.com/5496">Bug 
					#5496</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了PacketReader中的問題，其中，會試圖在EnsureCapacity中分配錯誤的緩衝大小。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了GetBoolean返回錯誤值的問題(<span><a target="_top"  href="http://bugs.mysql.com/6227">Bug 
					#6227</a></span>)。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了帶有GetString(index)的DataReader一起讀取BLOB時的IndexOutOfBounds問題(<span><a target="_top"  href="http://bugs.mysql.com/6230">Bug 
					#6230</a></span>)。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1.0.0"></a>26.2.5.9. 
				版本1.0.0 04-09-01</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了BUG# 3889，不能正確支援Thai編碼。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更新了很多測試範例。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與使用壓縮有關的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將貝塔1版本的版本號擴充為1.0.0。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了用於安裝器的COPYING.rtf檔案。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>刪除了所有的XML註釋警告（以後將更好地清理它們）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>刪除了一些對ByteFX的最近引用。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-0.9.0"></a>26.2.5.10. 
				版本0.9.0 04-08-30</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為預處理語句增加了測試定位器。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					目前，所有類型的類均實施了SerializeBinary方法，用於將其數據發送給PacketWriter。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了PacketWriter類，允許將來的低內存大對像處理。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了運行預處理語句和儲存程式中存在的很多小問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更改了多條命令，使得在執行帶有特定參數（採用舊語法模式）的儲存程式時不再拋出異常。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>SingleRow現在工作正常，即使在存在限制的情況下也同樣。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>GetBytes目前僅作用在二進制列上。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>Logger現在能夠截短長的SQL命令，從而使得blob列不會「撐爆」日誌。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>主機和資料庫目前的預設值為「」，除非作了其他設置。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了BUG# 5214，忽略了連接超時。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了測試範例，針對bug# 5051：GetSchema不能正確工作。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了當列為關鍵字時GetSchema為IsUnique返回「假」的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>MySqlDataReader 
					GetXXX方法目前採用了字段級MySqlValue對象，不執行轉換。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了BUG# 5097：DataReader為時間列返回NULL。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>A增減了針對LOAD DATA LOCAL INFILE的測試範例。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了replacetext custom nant任務。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了CommandBuilderTest定位器。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為CommandBuilder增加了Last One Wins（最後一個勝出）特性。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了持續性安全訊息問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了GetBool，使得1, true, &quot;true&quot;和&quot;yes&quot;均可資料表示trueWL# 
					2024，從而使得參數標誌成為可配置的。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了&quot;old syntax&quot;連接字串參數，允許使用「@」參數標記符。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/4658">Bug 
					#4658</a></span>，MySqlCommandBuilder。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/4864">Bug 
					#4864</a></span>，如果「Persist Security 
					Info」（持續性安全訊息）為假，ByteFX.MySqlClient將對密碼進行緩衝處理。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在所有的源檔案中更新了授權標誌，以包含FLOSS異常。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>針對目前所有的MySql類型，增加了新的.Types名稱空間和具體實施。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了作為MySqlField子類的MySqlField41。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更改了很多類，使之能夠使用新的.Types類型。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將enum 
					int類型更改為Int32，將short類型更改為Int16，並將bigint類型更改為Int64。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了偽類型UInt16、UInt32和UInt64，允許建立無符號參數。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，從連接池拉出連接時，連接將被復位。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在驅動程式中再次分解了auth代碼，使得其即能用於auth，也能用於reset。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在PoolingTests.cs中增加了UserReset測試。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，使用COM_CHANGE_USER從池中拉出連接時，連接將被復位。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實現了SingleResultSet行為。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實現了對unicode的支援。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為utf-8和ucs-2增加了字元編碼映射。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/4520">Bug 
					#4520</a></span>，使用bytefx .net mysql驅動時，時間字段溢出。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在數據類型測試定位器中修改了時間測試，以便能夠檢查「hours &gt; 24」的時間跨度。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/4505">Bug 
					#4505</a></span>，在ByteFx.Data.MySqlClient.MySqlParameter中帶有反斜槓轉義的錯誤字串。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為參數測試範例TestQuoting增加了代碼，以測試反斜線符號。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/4486">Bug 
					#4486</a></span>，與multi-word列名一起工作時，mysqlcommandbuilder失敗。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了TokenizeSql中的問題，其中，下劃線將中止獲取參數名中的字元。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為列名空間增加了測試範例。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了bug# 4324，MySqlDataReader.GetBytes不能正確工作。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為DataReader測試定位器增加了GetBytes()測試範例。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					現在，能夠將InternalConnection.Configure中的所有伺服器變數讀入到Hashtable。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>目前使用字串[]，用於CharSetMap中的索引映射。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為SQL中的carriage返回增加了CRInSQL測試範例。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在Driver.ctor中，將maxPacketSize設為預設值。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/4442">bug 
					#4442</a></span>，在參數上設置MySqlDbType的操作不設置一般類型。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>刪除了過時的列類型Long和LongLong。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了bug# 4071，在連接字串上使用「use pipe」時，拋出溢出異常。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將關鍵字「use pipe」更改為「pipe name」或「pipe」。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>允許從單個查詢讀取多個結果集。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為ServerStatusFlags enum增加了標誌屬性。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將ServerStatus enum的名稱更改為ServerStatusFlags。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/4386">BUG 
					#4386</a></span>，插入的數據行未正確更新。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/4074">bug 
					#4074</a></span>，錯誤處理表明建立了資料表。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					將Packet.ReadLenInteger更改為ReadPackedLong，並增加了packet.ReadPackedInteger，它總讀取用2、3、4組裝的整數。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了syntax.cs測試定位器，以測試各種SQL語法問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了bug# 
					4149，對時間值的不當處理。現在，值「00:00:00」不再被當作Null。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將所有的測試包檔案移到了TestSuite檔案夾。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了空列會將結果訊息包指針向後移的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了新的nant建立指令。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/3917">BUG 
					#3917</a></span>，清除資料表名，以便能在下一GenerateSchema執行期間恰當地重新生成它。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/3915"><span>bug 
					#3915</span></a></span>，GetValues總返回0，而且總是試圖複製所有字段，而不是根據所傳入數組的大小。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實施了共享內存訪問協議。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實施了針對的MySQL 4.1的預處理語句。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實施了針對MySQL 5.0的儲存程式。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					將MySqlInternalConnection重新命名為InternalConnection。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>SQL現在被解釋為字元，更正了與其他語言有關的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了日誌功能，並允許批連接字串選項。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了<span><a target="_top"  href="http://bugs.mysql.com/3888"><span>bug 
					#3888</span></a></span>，設置DataAdapter屬性時未設置RowUpdating事件。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了字元編碼映射中存在的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實施了4.1鑒定。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>改善了驅動中的open/auth代碼。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>改善了在連接過程中連接位的設置方式。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，在初始的握手階段，將資料庫名傳遞給了伺服器。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將客戶端的名稱空間更改為MySql.Data.MySqlClient。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將客戶端的裝配名稱更改為MySql.Data.dll。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將所有源檔案中的授權文本更改為了GPL。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了MySqlClient.build Nant檔案。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>刪除了mono批處理檔案。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將一些未使用的檔案移到了notused檔案夾，從而使得nant建立檔案能夠使用通配符。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實施了共享內存訪問。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>對代碼結構進行了較大修補。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，預處理語句能夠在MySql 4.1.1和更高版本中使用。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>對4.0、4.1.0和4.1.1完成了auth實施。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將名稱空間從MySQL.Data.MySQLClient更改為MySql.Data.MySqlClient。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了CharSetMapping中存在的問題，其中，它試圖將文本名稱用作ints。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將名稱空間更改為MySQL.Data.MySQLClient。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>集成了來自UC2004的auth變動。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了在讀取數據之前和值後、在datareader上使用任何GetXXX方法時不能拋出恰當異常的問題（感謝Luca 
					Morelli morelli.luca@iol.it）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在parameter.cs中增加了TimeSpan代碼，以便能恰當地將timespan對像處理為mysql時間格式（感謝Gianluca 
					Colombo <span>
					<a  href="mailto:g.colombo@alfi.it">
					g.colombo@alfi.it</a></span>）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為參數序列化代碼增加了TimeStamp。防止DataAdatper不正常的更新（感謝MIchael 
					King）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了MySqlHelper.cs中的拼寫錯誤（感謝Patrick 
					Kristiansen）。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-0.76"></a>26.2.5.11. 
				版本0.76</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>驅動程式現在能使用握手協議中給定的字元編碼編號建立編碼。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更改了命令編輯器，使之指向MySqlClient.Design。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了Version.isAtLeast中的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更改了DBConnectionString，使之能夠支援對MySqlConnectionString所作的更改。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>刪除了SqlCommandEditor和DataAdapterPreviewDialog。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在很多地方採用了新的Long返回值。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>集成了新的CompressedStream類。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更改了ConnectionString並增加了多項屬性，從而使之能夠在MySqlClient.Design中使用。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更改了packet.cs，以支援ReadLenInteger中的較新長度。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更改了其他類，以使用MySqlConnectionString的新屬性和字段。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，ConnectionInternal能夠使用PING命令查看伺服器是否可用。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將工具箱位圖移到了resource/下。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更改field.cs，允許值直接來自行緩衝器。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>進行了相應的更改，以使用新的driver.Send語法。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>使用了新的訊息包排隊系統。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>開始著手進行「損壞的」壓縮訊息包處理。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了StreamCreator中的問題，無法連接到主機將導致無限循環（感謝Kevin 
					Casella）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>改善了connectstring處理。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將設計器移到了Pro產品中。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>從command.cs刪除了一些舊的、被註釋掉的代碼。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與壓縮有關的1個問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了連接對象，打開連接前拋出的異常不會使連接保持在連接狀態（感謝Chris Cline）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了GUID支援。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了序列混亂問題（感謝Mark Reay）。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-0.75"></a>26.2.5.12. 
				版本0.75</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，可將Enum值作為參數值加以支援（感謝Philipp Sumi）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>支援Year數據類型。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了壓縮問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了以TimeSpan作為值的參數無法恰當序列化的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了預設ctor不能設置預設連接字串值的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為一些新成員增加了一些XML註釋。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>著手更正／改善壓縮處理事宜。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					改善了ConnectionString處理功能，使之能夠與SqlClient設定的標準更好地匹配。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>如果帳號未包含在連接字串中，將拋出MySqlException。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>如果在連接字串中未指定，本地主機將用作預設主機。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>如果在連接打開的同時試圖設置連接字串，將拋出異常。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>對ConnectionString文檔進行了小的修改。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					刪除了MultiHostStream和MySqlStream。採用Common/StreamCreator取而代之。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了對「Use Pipe」連接字串值的支援。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了Platform類，以便能更容易地訪問平台的實用工具功能。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了小的連接池問題，即，在IsAlive失敗後，不能建立新的連接。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了Platform.cs和StreamCreator.cs。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了Field.cs，以便能恰當處理4.1版分格的時間戳。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將Common.Version更改為Common.DBVersion，以避免名稱衝突。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了field.cs，從而使得文本列能返回正確的字段類型（感謝beni27@gmx.net）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了MySqlError類，以提供對錯誤代碼的一些引用（感謝Geert Veenstra）。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-0.74"></a>26.2.5.13. 
				版本0.74</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了Unix套接字支援（感謝Mohammad DAMT [md@mt.web.id]）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>沒有可用數據時，僅使用Thread.Sleep。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>該井了參數數據中引用字元的轉義特性。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>刪除了parameter.cs中易造成誤解的註釋。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了連接池問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>再次更正了相同的連接池問題！！<span> ;-) </span>
					</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了ConnectionSTring編輯器對話框（感謝marco p (pomarc)）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，在連接字串中支援UserId（感謝Jeff Neeley）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>建立非輸入參數時拋出異常（感謝Ryan Gregg）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了更多文檔。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>提供了新的MultiHostStream能力。誠摯感謝Dan 
					Guisinger對此的貢獻。是他首次提供了在連接字串上支援多台機器的代碼和觀念。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了大量文檔。仍有很多文檔需要增加。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與0.73有關的速度事宜。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更改了MySqlDataStream中的Thread.Sleep(0)，以便在不需要等待時最佳化性能（感謝Todd 
					German）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>預先將idlepools填充到了MinPoolSize。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>個高質量MySqlPool死鎖條件<a name="connection0">以及愚蠢的問題，其中，CreateNewPooledConnection從不為連接池新增新連接。此外，還更正了MySqlStream.ReadBytes和ReadByte，從而不再使用並非始終正確的TicksPer</a>Second。（感謝Matthew 
					J. Peddlesden）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>修正了精度和標度（感謝Matthew J. Peddlesden）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為流讀取方法增加了Thread.Sleep(1)，使之對CPU更友好（感謝Sean 
					McGinnis）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了ExecuteReader有時會返回Null的問題（感謝Lloyd Dupont）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與Null字段處理有關的主要問題（感謝Naucki）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>封裝了針對max_allowed_packet的查詢，以及Try 
					Catch中的字元編碼（並設置為預設）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了套接字未能恰當關閉的問題（感謝Steve）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了ExecuteNonQuery不能始終返回正確值的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了InternalConnection，不使用@@session.max_allowed_packet，而是使用@@max_allowed_packet。（感謝Miguel）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了很多新XML文檔行。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了SQL解析功能，不發送控查詢（感謝Rory）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了閱讀器在關閉時不能unpeeking訊息包的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了不能處理用戶變數的問題（感謝Sami Vaaraniemi）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了MySqlPool中的循環檢查功能（感謝Steve M. Brown）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了ParameterCollection.Add方法，以與SqlClient匹配（感謝Joshua Mouch）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了ConnectionSTring解析功能，以處理布爾類型的NO和YES，以及非小寫值（感謝Naucki）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了InternalConnection類，修改了連接池功能。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實現了Persist Security Info（持續性安全訊息）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為項目增加了security.cs和version.cs。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了Parameter.cs中的DateTime處理功能（感謝Burkhard 
					Perkens-Golomb）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了某些類型拋出cast異常的參數序列化問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了DataReader，轉換所有的返回值以防止拋棄錯誤（感謝Keith Murray）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					為Command.ExecuteReader增加了代碼，如果初始SQL命令拋出異常，將返回Null（感謝Burkhard 
					Perkens-Golomb）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>構造了與重組一起引入ExecuteScalar問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>進行了重新構造，允許LOCAL DATA INFILE，以及更好的訊息包排序。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與重組有關的數個問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>完成了前期工作，支援Mysql 4.1中更安全的密碼。不再支援4.1版中的舊密碼。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>正確處理系統參數後顯示參數（Adam M. (adammil)）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，可將字串直接賦給blob字段（Adam M.）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了浮點參數（感謝Pent）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>改善了參數ctor和ParameterCollection.Add方法，以更好地匹配SqlClient（感謝Joshua 
					Mouch）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了Connection.CreateCommand以返回MySqlCommand類型。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了連接字串設計器的對話框問題（感謝Abraham Guyt）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與發送命令無法總是讀取響應訊息包有關的問題（感謝Joshua Mouch）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了某些Blob類型無法被處理的參數序列化問題（感謝Sean McGinnis）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>從DataReader代碼中刪除了偽MessageBox.show（感謝Joshua 
					Mouch）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了split sql代碼中的醜陋問題（感謝所有人！<span> 
					:-) ) </span></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-0.71"></a>26.2.5.14. 
				版本0.71</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了MySqlStream中的問題，即可能會讀取過多數據（感謝Peter Belbin）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>實現了HasRows（感謝Nash Pherson）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了大於256列的資料表會導致異常的問題（感謝Joshua Kessler）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了以「;」結束的SQL語句會導致問題的問題（感謝Shane Krueger）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了驅動中的問題，即，錯誤消息被截去1個字元（感謝Shane Krueger）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>使得MySqlException成為可序列化的（感謝Mathias Hasselmann）。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-0.70"></a>26.2.5.15. 
				版本0.70</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更新了一些字元代碼頁，使之更加準確。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了閱讀器能夠在已有打開閱讀器的連接上打開的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>發佈了0.70。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將測試移至單獨的MySqlClientTests下。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了驅動程式序列混亂的愚蠢問題（感謝Peter Belbin）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了一些管道測試。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將預設最大池大小增加到50。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>與Mono 0-24一起進行了編譯。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了連接和數據閱讀器處理問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為參數序列化增加了字串數據類型處理功能。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了拋出異常後在驅動程式中出現的順序問題（感謝Burkhard 
					Perkens-Golomb）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了對CommandBehavior.SingleRow到DataReader的支援。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了命令sql的處理功能，以便能更好地處理引用（感謝Theo Spears）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了double、single和decimal值的解析問題，以解釋非英文分隔符。如果您正使用硬編碼sql，仍須使用正確的語法，但是，如果您使用參數，代碼將轉換浮點類型，以便在進出伺服器的過程中恰當地在內部使用「.」。[感謝匿名人]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了MySqlStream類，以簡化超時和驅動編碼。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了DataReader，以便在相關連接關閉時恰當地關閉它。[感謝smishra]。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>使得客戶端更兼容SqlClient，在連接能夠用於運行另一命令前關閉DataReaders。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>改進了字段中的DBNull.Value處理功能。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了數個單元測試。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了MySqlException，以便能使用基本類：-o </p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>改進了驅動編碼。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了NextResult在最後1個結果集上返回「假」的問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為MySQL增加了多個測試。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					通過等化無符號32bit值和Int64，以及無符號16bit值和Int32等，改進了拋棄問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為MySqlParameter增加了新的ctor（名稱、類型、大小、srccol）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了MySqlDataReader中存在的問題，即，在返回字段計數前，不能檢查空的字段列資料表。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					開始增加了MySqlClient單元測試（增加了MySqlClient/Tests檔案夾以及一些測試範例）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了連接字串處理中的一些問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>將INIT_DB移到MySqlPool。可或許會在此移動它，這是在協商的準備過程中。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了CommandBuilder中存在的問題，該問題會阻止插入正確出現。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>改寫了一些內部構件，從而使得Command的所有三種執行方法均能正確工作。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了在基準測試過程中發現的一些小問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>CoonectionPooling的首次截除工作恰當。保留了「min pool 
					size」和「max pool size」。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>進行處理，允許返回多個結果集。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					現在，字元編碼的處理更為智能化。啟動時，驅動程式查詢MySQL，尋找預設的字元編碼。隨後，如果能夠加載代碼頁，該字元編碼將用於轉換。如不然，將使用當前作業系統的預設代碼頁。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了代碼，以便將推斷的類型保存在名稱，以及參數的值ctor中。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>此外，如果使用Value屬性更改了空參數的值，還能推斷類型。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					轉換了所有的檔案以使用恰當的Camel範例。現在，在所有檔案中，MySQL是MySql。PgSQL現在是PgSql。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為PgSql代碼增加了屬性，以防止設計器顯示它。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					為參數對像增加了MySQLDbType屬性，並為從DbType到MySQLDbType的轉換增加了恰當的轉換代碼。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>從MySQLParameter.cs中刪除了從未使用的ObjectToString方法。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了ParameterCollection中的Add(..)方法，不必使用Add(name, value)取而代之。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了ParameterCollection中的IndexOf和Contains，使之清楚保存參數名時不需要@。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了Command.ConvertSQLToBytes，僅允許能夠構出現在MySQL變數名中的字元。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					更正了DataReader和字段，從而使得Blob字段能夠從Field.cs讀取其數據，而且GetBytes工作正確。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為MySQLCommand的CommandText屬性增加了簡單的構造器編輯器。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了CommandBuilder和Parameter序列化，指明在參數名稱中不保存@。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>從Field.cs刪除了MySQLFieldType enum，現使用MySQLDbType 
					enum。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>為數個類增加了Designer屬性，防止了使用VS.Net時的設計器視圖。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了ConnectionString設計器中的初始目錄類型。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>刪除了與（名稱、類型、值）衝突的3種MySQLParameter參數ctor。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更改了MySQLParameter，現在能夠保存paramName而無需前導@（這修正了使用設計器是的Null插入問題）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更改了用於MySQLParameter的TypeConverter，以便能夠與所有屬性一起使用ctor。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-0.68"></a>26.2.5.16. 
				版本0.68</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了驅動程式中的順序問題。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>增加了DbParametersEditor，使得參數編輯更像SqlClient。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了Command類，以便能夠使用設計器編輯參數。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更新了連接字串設計器，支援使用壓縮標誌。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了字串編碼功能，從而使得歐洲字元（如<span >a</span>）能夠正確工作。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>建立了基本類，以幫助建立新的數據Provider。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在連接字串中增加了對UID關鍵字的支援。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>字段、參數和命令現在都能使用DBNull.Value，而不是null。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>使用DBNull.Value的CommandBuilder。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>未出現auto_insert字段時，CommandBuilder現在能正確建立插入命令。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在，字段使用typeof關鍵字來返回System.Types（性能）。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-0.65"></a>26.2.5.17. 
				版本0.65</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>目前實現了MySQLCommandBuilder。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>目前實現了事務支援（並非所有的資料表類型均支援它）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了GetSchemaTable，不再使用xsd（對於Mono）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>驅動程式先能兼容Mono！！ </p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>現在支援TIME數據類型。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>需要更多工作以改善Timestamp數據類型處理。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更改了所有類的特徵以匹配對應的SqlClient類。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-0.60"></a>26.2.5.18. 
				版本0.60</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>採用SharpZipLib的協議壓縮（www.icsharpcode.net）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>Windows平台上的命名管道現工作正常。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>完成了更多工作，改善了Timestamp數據類型處理。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在DataReader上實現了Ienumerable，以使DataGrid能恰當工作。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-0.50"></a>26.2.5.19. 
				版本0.50</h4></div></div></div><div class="itemizedlist">
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>通過刪除網絡同步代碼中的問題，大幅度提高了速度。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>驅動程式不再對數據行進行緩衝處理（更兼容ADO.Net）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>更正了與TIMESTAMP和DATETIME字段有關的轉換問題。</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="java-connector"></a>26.3. MySQL Connector/J</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#cj-basic-jdbc">
		26.3.1. 基本的JDBC概念</a></span></dt><dt><span class="section"><a href="connectors.html#cj-installing">
		26.3.2. 安裝 Connector/J</a></span></dt><dt><span class="section"><a href="connectors.html#cj-jdbc-reference">
		26.3.3. JDBC引用</a></span></dt><dt><span class="section"><a href="connectors.html#cj-j2ee">
		26.3.4. 與J2EE和其他Java框架一起使用 Connector/J</a></span></dt><dt><span class="section"><a href="connectors.html#cj-troubleshooting">
		26.3.5. 診斷 Connector/J方面的問題</a></span></dt><dt><span class="section"><a href="connectors.html#cj-changelog">26.3.6. Changelog</a></span></dt></dl></div>
		<p>通過JDBC驅動，MySQL提供了與使用Java編程語言開發的客戶端應用程式的連通性，該驅動稱為MySQL Connector/J。</p>
		<p>MySQL Connector/J是一種JDBC-3.0「類型4」驅動，這意味著它是一種純Java程式，實施了3.0版JDBC規範，並能使用MySQL協議與MySQL伺服器直接通信。</p>
		<p>本文檔是為初級JDBC開發人員準備和安排的。如果您已有了使用JDBC方面的經驗，可直接從<a href="connectors.html#cj-installing" title="26.3.2. Installing Connector/J">安裝 
	Connector/J</a>開始。</p>
		<p>儘管JDBC本身很有用，但我們希望，如果您在閱讀完本手冊的前幾節後尚未熟悉JDBC，除了最平常的問題外應避免全面使用「裸」JDBC，應考慮使用流行的架構，如<span><a target="_top"  href="http://www.hibernate.org/"><span>Hibernate</span></a></span>、<span><a target="_top"  href="http://www.springframework.org/"><span>Spring</span>的<span>JDBC</span>模板</a></span>或<span><a target="_top"  href="http://www.ibatis.com/common/sqlmaps.html"><span>Ibatis 
		SQL Maps</span></a></span>等，使用它們來完成大多數重複性工作，以及在某些時侯需要用到JDBC的繁重任務。</p>
		<p>本節不是作為完整的JDBC教程而設計的。如果需要瞭解使用JDBC方面的更多訊息，或許會對下述線上教程感興趣，與這裡提供的訊息相比，它們介紹的更為詳細和更具深度。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span>
		<a target="_top"  href="http://java.sun.com/docs/books/tutorial/jdbc/basics/index.html">
		<span>JDBC</span>基礎</a></span>，Sun公司提供的教程，涵蓋了JDBC的基本主題。。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span>
		<a target="_top"  href="http://java.sun.com/developer/onlineTraining/Database/JDBCShortCourse/index.html">
		<span>JDBC</span>簡明課程</a></span>，Sun和JGuru提供了更深的教程。</p>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="cj-basic-jdbc"></a>
			26.3.1.&nbsp;基本的JDBC概念</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#cj-connect-with-drivermanager">
				26.3.1.1. 使用DriverManager接口連接到MySQL</a></span></dt><dt><span class="section"><a href="connectors.html#cj-using-statements">
				26.3.1.2. 使用語句以執行SQL</a></span></dt><dt><span class="section"><a href="connectors.html#cj-using-callable-statements">
				26.3.1.3. 使用CallableStatements以執行儲存程式</a></span></dt><dt><span class="section"><a href="connectors.html#cj-retrieve-autoinc">
				26.3.1.4. 檢索AUTO_INCREMENT列的值</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				在本節中，介紹一些一般性的JDBC背景知識。<h4 class="title"><a name="cj-connect-with-drivermanager"></a>
				26.3.1.1.&nbsp;使用DriverManager接口連接到MySQL</h4></div></div></div><div class="example"><a name="id3056895"></a>
					在應用伺服器外使用JDBC時，DriverManager類將用於管理連接的建立。<p>需要告訴DriverManager應與哪個JDBC驅動建立連接。完成該任務的最簡單方法是：在實施了java.sql.Driver接口的類上使用Class.forName()。對於MySQL 
					Connector/J，該類的名稱是com.mysql.jdbc.Driver。採用該方法，可使用外部配置檔案來提供連接到資料庫時將使用的驅動類名和驅動參數。</p>
					<p>在下面的Java代碼中，介紹了在應用程式的main()方法中註冊MySQL Connector/J的方式：</p>
					<pre><span>import java.sql.Connection;</span></pre>
					<pre><span>import java.sql.DriverManager;</span></pre>
					<pre><span>import java.sql.SQLException;</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>// Notice, do not import com.mysql.jdbc.*</span></pre>
					<pre><span>// or you will have problems!</span>（注意，不要導入<span>com.mysql.jdbc.*</span>，否則<span>// </span>將出現問題！）</pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>public class LoadDriver {</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; public static void main(String[] args) {</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// The newInstance() call is a work around for some</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // broken Java implementations</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch (Exception ex) {</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // handle the error</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></pre>
					<pre><span>}</span></pre>
					<p>在DriverManager中註冊了驅動後，通過使用DriverManager.getConnection()，能夠獲得與特殊資料庫相連的連接實例。</p>
					<p class="title"><b>
					示範26.1：從DriverManager獲得連接</b></p>
					<p>在本示範中，介紹了從DriverManager獲得連接實例的方法。對於getConnection()方法，有一些不同的特性。關於如何使用它們的更多訊息，請參閱與JDK一起提供的API文檔。</p>
					<pre><span>import java.sql.Connection;</span></pre>
					<pre><span>import java.sql.DriverManager;</span></pre>
					<pre><span>import java.sql.SQLException;</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; ... try {</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/test?user=monty&amp;password=greatsqldb&quot;);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Do something with the Connection</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch (SQLException ex) {</span></pre>
					<pre><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// handle any errors</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(&quot;SQLException: &quot; + ex.getMessage());</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(&quot;SQLState: &quot; + ex.getSQLState());</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></pre>
					<p>一旦建立了連接，它可被用於建立語句和PreparedStatements，並檢索關於資料庫的元數據。在下面數節內，給出了進一步的解釋。</p>
					<div>
						<div>
							<h4 class="title"><a name="cj-using-statements"></a>
							26.3.1.2.&nbsp;使用語句以執行SQL</h4></div></div></div>
				<p>使用語句，可執行基本的SQL查詢，並通過下面介紹的ResultSet類檢索結果。</p>
				<p>要想建立語句實例，應通過前面介紹的DriverManager.getConnection()或DataSource.getConnection()方法之一，在檢索的連接對像上使用createStatement()方法。</p>
				<p>一旦擁有了語句實例，可以與希望使用的SQL一起通過使用executeQuery(String)方法執行SELECT查詢。</p>
				<p>要想更新資料庫中的數據，可使用executeUpdate(String SQL)方法。該方法將返回受更新語句影響的行數。</p>
				<p>如果您事先不清楚SQL語句是SELECT或UPDATE/INSERT，應使用execute(String 
				SQL)方法。如果SQL查詢是SELECT，本方法將返回「真」，如果SQL查詢是UPDATE/INSERT/DELETE，本方法將返回「假」。如果是SELECT查詢，能夠通過使用getResultSet()方法檢索結果。如果是UPDATE/INSERT/DELETE查詢，能夠通過在語句實例上使用getUpdateCount()檢索受影響的行計數。</p>
				<div class="example">
					<p class="title"><b>示範26.2：使用java.sql.Statement執行SELECT查詢</b></p>
					<pre class="programlisting">// assume conn is an already created JDBC connection
Statement stmt = null;
ResultSet rs = null;

try {
    stmt = conn.createStatement();
    rs = stmt.executeQuery("SELECT foo FROM bar");

    // or alternatively, if you don't know ahead of time that
    // the query will be a SELECT...

    if (stmt.execute("SELECT foo FROM bar")) {
        rs = stmt.getResultSet();
    }

    // Now do something with the ResultSet ....
} finally {
    // it is a good idea to release
    // resources in a finally{} block
    // in reverse-order of their creation
    // if they are no-longer needed

    if (rs != null) {
        try {
            rs.close();
        } catch (SQLException sqlEx) { // ignore }

        rs = null;
    }

    if (stmt != null) {
        try {
            stmt.close();
        } catch (SQLException sqlEx) { // ignore }

        stmt = null;
    }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="cj-using-callable-statements"></a>
				26.3.1.3.&nbsp;使用CallableStatements以執行儲存程式</h4></div></div></div>
				<p>從MySQL伺服器5.0版開始，與Connector/J 3.1.1或更新版本一起使用時，可完全實現<span>java.sql.CallableStatement接口，</span>但<span>getParameterMetaData()方法例外。</span></p>
				<p>在MySQL參考手冊的「<span><a target="_top"  href="http://www.mysql.com/doc/en/Stored_Procedures.html">儲存程式和函數</a></span>」一節中，介紹了MySQL儲存程式的語法。</p>
				<p>通過JDBC的<span>CallableStatement接口，</span>Connector/J指明了儲存程式的功能。</p>
				<p>在下面的示範中，給出了1個儲存程式，它返回增量為1的<span>inOutParam的值，並通過inputParam傳遞了作為ResultSet的字串。</span></p>
				<div class="example"><a name="id3057089"></a><p class="title"><b>
					示範26.3.&nbsp;儲存程式示範</b></p>
					<pre><span>CREATE PROCEDURE demoSp(IN inputParam VARCHAR(255), INOUT inOutParam INT)</span></pre>
					<pre><span>BEGIN</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; DECLARE z INT;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; SET z = inOutParam + 1;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; SET inOutParam = z;</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; SELECT inputParam;</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; SELECT CONCAT(&#39;zyxw&#39;, inputParam);</span></pre>
					<pre><span>END</span></pre>
					<p>要想與Connector/J一起使用<span>demoSp，可採取下述步驟：</span></p>
					<p>
					<span>1.<span>&nbsp;&nbsp;&nbsp;
					</span></span>使用<span>Connection.prepareCall()準備可使用語句。</span></p>
					<p>
					注意，必須使用JDBC轉義語法，而且必須使用包含佔位符的圓括號：</p>
					<p class="title"><b>示範<span>26.4.
					</span>使用<span>Connection.prepareCall()</span></b></p>
					<pre>導入<span>java.sql.CallableStatement</span>：</pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>...</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Prepare a call to the stored procedure &#39;demoSp&#39;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // with two parameters</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Notice the use of JDBC-escape syntax ({call ...})</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; CallableStatement cStmt = conn.prepareCall(&quot;{call demoSp(?, ?)}&quot;);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; cStmt.setString(1, &quot;abcdefg&quot;);</span></pre>
					<h3>註釋：</h3>
					<p>
					<span>Connection.prepareCall()</span>是一種開銷很大的方法，原因在於驅動程式執行的支援輸出參數的元數據檢索。出於性能方面的原因，應在您的代碼中再次使用<span>CallableStatement實例，通過該方式，使對Connection.prepareCall()的不必要使用降至最低。</span></p>
					<p>
					<span  >2.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>註冊輸出參數（如果有的話）</p>
					<p>為了檢索輸出參數的值（建立儲存程式時指定為<span>OUT或INOUT的參數），</span>JDBC要求在<span>CallableStatement接口中使用各種registerOutputParameter()方法來執行語句之前指定它們：</span></p>
					<p class="title"><b>示範<span>26.5.
					</span>註冊輸出參數</b></p>
					<pre>導入<span>java.sql.Types</span>：</pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>...</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Connector/J supports both named and indexed</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // output parameters. You can register output</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // parameters using either method, as well</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // as retrieve output parameters using either</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // method, regardless of what method was</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // used to register them.</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // The following examples show how to use</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // the various methods of registering</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // output parameters (you should of course</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // use only one registration per parameter).</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Registers the second parameter as output</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; cStmt.registerOutParameter(2);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Registers the second parameter as output, and</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // uses the type &#39;INTEGER&#39; for values returned from</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // getObject()</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; cStmt.registerOutParameter(2, Types.INTEGER);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Registers the named parameter &#39;inOutParam&#39;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; cStmt.registerOutParameter(&quot;inOutParam&quot;);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Registers the named parameter &#39;inOutParam&#39;, and</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // uses the type &#39;INTEGER&#39; for values returned from</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // getObject()</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; cStmt.registerOutParameter(&quot;inOutParam&quot;, Types.INTEGER);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>...</span></pre>
					<p>
					<span  >3.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>設置輸入參數（如果有的話）</p>
					<p>輸入以及輸入／輸出參數是作為<span>PreparedStatement對像而設置的。</span>但是，<span>CallableStatement也支援按名稱設置參數：</span></p>
					<p class="title"><b>示範<span>26.6.
					</span>設置<span>CallableStatement</span>輸入參數</b></p>
					<pre><span>...</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Set a parameter by index</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; cStmt.setString(1, &quot;abcdefg&quot;);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Alternatively, set a parameter using</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // the parameter name</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; cStmt.setString(&quot;inputParameter&quot;, &quot;abcdefg&quot;);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Set<a name="id3056998"> the &#39;in/out&#39; parameter using an index</a></span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; cStmt.setInt(2, 1);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Alternatively, set the &#39;in/out&#39; parameter</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // by name</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; cStmt.setInt(&quot;inOutParam&quot;, 1);</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>...</span></pre>
					<p>
					<span>4.<span>&nbsp;&nbsp;&nbsp;
					</span></span>執行<span>CallableStatement</span>，並檢索任何結果集或輸出參數。</p>
					<p>儘管<span>CallableStatement</span>支援使用任何語句執行方法（<span>executeUpdate()</span>，<span>executeQuery()</span>或<span>execute()</span>），最靈活的方法是使用<span>execute()，這是因為，採用該方法，您無需事先知道</span>儲存程式是否將返回結果集：</p>
					<p class="title"><b>示範<span>26.7.
					</span>檢索結果和輸出參數值</b></p>
					<pre><span>...</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; boolean hadResults = cStmt.execute();</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Process all returned result sets</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; while (hadResults) {</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ResultSet rs = cStmt.getResultSet();</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // process result set</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hadResults = cStmt.getMoreResults();</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; }</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Retrieve output parameters</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // Connector/J supports both index-based and</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; // name-based retrieval</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; //</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; int outputValue = cStmt.getInt(1); // index-based</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>&nbsp;&nbsp;&nbsp; outputValue = cStmt.getInt(&quot;inOutParam&quot;); // name-based</span></pre>
					<pre><span>&nbsp;</span></pre>
					<pre><span>...</span></pre>
					<p></p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="cj-retrieve-autoinc"></a>
				26.3.1.4.&nbsp;檢索AUTO_INCREMENT列的值</h4></div></div></div><div class="example"><a name="id3057411"></a>
					在JDBC API 3.0版之前，沒有從支援「自動增量」或ID列的資料庫中檢索關鍵值的標準方法。對於針對MySQL的早期JDBC驅動，總是不得不在語句接口上使用特定的MySQL方法，或在向擁有AUTO_INCREMENT關鍵字的資料表發出「INSERT後」發出「SELECT 
					LAST_INSERT_ID()」。特殊的MySQL方法使用是不可移植的，而且對於發出「SELECT」以獲取AUTO_INCREMENT關鍵字的值來說，需要對資料庫執行另一往返操作，其效率不高。在下面的代碼片段中，介紹了檢索AUTO_INCREMENT值的三種不同方式。首先，介紹了JDBC-3.0新方法「getGeneratedKeys()」的使用方式，當您需要檢索AUTO_INCREMENT關鍵字並訪問JDBC-3.0，它是目前的首選方法。在第2個示範中，介紹了使用標準「SELECT 
					LAST_INSERT_ID()」查詢檢索相同值的方法。在最後一個示範中，介紹了使用「insertRow()」方法時，用可更新結果集檢索AUTO_INCREMENT值的方式。<p class="title"><b>
					示範26.8.&nbsp;使用Statement.getGeneratedKeys()檢索AUTO_INCREMENT列的值</b></p><pre class="programlisting">   Statement stmt = null;
   ResultSet rs = null;

   try {

    //
    // Create a Statement instance that we can use for
    // 'normal' result sets assuming you have a
    // Connection 'conn' to a MySQL database already
    // available

    stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,
                                java.sql.ResultSet.CONCUR_UPDATABLE);

    //
    // Issue the DDL queries for the table for this example
    //

    stmt.executeUpdate("DROP TABLE IF EXISTS autoIncTutorial");
    stmt.executeUpdate(
            "CREATE TABLE autoIncTutorial ("
            + "priKey INT NOT NULL AUTO_INCREMENT, "
            + "dataField VARCHAR(64), PRIMARY KEY (priKey))");

    //
    // Insert one row that will generate an AUTO INCREMENT
    // key in the 'priKey' field
    //

    stmt.executeUpdate(
            "INSERT INTO autoIncTutorial (dataField) "
            + "values ('Can I Get the Auto Increment Field?')",
            Statement.RETURN_GENERATED_KEYS);

    //
    // Example of using Statement.getGeneratedKeys()
    // to retrieve the value of an auto-increment
    // value
    //

    int autoIncKeyFromApi = -1;

    rs = stmt.getGeneratedKeys();

    if (rs.next()) {
        autoIncKeyFromApi = rs.getInt(1);
    } else {

        // throw an exception from here
    }

    rs.close();

    rs = null;

    System.out.println("Key returned from getGeneratedKeys():"
        + autoIncKeyFromApi);
} finally {

    if (rs != null) {
        try {
            rs.close();
        } catch (SQLException ex) {
            // ignore
        }
    }

    if (stmt != null) {
        try {
            stmt.close();
        } catch (SQLException ex) {
            // ignore
        }
    }
}
</pre></div><p>

        </p><div class="example"><a name="id3057451"></a><p class="title"><b>
					示範26.9.&nbsp;使用SELECT LAST_INSERT_ID()檢索AUTO_INCREMENT列的值</b></p><pre class="programlisting">   Statement stmt = null;
   ResultSet rs = null;

   try {

    //
    // Create a Statement instance that we can use for
    // 'normal' result sets.

    stmt = conn.createStatement();

    //
    // Issue the DDL queries for the table for this example
    //

    stmt.executeUpdate("DROP TABLE IF EXISTS autoIncTutorial");
    stmt.executeUpdate(
            "CREATE TABLE autoIncTutorial ("
            + "priKey INT NOT NULL AUTO_INCREMENT, "
            + "dataField VARCHAR(64), PRIMARY KEY (priKey))");

    //
    // Insert one row that will generate an AUTO INCREMENT
    // key in the 'priKey' field
    //

    stmt.executeUpdate(
            "INSERT INTO autoIncTutorial (dataField) "
            + "values ('Can I Get the Auto Increment Field?')");

    //
    // Use the MySQL LAST_INSERT_ID()
    // function to do the same thing as getGeneratedKeys()
    //

    int autoIncKeyFromFunc = -1;
    rs = stmt.executeQuery("SELECT LAST_INSERT_ID()");

    if (rs.next()) {
        autoIncKeyFromFunc = rs.getInt(1);
    } else {
        // throw an exception from here
    }

    rs.close();

    System.out.println("Key returned from " + "'SELECT LAST_INSERT_ID()': "
        + autoIncKeyFromFunc);

} finally {

    if (rs != null) {
        try {
            rs.close();
        } catch (SQLException ex) {
            // ignore
        }
    }

    if (stmt != null) {
        try {
            stmt.close();
        } catch (SQLException ex) {
            // ignore
        }
    }
}
   </pre></div><p>

        </p><div class="example"><a name="id3057487"></a><p class="title"><b>
					示範26.10.&nbsp;在可更新的ResultSets中檢索AUTO_INCREMENT列的值</b></p><pre class="programlisting">   Statement stmt = null;
   ResultSet rs = null;

   try {

    //
    // Create a Statement instance that we can use for
    // 'normal' result sets as well as an 'updatable'
    // one, assuming you have a Connection 'conn' to
    // a MySQL database already available
    //

    stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,
                                java.sql.ResultSet.CONCUR_UPDATABLE);

    //
    // Issue the DDL queries for the table for this example
    //

    stmt.executeUpdate("DROP TABLE IF EXISTS autoIncTutorial");
    stmt.executeUpdate(
            "CREATE TABLE autoIncTutorial ("
            + "priKey INT NOT NULL AUTO_INCREMENT, "
            + "dataField VARCHAR(64), PRIMARY KEY (priKey))");

    //
    // Example of retrieving an AUTO INCREMENT key
    // from an updatable result set
    //

    rs = stmt.executeQuery("SELECT priKey, dataField "
       + "FROM autoIncTutorial");

    rs.moveToInsertRow();

    rs.updateString("dataField", "AUTO INCREMENT here?");
    rs.insertRow();

    //
    // the driver adds rows at the end
    //

    rs.last();

    //
    // We should now be on the row we just inserted
    //

    int autoIncKeyFromRS = rs.getInt("priKey");

    rs.close();

    rs = null;

    System.out.println("Key returned for inserted row: "
        + autoIncKeyFromRS);

} finally {

    if (rs != null) {
        try {
            rs.close();
        } catch (SQLException ex) {
            // ignore
        }
    }

    if (stmt != null) {
        try {
            stmt.close();
        } catch (SQLException ex) {
            // ignore
        }
    }
}


   </pre></div></div></div><div class="section"><div class="titlepage"><div><div>
			運行上面的示範代碼時，將獲得下述輸出：從getGeneratedKeys():返回的鍵， 從「SELECT LAST_INSERT_ID():」返回1個鍵， 從插入的行返回1個鍵。請注意，有些時候，使用「SELECT 
			LAST_INSERT_ID()」查詢十分複雜，原因在於函數值與連接相關。因此，如果在相同連接上存在其他查詢，函數值將被覆蓋。另一方面，「getGeneratedKeys()」方法是由語句實例確定的，因此，即使在相同連接上存在其他查詢也能使用它，但在相同語句實例上存在其他查詢時則不能使用。<h3 class="title"><a name="cj-installing"></a>
			26.3.2.&nbsp;安裝 Connector/J</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#cj-system-requirements">
				26.3.2.1. 所需的軟件版本</a></span></dt><dt><span class="section"><a href="connectors.html#cj-upgrading">
				26.3.2.2. 升級舊版本</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				請按照下述說明安裝Connector/J。<h4 class="title"><a name="cj-system-requirements"></a>
				26.3.2.1.&nbsp;所需的軟件版本</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#cj-supported-java-versions">
					26.3.2.1.1. 支援的Java版本</a></span></dt><dt><span class="section"><a href="connectors.html#cj-supported-mysql-versions">
					26.3.2.1.2. MySQL伺服器版本指南</a></span></dt><dt><span class="section"><a href="connectors.html#cj-classpath">
					26.3.2.1.3. 安裝驅動程式並配置CLASSPATH</a></span></dt></dl></div><p></p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="cj-supported-java-versions"></a>
					26.3.2.1.1.&nbsp;支援的Java版本</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					MySQL Connector/J支援Java-2 JVMs，包括JDK-1.2.x、JDK-1.3.x、JDK-1.4.x和JDK-1.5.x，並需要JDK-1.4.x或更新的版本進行編譯（而不是運行）。MySQL 
					Connector/J不支援JDK-1.1.x或JDK-1.0.x。<p>由於實現了java.sql.Savepoint，Connector/J 
					3.1.0和更新版本不會運行在早於1.4版的JDK上，除非關閉了類驗證器（-Xverify:none），這是因為，類驗證器將試圖加載用於java.sql.Savepoint的類定義，除非使用了savepoint功能，否則驅動程式不會訪問類驗證器。</p>
					<p>早於1.4.x版的JVM上，不能使用Connector/J 
					3.1.0或更高版本提供的新緩衝功能，這是因為該功能依賴<span>在</span>JDK-1.4.0中<span>首次</span>提供的<span>java.util.LinkedHashMap。</span></p>
					<h5 class="title"><a name="cj-supported-mysql-versions"></a>
					26.3.2.1.2.&nbsp;MySQL伺服器版本指南</h5></div></div></div></div><div class="section"><div class="titlepage"><div><div>
					MySQL 
					Connector/J支援所有著名的MySQL伺服器版本。某些特性（外部鍵，可更新結果集）需要更新的MySQL版本才能工作。<p>
					與MySQL伺服器4.1版或更高版本建立連接時，最好使用MySQL Connector/J 
					3.1版，這是因為它全面支援較新版本的伺服器提供的特性，包括Unicode字元、視圖、儲存程式和伺服器端預處理語句。</p>
					<p>
					儘管3.0版Connector/J能夠與MySQL伺服器4.1或更高版本建立連接，但由於實現了Unicode字元和新的鑒定機制，將無法更新Connector/J 
					3.0以支援當前和未來伺服器版本中提供的新特性。</p>
					<h5 class="title"><a name="cj-classpath"></a>
					26.3.2.1.3.&nbsp;安裝驅動程式並配置CLASSPATH</h5></div></div></div><div class="example"><a name="id3057724"></a>
						MySQL Connector/J是以.zip或.tar.gz形式分發的，其中包含原始碼、類檔案、以及僅為「二進制」.jar的類檔案（名為<span>mysql-connector-java-[version]-bin.jar），從</span>Connector/J 
						3.1.8開始，驅動程式的「調試版」位於名為「<span>mysql-connector-java-[version]-bin-g.jar</span>」的檔案中。<p>
						從Connector/J 
						3.1.9開始，我們不再單獨提供.class檔案，僅在與驅動程式一起提供的JAR檔案中提供它們。</p>
						<p>不應使用驅動程式的「調試版」，除非是在向MySQL 
						AB通報問題或問題時需要用到它，這是因為「調試版」不是為生產環境下的運行而設計的，如果使用它，會對性能造成負面影響。二進制代碼的調試取決於Aspect/J運行時庫，該庫位於與Connector/J分發版一起提供的<span>src/lib/aspectjrt.jar</span>檔案中。</p>
						<p>需要使用恰當的GUI或命令行使用工具來解開分發檔案（例如，用於.zip檔案的WinZip，以及用於.tar.gz檔案的「tar」）。由於在分發版中可能存在長檔案名，我們採用了GNU 
						tar檔案格式。需要使用GNU tar（或能理解GNU tar檔案格式的其他應用程式）來解開分發版的.tar.gz檔案。</p>
						<p>一旦解包了分發版檔案檔案，可以將mysql-connector-java-[version]-bin.jar放在您的類路徑中，或是在您的CLASSPATH環境變數中新增它的完整路徑，或是在啟動JVM（Java虛擬機）時用命令行開關「-cp」直接指定它，通過該方式安裝驅動。</p>
						<p>如果您打算用JDBC DriverManager來使用驅動，可使用「com.mysql.jdbc.Driver」，將其用作實施了「java.sql.Driver」類。</p>
						<p class="title"><b>
						示範26.11.&nbsp;設置Unix環境下的CLASSPATH</b></p>
						<p>在Unix環境下，下述命令用於「csh」：</p>
						<pre><span>$ setenv CLASSPATH /path/to/mysql-connector-java-[version]-bin.jar:$CLASSPATH</span></pre>
						<p>
						可以將上述命令新增到恰當的、用於登錄shell的啟動檔案中，從而使得所有的Java應用程式均能使用MySQL 
						Connector/J。</p>
						<p>如果希望與諸如Tomcat或Jboss等應用伺服器一起使用MySQL 
						Connector/J，應仔細閱讀供應商提供的文檔，以瞭解如何配置第三方類庫的更多訊息，這是因為大多數應用伺服器均會忽略CLASSPATH環境變數。在「<a href="connectors.html#cj-j2ee" title="26.3.4. Using Connector/J with J2EE and Other Java Frameworks">與J2EE和其他Java框架一起使用 
			Connector/J</a>」一節中，給出了針對一些J2EE應用伺服器的配置示範，但是，對於特定的應用伺服器，JDBC連接池配置訊息的權威資訊來源是該應用伺服器的文檔。</p>
						<p>如果您準備開發小服務程式和／或JSP，而且您的應用伺服器是J2EE兼容的，可以將驅動的.jar檔案放到webapp的WEB-INF/lib子目錄下，在J2EE 
						Web應用程式中，這是第三方類庫的標準位置。</p>
						<p>
						如果您的J2EE應用伺服器支援或要求，也可以使用com.mysql.jdbc.jdbc2.optional可選軟件包中的MysqlDataSource或MysqlConnectionPoolDataSource類。多種MysqlDataSource類均支援下述參數（通過標準的「Set」存取器）：</p>
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span><span>user </span></p>
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span><span>password </span></p>
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span>serverName（參見前面關於故障切換主機的章節）</p>
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span><span>databaseName </span></p>
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span><span>port </span></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="cj-upgrading"></a>
				26.3.2.2.&nbsp;升級舊版本</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#cj-upgrading-3-0-to-3-1">
					26.3.2.2.1. 從MySQL Connector/J 3.0升級到3.1</a></span></dt><dt><span class="section"><a href="connectors.html#cj-jdbc-upgrading-issues">26.3.2.2.2. 
					升級到MySQL伺服器4.1版或更新版本時的JDBC事宜</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
					MySQL 
					AB試圖使升級程序盡可能簡單，但是，對於任何軟件來說，某些時侯需要在新版本中進行一些更改才能支援新的特性，改進已有的功能，或與新標準相符。<p>
					在本節中，介紹了打算從Connector/J的一個版本升級到另一版本（或考慮到JDBC的功能，升級到MySQL伺服器的新版本）的用戶應瞭解的訊息。</p>
					<h5 class="title"><a name="cj-upgrading-3-0-to-3-1"></a>
					26.3.2.2.1.&nbsp;從MySQL Connector/J 3.0升級到3.1</h5></div></div></div>
					<p>設計Connector/J 3.1時，盡量使它能向後兼容Connector/J 
					3.0。大的變化被單獨作為MySQL-4.1和更新版中的新功能，包括Unicode字元編碼、伺服器端預處理語句、由伺服器返回的錯誤訊息中的SQLState代碼、以及各種性能增強特性（可通過配置屬性啟用或禁止）。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>
					Unicode字元編碼：關於MySQL新特性的更多訊息，請參見下一節，以及伺服器手冊中的「字元編碼」一節。如果有些事項配置不當，通常會顯示錯誤，同時給出錯誤消息，如「非法校對組合」。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>伺服器端預處理語句：Connector/J 
					3.1將自動檢測伺服器端預處理語句，並在可用時自動使用它們（MySQL伺服器4.1.0版或更新）。</p>
					<p>從3.1.7版開始，驅動程式能通過各種<span>Connection.prepareStatement()變體掃瞄SQL，以判斷它是否是能夠在伺服器端支援的語句類型，如果不被伺服器端支援，會將其作為客戶端的模擬預處理語句進行處理。</span>也可以通過在JDBC 
					URL中傳遞「<span class="property">emulateUnsupportedPstmts=false</span>」禁止該特性。</p>
					<p>
					如果應用程式遇到與伺服器端預處理語句有關的問題，可將其回復為舊的客戶端模擬預處理語句代碼，在早於4.1.0版的MySQL伺服器中仍使用該代碼，連接屬性如下：</p>
					<p>
					<span>
					useServerPrepStmts=false</span><span>
					</span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>具有全0組分的Datetimes（0000-00-00 
					...）：在Java中，無法可靠地資料表示這些值。從結果集讀取它們時，Connector/J 
					3.0.x總是會將其轉換為NULL。</p>
					<p>預設情況下，遇到這類值時，Connector/J 
					3.1將拋出異常，這是因為，根據JDBC和SQL標準，這是最正確的行為方式。可以使用「<span class="property">zeroDateTimeBehavior</span>」配置屬性改變該行為。允許的值包括：「exception」，（預設值），用代碼為「S1009」的SQLState拋出SQLException；「convertToNull」，返回NULL而不是數據；以及「round」，對日期進行捨入處理，使之成為最接近的值，即「0001-01-01」。</p>
					<p>從Connector/J 3.1.7開始，能夠使用「<span class="property">noDatetimeStringSync=true</span>」（預設值為「假」），將ResultSet.getString()與該行為分離開，從而能夠以字串的形式提取未被改變的全0值。請注意，這也會阻止使用任何時區轉換功能，因此，驅動程式將禁止同時啟用<span class="property">noDatetimeStringSync</span>和<span class="property">useTimezone。</span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>新SQLState代碼：Connector/J 3.1採用MySQL返回的SQL:1999 
					SQLState代碼（如果支援的話），它不同於Connector/J 
					3.0使用的「傳統」X/Open狀態碼。如果連接到了版本低於MySQL-4.1.0（能夠將SQLStates作為錯誤代碼組成部分返回的最早版本）的MySQL伺服器，驅動程式將使用內置的映射功能。您也可以使用下述配置選項，採用舊的映射。</p>
					<p>
					<span>
					useSqlStateCodes=false</span><span> </span>
					</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在BLOB列上使用ResultSet.getString()將返回代資料表它的字節[]數組的地址，而不是BLOB的字串形式。BLOB沒有字元編碼，因此，在不造成數據丟失或損壞的情況下，不能將它們轉換為java.lang.Strings。</p>
					<p>
					要想以BLOB方式將字串保存在MySQL中，可使用一種TEXT類型，驅動程式會將其當作java.sql.Clob對待。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>從Connector/J 3.1.8開始，驅動的「調試版」（在名為「<span>mysql-connector-java-[version]-bin-g.jar<span >」</span>的檔案中與正常的<span >「</span>二進制<span >」</span>jar檔案<span >「</span>名為mysql-connector-java-[version]-bin.jar<span >」</span>一起提供</span>。</p>
					<p>從Connector/J 
					3.1.9開始，我們不再單獨提供.class檔案，僅在與驅動程式一起提供的JAR檔案中提供它們。</p>
					<p>不應使用驅動程式的「調試版」，除非是在向MySQL 
					AB通報問題或問題時需要用到它，這是因為「調試版」不是為生產環境下的運行而設計的，如果使用它，會對性能造成負面影響。二進制代碼的調試取決於Aspect/J運行時庫，該庫位於與Connector/J分發版一起提供的<span>src/lib/aspectjrt.jar</span>檔案中。</p>
					<div class="titlepage">
						<div>
							<div>
								<h5 class="title">
								<a name="cj-jdbc-upgrading-issues"></a>
								26.3.2.2.2.&nbsp;升級到MySQL伺服器4.1版或更新版本時的JDBC事宜</h5>
							</div></div></div>
					<div class="itemizedlist">
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span>使用<em><span>UTF-8</span></em>字元編碼：在4.1版MySQL伺服器之前，伺服器不支援<em><span>UTF-8</span></em>字元編碼，但JDBC驅動能使用它，從而允許在伺服器上的latin1中保存多個字元編碼。</p>
						<p>
						從MySQL-4.1版開始，該功能被放棄。如果您有依賴該功能的應用程式，而且無法升級它們以使用MySQL伺服器4.1版或更高版本中支援的正是Unicode字元編碼，應在連接URL中增加下述屬性：</p>
						<p>
						<span>
						useOldUTF8Behavior=true</span><span>
						</span></p>
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span>伺服器端預處理語句：Connector/J 
						3.1將自動檢測伺服器端預處理語句，並在可用時自動使用它們（MySQL伺服器4.1.0版或更新）。如果應用程式遇到與伺服器端預處理語句有關的問題，可將其回復為舊的客戶端模擬預處理語句代碼，在早於4.1.0版的MySQL伺服器中仍使用該代碼，連接屬性如下：</p>
						<p>
						<span>
						useServerPrepStmts=false</span><span>
						</span></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="cj-jdbc-reference"></a>
			26.3.3.&nbsp;JDBC引用</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#cj-configuration-properties">
				26.3.3.1. Driver/Datasource類名，URL語法，以及Connector/J的配置屬性</a></span></dt><dt><span class="section"><a href="connectors.html#cj-implementation-notes">26.3.3.2. 
				JDBC API實施說明</a></span></dt><dt><span class="section"><a href="connectors.html#cj-type-conversions">
				26.3.3.3. Java，JDBC和MySQL類型</a></span></dt><dt><span class="section"><a href="connectors.html#cj-character-sets">
				26.3.3.4. 使用字元編碼和Unicode</a></span></dt><dt><span class="section"><a href="connectors.html#cj-using-ssl">
				26.3.3.5. 使用SSL進行安全連接</a></span></dt><dt><span class="section"><a href="connectors.html#cj-replication-connection">
				26.3.3.6. 使用主／從複製和ReplicationConnection</a></span></dt></dl></div><p></p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="cj-configuration-properties"></a>
				26.3.3.1.&nbsp;Driver/Datasource類名，URL語法，以及Connector/J的配置屬性</h4></div></div></div><div class="table"><a name="id3058353"></a>
					在MySQL 
					Connector/J中實現了java.sql.Driver的類名是「com.mysql.jdbc.Driver」。「org.gjt.mm.mysql.Driver」類名任是可用的，以保持與MM.MySQL的向後相容性。註冊驅動程式，或配置軟件以使用MySQL 
					Connector/J時，應使用該類名。<p>用於MySQL Connector/J的JDBC 
					URL格式如下，方括號「[, ]」的項為可選項：</p>
					<pre><span>jdbc:mysql://[host][,failoverhost...][:port]/[database][?propertyName1][=propertyValue1][&amp;propertyName2][=propertyValue2]...</span></pre>
					<p>
					如果未指定主機名，預設為「127.0.0.1」。如果未指定端口，預設為「3306」，它是MySQL伺服器的預設端口號。</p>
					<pre><span>jdbc:mysql://[host:port],[host:port].../[database][?propertyName1][=propertyValue1][&amp;propertyName2][=propertyValue2]...</span></pre>
					<p>
					如果未指定資料庫，將使用無「當前」資料庫進行連接。在這種情況下，需要在連接實例上使用「setCatalog()」方法，或在SQL中使用資料庫名指定完整的資料表名（即「SELECT 
					dbname.tablename.colname FROM 
					dbname.tablename...」）。不指定連接時使用的資料庫，該選項通常僅在建立用於處理多個資料庫的工具時才有用，例如GUI資料庫管理器。</p>
					<p>MySQL 
					Connector/J支援故障切換功能。這樣，就允許驅動程式切換至「從」主機上，並仍能執行只讀查詢。僅當連接處於autoCommit(true)狀態時，才會出現故障切換，這是因為當事務正在進行時，無法可靠地保證故障切換。在事務/連接結束後，大多數應用伺服器和連接池均會將autoCommit設置為「真」。</p>
					<p>故障切換功能具有下述行為方式：</p>
					<p>
					如果URL屬性「autoReconnect」為「假」：故障切換僅會在連接初始化過程中出現，當驅動程式判斷第1台主機再次可用時，將返回。</p>
					<p>
					如果URL屬性「autoReconnect」為「真」：當驅動程式判斷連接失敗時（在任意查詢之前），將出現故障切換，而且當驅動程式判斷第1台主機再次可用時（發出queriesBeforeRetryMaster查詢之後），將返回第1台主機。</p>
					<p>
					在任何一種情況下，當您連接到經過故障切換的伺服器時，會將連接設置為只讀狀態，因此，對於會更改數據的查詢來說，將拋出異常（MySQL伺服器不會處理該查詢）。</p>
					<p>配置屬性定義了Connector/J與MySQL伺服器進行連接的方式。除非作了其他說明，否則可以為DataSource對像或Connection對像設置屬性。</p>
					<p>可採用下述方式的一種設置Configuration（配置）屬性：</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>在java.sql.DataSource的MySQL實施實例上使用set*()方法（它是使用java.sql.DataSource實施實例時的首選方法）：</p>
					<p>
					<span>
					o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					com.mysql.jdbc.jdbc2.optional.MysqlDataSource </span></p>
					<p>
					<span>
					o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span><span>
					com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource
					</span></p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>作為傳遞給DriverManager.getConnection()或Driver.connect()的java.util.Properties實例中的
					鍵/值對。</p>
					<p>
					<span>
					·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</span></span>作為URL中的JDBC URL參數，以傳遞給java.sql.DriverManager.getConnection()、java.sql.Driver.connect()、或javax.sql.DataSource的setURL()方法的MySQL實施實例。</p>
					<h3>註釋：</h3>
					<p>如果您用來配置JDBC 
					URL的方法是基於XML的，需要使用XML字元「&amp;amp;」來隔開配置參數，「&amp;」是XML的保留字元。</p>
					<p>在下面的資料表各中，列出了這些屬性：</p>
					<p class="title"><b>資料表26.1.&nbsp;連接屬性</b><span  >&nbsp;</span></p>
					<table border="1" cellpadding="0" width="1244" style="width: 933.1pt" id="table17">
						<thead>
							<tr>
								<td>
								<p align="center">
								<b>屬性名</b></td>
								<td>
								<p align="center">
								<b>定義</b></td>
								<td>
								<p align="center">
								<b>要求？</b></td>
								<td>
								<p align="center">
								<b>預設值</b></td>
								<td>
								<p align="center">
								<b>版本</b></td>
							</tr>
						</thead>
						<tr>
							<td colspan="5">
							<p><em>
							<span>
							Connection/Authentication（連接／鑒定）</span></em></td>
						</tr>
						<tr>
							<td>
							<p>user</td>
							<td>
							<p>連接的用戶</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>&nbsp;</span></td>
							<td>
							<p>全部</td>
						</tr>
						<tr>
							<td>
							<p><span>password</span></td>
							<td>
							<p>連接時使用的密碼。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>&nbsp;</span></td>
							<td>
							<p>全部</td>
						</tr>
						<tr>
							<td>
							<p><span>
							socketFactory</span></td>
							<td>
							<p>
							驅動程式用於建立與伺服器套接字連接的類的名稱。該類必須實現了接口「com.mysql.jdbc.SocketFactory」，並有公共無參量構造函數。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>
							com.mysql.jdbc.StandardSocketFactory</span></td>
							<td>
							<p><span>3.0.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							connectTimeout</span></td>
							<td>
							<p>
							套接字連接的超時（單位為毫秒），0資料表示無超時。僅對JDK-1.4或更新版本有效。預設值為「0」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>0</span></td>
							<td>
							<p><span>3.0.1</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							socketTimeout</span></td>
							<td>
							<p>網絡套接字連接的超時（預設值0資料表示無超時）。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>0</span></td>
							<td>
							<p><span>3.0.1</span></td>
						</tr>
						<tr>
							<td>
							<p><span>useConfigs</span></td>
							<td>
							<p>
							在解析URL屬性或應用用戶指定的屬性之前，加載由逗號「,」分隔的配置屬性列資料表。在文檔的「配置」部分中解釋了這些配置。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>&nbsp;</span></td>
							<td>
							<p><span>3.1.5</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							interactiveClient</span></td>
							<td>
							<p>設置CLIENT_INTERACTIVE標誌，根據INTERACTIVE_TIMEOUT而不是WAIT_TIMEOUT向MySQL通報超時連接。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.0</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							propertiesTransform</span></td>
							<td>
							<p>
							com.mysql.jdbc.ConnectionPropertiesTransform的1個實施實例，在嘗試連接之前，驅動程式將使用它來更改傳遞給驅動的URL屬性。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>&nbsp;</span></td>
							<td>
							<p><span>3.1.4</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useCompression</span></td>
							<td>
							<p>與伺服器進行通信時採用zlib壓縮（真／假）？ 
							預設值為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.17</span></td>
						</tr>
						<tr>
							<td colspan="5">
							<p><em>
							<span>High 
							Availability and Clustering</span><span>（高可用性和叢集集）</span></em></td>
						</tr>
						<tr>
							<td>
							<p><span>
							autoReconnect</span></td>
							<td>
							<p>驅動程式是否應嘗試再次建立失效的和／或死連接？ 
							如果允許，對於在失效或死連接上發出的查詢（屬於當前事務），驅動程式將拋出異常，但在新事務的連接上發出下一個查詢時，將嘗試再連接。不推薦使用該特性，這是因為，當應用程式不能恰當處理SQLExceptions時，它會造成與會話狀態和數據一致性有關的副作用，設計它的目的僅用於下述情況，即，當您無法配置應用程式來恰當處理因死連接和／或無效連接導致的SQLExceptions時。作為可選方式，可將MySQL伺服器變數「wait_timeout」設置為較高的值，而不是預設的8小時。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>1.1</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							autoReconnectForPools</span></td>
							<td>
							<p>使用適合於連接池的再連接策略（預設值為「假」）。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							failOverReadOnly</span></td>
							<td>
							<p>在autoReconnect模式下出現故障切換時，是否應將連接設置為「只讀」？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.0.12</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							reconnectAtTxEnd</span></td>
							<td>
							<p>如果將autoReconnect設置為「真」，在每次事務結束後驅動程式是否應嘗試再連接？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.10</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							roundRobinLoadBalance</span></td>
							<td>
							<p>啟用了autoReconnect而且failoverReadonly為「假」時，是否應按照循環方式挑選要連接的主機？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							queriesBeforeRetryMaster</span></td>
							<td>
							<p>
							出現故障切換（使用多主機故障切換）並返回主機之前發出的查詢數。無論首先滿足了哪個條件，「queriesBeforeRetryMaster」或「secondsBeforeRetryMaster」，均會再次與主機進行連接。預設值為「50」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>50</span></td>
							<td>
							<p><span>3.0.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							secondsBeforeRetryMaster</span></td>
							<td>
							<p>
							出現故障切換後，在嘗試再次連接到主伺服器之前，驅動程式應等待的時間？ 
							無論首先滿足了哪個條件，「queriesBeforeRetryMaster」或「secondsBeforeRetryMaster」，均會再次與主機進行連接。單位為秒，預設值為30。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>30</span></td>
							<td>
							<p><span>3.0.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							enableDeprecatedAutoreconnect</span></td>
							<td>
							<p>
							自3.2版開始，自動再連接功能受到冷落，在3.3版中將刪除該功能。將該屬性設置為「真」可禁止檢查配置的特性。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.2.1</span></td>
						</tr>
						<tr>
							<td colspan="5">
							<p><em>
							<span>Security</span><span>（安全）</span></em></td>
						</tr>
						<tr>
							<td>
							<p><span>
							allowMultiQueries</span></td>
							<td>
							<p>
							在一條語句中，允許使用「;」來分隔多條查詢（真／假，預設值為「假」）。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.1</span></td>
						</tr>
						<tr>
							<td>
							<p><span>useSSL</span></td>
							<td>
							<p>與伺服器進行通信時使用SSL（真／假），預設值為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>requireSSL</span></td>
							<td>
							<p>要求SSL連接，useSSL=true？ 預設值為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.0</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							allowUrlInLocalInfile</span></td>
							<td>
							<p>驅動程式在是「LOAD DATA LOCAL 
							INFILE」語句中否允許URL？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.4</span></td>
						</tr>
						<tr>
							<td>
							<p><span>paranoid</span></td>
							<td>
							<p>
							採取措施，防止在錯誤訊息中洩漏敏感訊息，並可可能時清除保存敏感數據的數據結構？ 預設值為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.1</span></td>
						</tr>
						<tr>
							<td colspan="5">
							<p><em>
							<span>
							Performance Extensions</span><span>（性能延伸）</span></em></td>
						</tr>
						<tr>
							<td>
							<p><span>
							metadataCacheSize</span></td>
							<td>
							<p>
							如果將cacheResultSetMetaData設置為「真」，對cacheResultSetMetadata的查詢次數（預設值為50）。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>50</span></td>
							<td>
							<p><span>3.1.1</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							prepStmtCacheSize</span></td>
							<td>
							<p>如果允許預處理語句緩衝功能，應緩衝處理多少條預處理語句？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>25</span></td>
							<td>
							<p><span>3.0.10</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							prepStmtCacheSqlLimit</span></td>
							<td>
							<p>
							如果允許預處理語句緩衝功能，驅動程式將執行解析緩衝處理的最大SQL是什麼？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>256</span></td>
							<td>
							<p><span>3.0.10</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							maintainTimeStats</span></td>
							<td>
							<p>
							驅動程式是否應維持各種內部定時器，以允許空閒時間計算，以及與伺服器的連接失敗時允許提供更詳細的錯誤消息？ 
							將該屬性設置為「假」，對於每次查詢，至少能減少兩次對System.getCurrentTimeMillis()的使用。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.9</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							blobSendChunkSize</span></td>
							<td>
							<p>
							組塊，當通過ServerPreparedStatements發送BLOB/CLOB時使用。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>1048576</span></td>
							<td>
							<p><span>3.1.9</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							cacheCallableStmts</span></td>
							<td>
							<p>
							驅動程式是否應對CallableStatements的解析過程執行緩衝處理。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							cachePrepStmts</span></td>
							<td>
							<p>
							驅動程式是否應對客戶端預處理語句的PreparedStatements的解析過程執行緩衝處理，是否應檢查伺服器端預處理語句的適用性以及伺服器端預處理語句本身？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.10</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							cacheResultSetMetadata</span></td>
							<td>
							<p>
							驅動程式是否應對用於Statements和PreparedStatements的ResultSetMetaData執行緩衝處理？ 
							要求 JDK-1.4+，真／假，預設為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.1</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							cacheServerConfiguration</span></td>
							<td>
							<p>驅動程式是否應根據每條URL對「HOW 
							VARIABLES」和「SHOW COLLATION」的結果執行緩衝處理？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.5</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							dontTrackOpenResources</span></td>
							<td>
							<p>
							JDBC規範要求驅動程式自動跟蹤和關閉資源，但是，如果您的應用程式不能明確使用作用在語句或結果集上的close()，可能會導致內存洩漏。將該屬性設置為「真」，可放寬該限制，對於某些應用程式，會提供更高的內存效率。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.7</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							dynamicCalendars</span></td>
							<td>
							<p>
							需要時，驅動程式是否應檢索預設日曆，或根據連接／會話對其進行緩衝處理？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.5</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							elideSetAutoCommits</span></td>
							<td>
							<p>如果使用MySQL-4.1或更高版本，當伺服器的狀態與Connection.setAutoCommit(boolean)請求的狀態不匹配時，驅動程式是否僅應發出「set 
							autocommit=n」查詢？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							holdResultsOpenOverStatementClose</span></td>
							<td>
							<p>
							驅動程式是否應按照JDBC規範的要求關閉Statement.close()上的結果集？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.7</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							locatorFetchBufferSize</span></td>
							<td>
							<p>
							如果將「emulateLocators」配置為「真」，當獲取關於getBinaryInputStream的BLOB數據時，緩衝區的大小應是多少？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>1048576</span></td>
							<td>
							<p><span>3.2.1</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useFastIntParsing</span></td>
							<td>
							<p>
							是否使用內部「String-&gt;Integer」轉換子程式來避免建立過多對像？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.4</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useLocalSessionState</span></td>
							<td>
							<p>
							驅動程式是否應引用autocommit的內部值，以及由Connection.setAutoCommit()和Connection.setTransactionIsolation()設置的事務隔離，而不是查詢資料庫？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.7</span></td>
						</tr>
						<tr>
							<td>
							<p><span>useNewIO</span></td>
							<td>
							<p>驅動程式是否應將java.nio.* 
							interfaces用於網絡通信（真／假），預設為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.0</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useReadAheadInput</span></td>
							<td>
							<p>從伺服器讀取數據時，是否使用較新的、最佳化的非成組緩衝輸入流？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.5</span></td>
						</tr>
						<tr>
							<td colspan="5">
							<p><em>
							<span>
							Debuging/Profiling</span><span>（調試<span>/</span>仿形）</span></em></td>
						</tr>
						<tr>
							<td>
							<p><span>logger</span></td>
							<td>
							<p>
							實現了com.mysql.jdbc.log.Log的類的名稱，com.mysql.jdbc.log.Log用於記錄消息（預設為「com.mysql.jdbc.log.StandardLogger」，它會將日誌記錄到STDERR）。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>
							com.mysql.jdbc.log.StandardLogger</span></td>
							<td>
							<p><span>3.1.1</span></td>
						</tr>
						<tr>
							<td>
							<p><span>profileSQL</span></td>
							<td>
							<p>
							跟蹤查詢以及它們對已配製記錄器的執行/獲取次數（真／假），預設為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.0</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							reportMetricsIntervalMillis</span></td>
							<td>
							<p>
							如果允許「gatherPerfMetrics」，記錄它們的頻率是多少（單位毫秒）？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>30000</span></td>
							<td>
							<p><span>3.1.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							maxQuerySizeToLog</span></td>
							<td>
							<p>調試或仿形時，控制將記錄的查詢的最大長度／大小。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>2048</span></td>
							<td>
							<p><span>3.1.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							packetDebugBufferSize</span></td>
							<td>
							<p>
							當「enablePacketDebug」為「真」時，需要保留的最大訊息包數目。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>20</span></td>
							<td>
							<p><span>3.1.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							slowQueryThresholdMillis</span></td>
							<td>
							<p>
							如果允許「logSlowQueries」，在將查詢記錄為「慢」之前的查詢時間是多少（毫秒）？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>2000</span></td>
							<td>
							<p><span>3.1.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useUsageAdvisor</span></td>
							<td>
							<p>驅動程式是否應發出「使用情況」警告，就DBC和MySQL 
							Connector/J的恰當和高效使用給出建議（真／假，預設為「假」）？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.1</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							autoGenerateTestcaseScript</span></td>
							<td>
							<p>
							驅動程式是否應將正在執行的SQL（包括伺服器端預處理語句）轉儲到STDERR？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.9</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							dumpQueriesOnException</span></td>
							<td>
							<p>
							驅動程式是否應將發送至伺服器的查詢內容轉儲到SQLExceptions中？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							enablePacketDebug</span></td>
							<td>
							<p>
							允許時，將保留「packetDebugBufferSize」訊息包的環形緩衝區，並當在驅動程式代碼的關鍵區域拋出異常時進行轉儲。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							explainSlowQueries</span></td>
							<td>
							<p>
							如果允許了「logSlowQueries」，驅動程式是否應在伺服器上自動發出「EXPLAIN」，並以WARN級別將結果發送給配置好的日誌？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							logSlowQueries</span></td>
							<td>
							<p>
							是否要記錄時間長於「slowQueryThresholdMillis」的查詢？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							traceProtocol</span></td>
							<td>
							<p>是否應記錄跟蹤級網絡協議？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.2</span></td>
						</tr>
						<tr>
							<td colspan="5">
							<p><em>
							<span>
							Miscellaneous</span><span>（其他）</span></em></td>
						</tr>
						<tr>
							<td>
							<p><span>useUnicode</span></td>
							<td>
							<p>處理字串時，驅動程式是否應使用Unicode字元編碼？ 
							僅應在驅動程式無法確定字元編碼映射，或您正在強制驅動程式使用MySQL不是固有支援的字元編碼時（如UTF-8）才應使用。真／假，預設為「真」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>1.1g</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							characterEncoding</span></td>
							<td>
							<p>
							如果「useUnicode」被設置為「真」，處理字串時，驅動程式應使用什麼字元編碼？ 
							預設為「autodetect」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>&nbsp;</span></td>
							<td>
							<p><span>1.1g</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							characterSetResults</span></td>
							<td>
							<p>字元編碼，用於通知伺服器以何種字元編碼返回結果。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>&nbsp;</span></td>
							<td>
							<p><span>3.0.13</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							connectionCollation</span></td>
							<td>
							<p>如果設置了它，將通知伺服器通過「set 
							collation_connection」使用該校對。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>&nbsp;</span></td>
							<td>
							<p><span>3.0.13</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							sessionVariables</span></td>
							<td>
							<p>
							以逗號隔開的「名稱／值」對列資料表，當驅動程式建立了連接後，以「SET SESSION 
							...」的方式將其發送給伺服器。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>&nbsp;</span></td>
							<td>
							<p><span>3.1.8</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							allowNanAndInf</span></td>
							<td>
							<p>
							驅動程式是否應在PreparedStatement.setDouble()中允許NaN或+/- 
							INF值？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.5</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							autoDeserialize</span></td>
							<td>
							<p>驅動程式是否應自動檢測並串並轉換保存在BLOB字段中的對象？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.5</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							capitalizeTypeNames</span></td>
							<td>
							<p>是否將DatabaseMetaData中的類型名轉換為大寫？ 
							通常僅在使用WebObjects時有用，真／假。預設為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>2.0.7</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							clobberStreamingResults</span></td>
							<td>
							<p>
							這會使「流式」結果集被自動關閉，如果在所有數據尚未從伺服器中讀取完之前，執行了另一查詢，正在從伺服器流出的任何未完成數據均將丟失。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.9</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							continueBatchOnError</span></td>
							<td>
							<p>如果一條語句失敗，驅動程式是否應繼續處理批命令？ 
							JDBC規範允許任何一種方式（預設為「真」）。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.0.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							createDatabaseIfNotExist</span></td>
							<td>
							<p>
							如果不存在，建立URL中給定的資料庫。假定用戶具有建立資料庫的權限。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.9</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							emptyStringsConvertToZero</span></td>
							<td>
							<p>驅動程式是否應允許從空字串字段到數值「0」的轉換？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.8</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							emulateLocators</span></td>
							<td>
							<p><span>N/A</span></td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.0</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							emulateUnsupportedPstmts</span></td>
							<td>
							<p>
							驅動程式是否應檢測不被伺服器支援的預處理語句，並用客戶端模擬版替換它們？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.7</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							ignoreNonTxTables</span></td>
							<td>
							<p>是否忽略關於回退的非事務資料表？ 預設值為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.9</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							jdbcCompliantTruncation</span></td>
							<td>
							<p>連接到支援告警的伺服器時（MySQL 
							4.1.0和更高版本），當按照JDBC的要求截短數據時，驅動程式是否應拋出java.sql.DataTruncation異常？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>maxRows</span></td>
							<td>
							<p>返回的最大行數（0，預設值資料表示返回所有行）。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>-1</span></td>
							<td>
							<p><span>all versions</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							noDatetimeStringSync</span></td>
							<td>
							<p>不保證ResultSet.getDatetimeType().toString().equals(ResultSet.getString()。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.7</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							nullCatalogMeansCurrent</span></td>
							<td>
							<p>當DatabaseMetadataMethods請求「目錄」參數時，值「Null」是否意味著使用當前目錄？ 
							它不兼容JDBC，但符合驅動程式早期版本的傳統行為。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.8</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							nullNamePatternMatchesAll</span></td>
							<td>
							<p>
							接受*pattern參數的DatabaseMetaData方法是否應將null按對待「％」的相同方式處理（不兼容JDBC，但驅動程式的早期版本能接受與規範的這類偏離）。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.8</span></td>
						</tr>
						<tr>
							<td>
							<p><span>pedantic</span></td>
							<td>
							<p>嚴格遵守JDBC規範。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.0</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							relaxAutoCommit</span></td>
							<td>
							<p>
							如果驅動程式所連接的MySQL伺服器的版本不支援事務，仍允許使用commit()、rollback()和setAutoCommit()？真／假，預設為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>2.0.13</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							retainStatementAfterResultSetClose</span></td>
							<td>
							<p>使用ResultSet.close()後，驅動程式是否應將語句引用保存在結果集中？ 
							在JDBC-4.0後，與JDBC不兼容。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.11</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							rollbackOnPooledClose</span></td>
							<td>
							<p>
							當連接池中的邏輯連接關閉時，驅動程式是否應發出rollback()？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.0.15</span></td>
						</tr>
						<tr>
							<td>
							<p><span>runningCTS13</span></td>
							<td>
							<p>允許在Sun與JDBC兼容的testsuite 
							1.3版中處理問題。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.7</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							serverTimezone</span></td>
							<td>
							<p>
							覆蓋時區的檢測/映射。當伺服器的時區為映射到Java時區時使用。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>&nbsp;</span></td>
							<td>
							<p><span>3.0.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							strictFloatingPoint</span></td>
							<td>
							<p>僅在相容性測試的早期版本中使用。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.0</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							strictUpdates</span></td>
							<td>
							<p>
							驅動程式是否應對可更新結果集進行嚴格檢查（選擇所有的主鍵）？真／假，預設為「真」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.0.4</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							tinyInt1isBit</span></td>
							<td>
							<p>
							驅動程式是否應將數據類型TINYINT(1)當作BIT類型對待？建立資料表時，伺服器會執行BIT -&gt; 
							TINYINT(1)操作。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.0.16</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							transformedBitIsBoolean</span></td>
							<td>
							<p>
							如果驅動程式將TINYINT(1)轉換為不同的類型，為了與MySQL-5.0兼容，驅動程式是否應使用BOOLEAN取代BIT？這是因為MySQL-5.0具有BIT類型。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.9</span></td>
						</tr>
						<tr>
							<td>
							<p><span>ultraDevHack</span></td>
							<td>
							<p>由於UltraDev已損壞，並為所有語句發出了prepareCall()，需要時，是否要為prepareCall()建立PreparedStatements?
							</p>
							<p>真／假，預設值為「假」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>2.0.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useHostsInPrivileges</span></td>
							<td>
							<p>
							在DatabaseMetaData.getColumn/TablePrivileges()中為用戶新增「@hostname」。真／假，預設為「真」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.0.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useOldUTF8Behavior</span></td>
							<td>
							<p>與4.0和更早版本的伺服器進行通信時，使用UTF-8。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.1.6</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useOnlyServerErrorMessages</span></td>
							<td>
							<p>
							對伺服器返回的錯誤消息，不事先設定「標準的」SQLState錯誤消息。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.0.15</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useServerPrepStmts</span></td>
							<td>
							<p>如果伺服器支援，是否使用伺服器端預處理語句？ 預設值為「真」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.0</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useSqlStateCodes</span></td>
							<td>
							<p>
							使用SQL標準狀態碼取代「傳統的」X/Open/SQL狀態碼，真／假，預設為「真」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.3</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useStreamLengthsInPrepStmts</span></td>
							<td>
							<p>是否採用PreparedStatement/ResultSet.setXXXStream()方法使用中的流長度參數？真／假，預設為「真」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.0.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>useTimezone</span></td>
							<td>
							<p>
							是否在客戶端和伺服器時區間轉換時間／日期類型（真／假，預設為「假」）？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>false</span></td>
							<td>
							<p><span>3.0.2</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							useUnbufferedInput</span></td>
							<td>
							<p>不使用BufferedInputStream來從伺服器讀取數據。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.0.11</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							yearIsDateType</span></td>
							<td>
							<p>JDBC驅動程式是否應將MySQL類型「YEAR」當作java.sql.Date或SHORT對待？</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>true</span></td>
							<td>
							<p><span>3.1.9</span></td>
						</tr>
						<tr>
							<td>
							<p><span>
							zeroDateTimeBehavior</span></td>
							<td>
							<p>當驅動程式遇到全由0組成的DATETIME值時，應出現什麼？MySQL使用它來資料表示無效日期。有效值是「exception」、「round」和「convertToNull」。</td>
							<td>
							<p><span>No</span></td>
							<td>
							<p><span>exception</span></td>
							<td>
							<p><span>3.1.4</span></td>
						</tr>
					</table>
					<p>通過「socketFactory」屬性，使用NamedPipeSocketFactory，在Windows 
					NT/2000/XP平台上，通過命名管道，Connector/J也支援對MySQL的訪問。如果不使用namedPipePath屬性，將使用<span><a  href="file://./pipe/MySQL"><span style="font-family:&quot;Times New Roman&quot;">\\</span>.\pipe\MySQL</a></span>的預設值。如果使用NamedPipeSocketFactory，將忽略JDBC 
					url中的主機名和端口號。</p>
					<p>在URL中新增下述屬性可啟用<span>NamedPipeSocketFactory</span>：</p>
					<p><span>&nbsp;</span></p>
					<p><span>socketFactory=com.mysql.jdbc.NamedPipeSocketFactory
					</span></p>
					<p>命名管道僅能當連接到位於相同物理機器上的MySQL時才能正常工作，該機器上應使用了JDBC驅動程式。在簡單的性能測試中，命名管道的訪問速度比標準的TCP/IP訪問塊30～50％。</p>
					<p>使用<span>com.mysql.jdbc.NamedPipeSocketFactory</span>或<span>com.mysql.jdbc.StandardSocketFactory中的示範代碼，可建立您自己的套接字代理。</span></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="cj-implementation-notes"></a>
				26.3.3.2.&nbsp;JDBC API實施說明</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				MySQL Connector/J通過了Sun 
				JDBC兼容測試套件公共版中的所有測試。但是，在很多場合下，對於應如何實施特定的功能，JDBC規範並未給出明確的規定，或者說，該規範允許有一定的實施範圍。<p>
				在本節中，就特定實施方案將如何影響MySQL Connector/J的使用方式，給出了接口層面上的詳細介紹。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Blob </span></p>
				<p>
				Blob實施不允許「原地」調整（它們是「副本」，正如DatabaseMetaData.locatorsUpdateCopies()方法所指明的那樣）。因此，應使用對應的PreparedStatement.setBlob()或ResultSet.updateBlob()（對於可更新結果集）方法，將變化保存到資料庫中。</p>
				<p>自Connector/J version 
				3.1.0開始，通過在JDBC 
				URL中新增屬性「emulateLocators=true」，能夠使用定位器模擬Blob。隨後，必須使用帶有列值的列別名，在您編寫的用於檢索Blob的SELECT中，將列值設為Blob列的世紀名稱。SELECT還必須僅引用1個資料表，該資料表必須有1個主鍵，而且SELECT必須涵蓋構成主鍵的所有列。隨後，驅動程式將延期加載實際的Blob數據，直至檢索了Blob並在其上使用了檢索方法為止（getInputStream(), 
				getBytes(),等）。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>CallableStatement </span></p>
				<p>自Connector/J 3.1.1開始，當通過<span>CallableStatement接口連接到MySQL 
				5.0或更高版本時，可支援儲存程式。</span>目前，不支援<span>CallableStatement的getParameterMetaData()</span>方法。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Clob </span></p>
				<p>
				Clob實施不允許「原地」調整（它們是「副本」，正如DatabaseMetaData.locatorsUpdateCopies()方法所指明的那樣）。因此，應使用PreparedStatement.setClob()方法將變更保存到資料庫中。JDBC 
				API沒有ResultSet.updateClob()方法。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Connection </span></p>
				<p>
				與MM.MySQL的早期版本不同，「isClosed()」不會對伺服器即行Ping操作以確定伺服器是否有效。按照JDBC規範，如果在連接上使用了「closed()」，它僅返回「真」。如果需要確定連接是否依然有效，應發出簡單查詢，如「SELECT 
				1」。如果連接不再有效，驅動程式將拋出異常。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>DatabaseMetaData </span></p>
				<p>
				對於外部鍵訊息（getImported/ExportedKeys()和getCrossReference()），僅在「InnoDB」類性的資料表中可用。但是，驅動程式會使用「SHO<a name="id3040348">W 
				CREATE TABLE」來檢索該訊息，因此，當其他資料表類型支援外部鍵時，驅動程式也能支援它們。</a></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Driver </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>PreparedStatement </span></p>
				<p>
				PreparedStatements是由驅動程式實現的，這是應為MySQL未提供預處理語句功能。出於該原因，驅動程式不實施getParameterMetaData()或getMetaData()，這是因為，它要求驅動程式在客戶端上具有完整的SQL語法分析程式。</p>
				<p>從3.1.0版MySQL 
				Connector/J開始，當伺服器支援時，將使用伺服器端預處理語句和「二進制編碼」的結果集。</p>
				<p>
				使用帶有「large」參數（這類參數是通過setBinaryStream()、setAsciiStream()、setUnicodeStream()、setBlob()或setClob()設置的）的伺服器端預處理語句時應謹慎。如果打算再次執行已將任何「large」參數更改為非「large」參數的語句，需要使用clearParameters()，並再次設置所有參數。其原因如下：</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>
				設置了參數時，驅動程式會將「large」數據「out-of-band」發送給伺服器端的預處理語句（執行預處理語句之前）。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>一旦完成，將關閉用於讀取客戶端上數據的流（根據JDBC規範），而且不能再次讀取流。</p>
				<p>
				<span>
				o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>
				如果參數從「large」變為非「large」，驅動程式必須復位預處理語句的伺服器端狀態，以便允許已更改的參數區帶以前的「large」值。這將刪除已發送給伺服器的所有「large」數據，因而需要通過setBinaryStream()、setAsciiStream()、setUnicodeStream()、setBlob()或setClob()方法再次發送數據。</p>
				<p>
				因而，如果您打算將參數類型更改為非「large」類型，必須使用clearParameters()，並在重新執行預處理語句之前再次設置預處理語句的所有參數。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>ResultSet </span></p>
				<p>
				在預設情況下，ResultSets（結果集）是可完全檢索的，並被保存在內存中。對於大多數情況，這是最有效的操作方式，而且還應歸因於更容易實施的MySQL網絡協議設計。如果您正在處理具有大量行或大數據的ResultSets，而且無法在JVM內為所需內存分配大量空間，可以通知驅動程式以「流」方式返回結果，一次一行。</p>
				<p>要想允許該功能，需要以下述方式建立1個語句實例：</p>
				<pre><span>stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java.sql.ResultSet.CONCUR_READ_ONLY);</span></pre>
				<pre><span>stmt.setFetchSize(Integer.MIN_VALUE);</span></pre>
				<p>正向、只讀結果集，以及Integer.MIN_VALUE的組合用於指示驅動程式以「流」方式按行處理結果集。此後，對於該語句建立的結果集，將按行檢索。</p>
				<p>
				對於該方式，有一些需注意的事項。能夠在連接上發出任何其他查詢之前，應讀取結果集中的所有行（或關閉結果集），否則將拋出異常。</p>
				<p>
				能夠釋放這些鎖定語句（無論它們是MyISAM資料表級鎖定，還是某些其他儲存引擎如InnoDB中的行級鎖定）的最早時刻是完成語句時。</p>
				<p>
				如果語句在事務的範圍內，當事務完成後將釋放鎖定（它意味著語句需首先完成）。與大多數其他資料庫一樣，在讀取了語句上所有的未決結果集或關閉了語句的活動結果集之前，語句不會結束。</p>
				<p>
				因此，如果正在使用「流式」結果，如果希望保持對特定資料表的同時訪問，而這些資料表被生成結果集的語句所引用，就應盡快地處理「流式」結果。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>ResultSetMetaData </span></p>
				<p>僅當使用MySQL伺服器4.0或更高版本時，「isAutoIncrement()」方法才能正確工作。</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Statement </span></p>
				<p>使用版本低於3.2.1的JDBC驅動程式，而且所連接的伺服器版本低於5.0.3時，除了像前面介紹的那樣切換結果集外，「setFetchSize()」方法不起作用。</p>
				<p>MySQL不支援SQL光標，而且JDBC驅動程式也不能模擬它們，因此「setCursorName()」沒有效果。</p>
				<h4 class="title"><a name="cj-type-conversions"></a>26.3.3.3.&nbsp;Java，JDBC和MySQL類型</h4></div></div></div>
				<p>MySQL Connector/J在處理MySQL數據類型和Java數據類型的轉換處理方面十分靈活。</p>
				<p>儘管可能會出現捨入、溢出或精度損失，當在通常情況下，能夠將任何MySQL數據類型轉換為java.lang.String，並能將任何數值類型轉換為Java數值類型。</p>
				<p>從Connector/J 3.1.0開始，按照JDBC規範的要求，JDBC驅動程式將發出警告或拋出DataTruncation異常，除非通過使用「jdbcCompliantTruncation」屬性並將其設為「假」，對連接進行相應配置取消了前述要求。</p>
				<p>在下面的資料表格中，列出能可靠工作的轉換：</p>
				<div class="table">
					<p class="title"><b>
					資料表26.2.&nbsp;轉換資料表</b></p></div>
				<table border="1" cellpadding="0" id="table18">
					<thead>
						<tr>
							<td>
							<p align="center">
							<b>下述MySQL數據類型</b></td>
							<td>
							<p align="center">
							<b>總能轉換為下述Java類型</b></td>
						</tr>
					</thead>
					<tr>
						<td>
						<p><span class="type">
						<span>CHAR, VARCHAR, BLOB, TEXT, ENUM, and 
						SET</span></span></td>
						<td>
						<p>
						<span>java.lang.String, java.io.InputStream, 
						java.io.Reader, java.sql.Blob, java.sql.Clob</span></td>
					</tr>
					<tr>
						<td>
						<p><span class="type">
						<span>FLOAT, REAL, DOUBLE PRECISION, 
						NUMERIC, DECIMAL, TINYINT, SMALLINT, MEDIUMINT, INTEGER, 
						BIGINT</span></span></td>
						<td>
						<p>
						<span>java.lang.String, java.lang.Short, 
						java.lang.Integer, java.lang.Long, java.lang.Double, 
						java.math.BigDecimal</span><span>
						</span></p>
						<h3>註釋：</h3>
						<p>與希望轉換的MySQL數據類型相比，如果選擇了精度較低的Java數值類型，可能會出現捨入、溢出或精度損失。</td>
					</tr>
					<tr>
						<td>
						<p><span class="type">
						<span>DATE, TIME, DATETIME, TIMESTAMP</span></span></td>
						<td>
						<p>
						<span>java.lang.String, java.sql.Date, 
						java.sql.Timestamp</span></td>
					</tr>
				</table>
				<p><span>在MySQL類型和Java類型之間，ResultSet.getObject()</span>方法採用了下述類型轉換方式，在可能的情況下遵從JDBC規範：</p>
				<p>
        </p><div class="table"><a name="id3061151"></a><p class="title"><b>資料表26.3.&nbsp;用於ResultSet.getObject()的MySQL類型和Java類型</b></p>
					<table border="1" cellpadding="0" id="table19">
						<thead>
							<tr>
								<td>
								<p align="center">
								<b><span>MySQL</span>類型名稱</b></td>
								<td>
								<p align="center">
								<b>以<span>Java</span>類返回</b></td>
							</tr>
						</thead>
						<tr>
							<td>
							<p><span class="type">
							<span>BIT(1)</span></span><span> 
							(new in MySQL-5.0)</span></td>
							<td>
							<p>
							<span>java.lang.Boolean</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>BIT( &gt; 1)</span></span><span> 
							(new in MySQL-5.0)</span></td>
							<td>
							<p>
							<span>byte[]</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>TINYINT</span></span></td>
							<td>
							<p><span>
							<span>java.lang.Boolean</span>，如果將配置屬性</span>「<span>tinyInt1isBit</span>」設為「真」（預設值），並將儲存大小設為「<span>1</span>」；或<span><span>java.lang.Integer</span>，如果不是的話。</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>BOOL , BOOLEAN</span></span></td>
							<td>
							<p>請參見上面的<span class="type"><span>TINYINT</span>，它們目前是<span>TINYINT(1)</span></span>的別名。</td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>SMALLINT[(M)] [UNSIGNED]</span></span></td>
							<td>
							<p>
							<span>java.lang.Integer</span>（無論是否為<span>UNSIGNED</span>）</td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>MEDIUMINT[(M)] [UNSIGNED]</span></span></td>
							<td>
							<p>
							<span>java.lang.Integer</span>（無論是否為<span>UNSIGNED</span>）</td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>INT,INTEGER[(M)] [UNSIGNED]</span></span></td>
							<td>
							<p>
							<span>java.lang.Integer</span>，如果是<span>UNSIGNED</span>，<span>java.lang.Long</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>BIGINT[(M)] [UNSIGNED]</span></span></td>
							<td>
							<p>
							<span>java.lang.Long</span>，如果是<span>UNSIGNED</span>，<span>java.math.BigInteger</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>FLOAT[(M,D)]</span></span></td>
							<td>
							<p>
							<span>java.lang.Float</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>DOUBLE[(M,B)]</span></span></td>
							<td>
							<p>
							<span>java.lang.Double</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>DECIMAL[(M[,D])]</span></span></td>
							<td>
							<p>
							<span>java.math.BigDecimal</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>DATE</span></span></td>
							<td>
							<p>
							<span>java.sql.Date</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>DATETIME</span></span></td>
							<td>
							<p>
							<span>java.sql.Timestamp</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>TIMESTAMP[(M)]</span></span></td>
							<td>
							<p>
							<span>java.sql.Timestamp</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>TIME</span></span></td>
							<td>
							<p>
							<span>java.sql.Time</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>YEAR[(2|4)]</span></span></td>
							<td>
							<p><span>
							<span>java.sql.Date</span>（日期設為<span>2</span>月<span>1</span>日晚上<span>2</span>點）</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>CHAR(M)</span></span></td>
							<td>
							<p>
							<span>java.lang.String</span>（除非列的字元編碼是<span class="type"><span>BINARY</span>），然後返回字節</span><span>[]</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>VARCHAR(M) [BINARY]</span></span></td>
							<td>
							<p>
							<span>java.lang.String</span>（除非列的字元編碼是<span class="type"><span>BINARY</span>），然後返回字節</span><span>[]</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>BINARY(M)</span></span></td>
							<td>
							<p>
							<span>byte[]</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>VARBINARY(M)</span></span></td>
							<td>
							<p>
							<span>byte[]</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>TINYBLOB</span></span></td>
							<td>
							<p>
							<span>byte[]</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>TINYTEXT</span></span></td>
							<td>
							<p>
							<span>java.lang.String</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>BLOB</span></span></td>
							<td>
							<p>
							<span>byte[]</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>TEXT</span></span></td>
							<td>
							<p>
							<span>java.lang.String</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>MEDIUMBLOB</span></span></td>
							<td>
							<p>
							<span>byte[]</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>MEDIUMTEXT</span></span></td>
							<td>
							<p>
							<span>java.lang.String</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>LONGBLOB</span></span></td>
							<td>
							<p>
							<span>byte[]</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>LONGTEXT</span></span></td>
							<td>
							<p>
							<span>java.lang.String</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>ENUM(&#39;value1&#39;,&#39;value2&#39;,...)</span></span></td>
							<td>
							<p>
							<span>java.lang.String</span></td>
						</tr>
						<tr>
							<td>
							<p><span class="type">
							<span>SET(&#39;value1&#39;,&#39;value2&#39;,...)</span></span></td>
							<td>
							<p>
							<span>java.lang.String</span></td>
						</tr>
					</table>
				</div><p>
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="cj-character-sets"></a>
				26.3.3.4.&nbsp;使用字元編碼和Unicode</h4></div></div></div>
				<p>對於從JDBC驅動程式發往伺服器的所有字串，均將自動地從固有放熱Java 
				Unicode形式轉換為客戶端字元編碼，包括通過<span>Statement.execute()</span>、<span>Statement.executeUpdate()和Statement.executeQuery()發出的所有查詢，</span>以及除了用<span>setBytes()、setBinaryStream()</span>、<span>setAsiiStream()</span>、<span>setUnicodeStream()</span>和<span>setBlob()排除的參試之外的所有PreparedStatement</span>和<span>CallableStatement參數</span>。</p>
				<p>
				在MySQL伺服器4.1之前，Connector/J支援每連接單一字元編碼，能夠從伺服器配置自動檢測到它，也能由用戶通過使用<span><i>useUnicode</i></span>和<span><i>characterEncoding</i></span>屬性配置它。</p>
				<p>
				從MySQL伺服器4.1版起，Connector/J支援客戶端和伺服器之間的但以字元編碼，以及針對結果集中從伺服器返回至客戶端的數據的任意數目字元編碼。</p>
				<p>連接時將自動檢測客戶端和伺服器之間的字元編碼。對於由驅動程式使用的編碼來說，它是在伺服器上通過使用配置變數「<span><i>character_set</i></span>」（低於4.1.0的伺服器版本）和「<span><i>character_set_server</i></span>」（4.1.0和更高的伺服器版本）指定的。更多訊息，請參見MySQL伺服器手冊中的<span><a target="_top"  href="http://www.mysql.com/doc/en/Charset-server.html">伺服器字元編碼和校對</a></span>一節。</p>
				<p>要想覆蓋客戶端上的自動檢測編碼功能，可在用於連接到伺服器的URL中使用「<span><i>characterEncoding</i></span>」屬性。</p>
				<p>在客戶端上指定字元編碼時，應使用Java風格名稱。在下面的資料表格中，列出了用於MySQL字元編碼的Java風格名稱：</p>
				<div class="table"><a name="id3061740"></a><p class="title"><b>資料表26.4.&nbsp;MySQL對Java編碼名稱的翻譯</b></p><table summary="MySQL to Java Encoding Name Translations" border="1"><colgroup><col><col></colgroup><thead><tr><th>
					MySQL<b><span>字元編碼名稱</span></b></th><th>
					Java<b><span>風格字元編碼名稱</span></b></th></tr></thead><tbody><tr><td>usa7</td><td>US-ASCII</td></tr><tr><td>big5</td><td>Big5</td></tr><tr><td>gbk</td><td>GBK</td></tr><tr><td>sjis</td><td>SJIS</td></tr><tr><td>gb2312</td><td>EUC_CN</td></tr><tr><td>ujis</td><td>EUC_JP</td></tr><tr><td>euc_kr</td><td>EUC_KR</td></tr><tr><td>latin1</td><td>ISO8859_1</td></tr><tr><td>latin1_de</td><td>ISO8859_1</td></tr><tr><td>german1</td><td>ISO8859_1</td></tr><tr><td>danish</td><td>ISO8859_1</td></tr><tr><td>latin2</td><td>ISO8859_2</td></tr><tr><td>czech</td><td>ISO8859_2</td></tr><tr><td>hungarian</td><td>ISO8859_2</td></tr><tr><td>croat</td><td>ISO8859_2</td></tr><tr><td>greek</td><td>ISO8859_7</td></tr><tr><td>hebrew</td><td>ISO8859_8</td></tr><tr><td>latin5</td><td>ISO8859_9</td></tr><tr><td>latvian</td><td>ISO8859_13</td></tr><tr><td>latvian1</td><td>ISO8859_13</td></tr><tr><td>estonia</td><td>ISO8859_13</td></tr><tr><td>dos</td><td>Cp437</td></tr><tr><td>pclatin2</td><td>Cp852</td></tr><tr><td>cp866</td><td>Cp866</td></tr><tr><td>koi8_ru</td><td>KOI8_R</td></tr><tr><td>tis620</td><td>TIS620</td></tr><tr><td>win1250</td><td>Cp1250</td></tr><tr><td>win1250ch</td><td>Cp1250</td></tr><tr><td>win1251</td><td>Cp1251</td></tr><tr><td>cp1251</td><td>Cp1251</td></tr><tr><td>win1251ukr</td><td>Cp1251</td></tr><tr><td>cp1257</td><td>Cp1257</td></tr><tr><td>macroman</td><td>MacRoman</td></tr><tr><td>macce</td><td>MacCentralEurope</td></tr><tr><td>utf8</td><td>UTF-8</td></tr><tr><td>ucs2</td><td>UnicodeBig</td></tr></tbody></table></div><p>
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
					<h3>警告</h3>
					<p>不要用Connector/J發出查詢「set 
					names」，這是因為驅動程式不會檢測已變化的字元編碼，而是會繼續使用在初始連接設置中檢測到的字元編碼。</p>
					<p>為了允許從客戶端發出的多個字元編碼，應使用「UTF-8」編碼，方式是，將utf8配置為預設的伺服器字元編碼，或通過「<span><i>characterEncoding</i></span>」屬性配置JDBC驅動程式以使用「UTF-8」。</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="cj-using-ssl"></a>
				26.3.3.5.&nbsp;使用SSL進行安全連接</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				MySQL 
				Connector/J中的SSL能夠對JDBC驅動程式和伺服器之間傳輸的所有數據進行加密（除了初始握手數據）。啟用SSL會導致性能損失，體現在查詢時間將增加35～50％，具體情況取決於查詢的大小以及返回的數據量。<p>
				要想使SSL支援能夠工作，必須滿足下述要求：</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>
				包含JSSE（Java安全套接字延伸）的JDK，如JDK-1.4.1或更高版本。SSL目前不能與能夠為其新增JSSE的JDK一起工作，如JDK-1.2.x或JDK-1.3.x，原因在於下述JSSE問題：<span><a target="_top"  href="http://developer.java.sun.com/developer/bugParade/bugs/4273544.html"><span>http://developer.java.sun.com/developer/bugParade/bugs/4273544.html</span></a>
				</span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>支援SSL並已編譯和配置了該功能的MySQL伺服器，如MySQL-4.0.4和更高版本，請參見：<span><a target="_top"  href="http://www.mysql.com/doc/en/Secure_connections.html"><span>http://www.mysql.com/doc/en/Secure_connections.html</span></a>
				</span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span>客戶端證書（在本節稍後介紹）。</p>
				<p>首先，需要將MySQL伺服器CA證書導入到Java 
				truststore。在MySQL原始碼分發版的「SSL」子目錄下給出了1個示範MySQL伺服器CA證書。SSL將使用它來確定是否與安全MySQL伺服器進行通信。</p>
				<p>
				要想使用Java的「keytool」在當前目錄下建立truststore，並導入伺服器的CA證書（「cacert.pem」），可採取下述方式（假定「keytool」位於路徑中。它位於JDK或JRE的「bin」子目錄下）：</p>
				<pre><span>shell&gt; keytool -import -alias mysqlServerCACert -file cacert.pem -keystore truststore</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
				<p>Keytool將給出下述響應訊息：</p>
				<pre><span>Enter keystore password:&nbsp; *********</span></pre>
				<pre><span>Owner: EMAILADDRESS=walrus@example.com, CN=Walrus, O=MySQL AB, L=Orenburg, ST=Some</span></pre>
				<pre><span>-State, C=RU</span></pre>
				<pre><span>Issuer: EMAILADDRESS=walrus@example.com, CN=Walrus, O=MySQL AB, L=Orenburg, ST=Som</span></pre>
				<pre><span>e-State, C=RU</span></pre>
				<pre><span>Serial number: 0</span></pre>
				<pre><span>Valid from: Fri Aug 02 16:55:53 CDT 2002 until: Sat Aug 02 16:55:53 CDT 2003</span></pre>
				<pre><span>Certificate fingerprints:</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MD5:&nbsp; 61:91:A0:F2:03:07:61:7A:81:38:66:DA:19:C4:8D:AB</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SHA1: 25:77:41:05:D5:AD:99:8C:14:8C:CA:68:9C:2F:B8:89:C3:34:4D:6C</span></pre>
				<pre><span>Trust this certificate? [no]:&nbsp; yes</span></pre>
				<pre><span>Certificate was added to keystore</span></pre>
				<p>隨後，需要生成客戶端證書，以便MySQL伺服器知道它正與安全客戶端進行通信：</p>
				<pre><span>&nbsp;shell&gt; keytool -genkey -keyalg rsa -alias mysqlClientCertificate -keystore keystore </span></pre>
				<p>Keytool將給出下述提示訊息，並在當目錄下建立名為「keystore」的密鑰儲存器。</p>
				<p>您應使用與具體情況相適應的新作出響應：</p>
				<pre><span>Enter keystore password:&nbsp; *********</span></pre>
				<pre><span>What is your first and last name?</span></pre>
				<pre><span>&nbsp; [Unknown]:&nbsp; Matthews</span></pre>
				<pre><span>What is the name of your organizational unit?</span></pre>
				<pre><span>&nbsp; [Unknown]:&nbsp; Software Development</span></pre>
				<pre><span>What is the name of your organization?</span></pre>
				<pre><span>&nbsp; [Unknown]:&nbsp; MySQL AB</span></pre>
				<pre><span>What is the name of your City or Locality?</span></pre>
				<pre><span>&nbsp; [<a name="id3063314">Unknown]:&nbsp; Flossmoor</a></span></pre>
				<pre><span>What is the name of your State or Province?</span></pre>
				<pre><span>&nbsp; [Unknown]:&nbsp; IL</span></pre>
				<pre><span>What is the two-letter country code for this unit?</span></pre>
				<pre><span>&nbsp; [Unknown]:&nbsp; US</span></pre>
				<pre><span>Is &lt;CN=Matthews, OU=Software Development, O=MySQL AB,</span></pre>
				<pre><span> L=Flossmoor, ST=IL, C=US&gt; correct?</span></pre>
				<pre><span>&nbsp; [no]:&nbsp; y</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre>輸入&lt;mysqlClientCertificate&gt;的密碼</pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>如果與keystore的密碼相同，按回車）：</pre>
				<p>
				最後，要想使JSSE能夠使用您生成的keystore和truststore，啟動JVM時，需要設置下述系統屬性，用您所建立的keystore檔案完整路徑替換「path_to_keystore_file」，用您所建立的truststore檔案完整路徑替換「path_to_truststore_file」，並為每個屬性使用恰當的密碼值。</p>
				<pre><span>-Djavax.net.ssl.keyStore=path_to_keystore_file</span></pre>
				<pre><span>-Djavax.net.ssl.keyStorePassword=*********</span></pre>
				<pre><span>-Djavax.net.ssl.trustStore=path_to_truststore_file</span></pre>
				<pre><span>-Djavax.net.ssl.trustStorePassword=********* </span></pre>
				<p>此外，還需要在用於MySQL 
				Connector/J的連接參數中將「useSSL」設置為「真」，方法是，在URL中新增「useSSL=true」，或在準備傳遞給DriverManager.getConnection()的java.util.Properties實例中將「useSSL」設置為「真」。</p>
				<p>您可以打開JSSE調試功能能夠，測試SSL是否工作（詳情如下），並搜尋下述關鍵事件：</p>
				<pre><span>...</span></pre>
				<pre><span> *** ClientHello, v3.1</span></pre>
				<pre><span> RandomCookie:&nbsp; GMT: 1018531834 bytes = { 199, 148, 180, 215, 74, 12, 54, 244, 0, 168, 55, 103, 215, 64, 16, 138, 225, 190, 132, 153, 2, 217, 219, 239, 202, 19, 121, 78 }</span></pre>
				<pre><span> Session ID:&nbsp; {}</span></pre>
				<pre><span> Cipher Suites:&nbsp; { 0, 5, 0, 4, 0, 9, 0, 10, 0, 18, 0, 19, 0, 3, 0, 17 }</span></pre>
				<pre><span> Compression Methods:&nbsp; { 0 }</span></pre>
				<pre><span> ***</span></pre>
				<pre><span> [write] MD5 and SHA1 hashes:&nbsp; len = 59</span></pre>
				<pre><span> 0000: 01 00 00 37 03 01 3D B6&nbsp;&nbsp; 90 FA C7 94 B4 D7 4A 0C&nbsp; ...7..=.......J.</span></pre>
				<pre><span> 0010: 36 F4 00 A8 37 67 D7 40&nbsp;&nbsp; 10 8A E1 BE 84 99 02 D9&nbsp; 6...7g.@........</span></pre>
				<pre><span> 0020: DB EF CA 13 79 4E 00 00&nbsp;&nbsp; 10 00 05 00 04 00 09 00&nbsp; ....yN..........</span></pre>
				<pre><span> 0030: 0A 00 12 00 13 00 03 00&nbsp;&nbsp; 11 01 00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...........</span></pre>
				<pre><span> main, WRITE:&nbsp; SSL v3.1 Handshake, length = 59</span></pre>
				<pre><span> main, READ:&nbsp; SSL v3.1 Handshake, length = 74</span></pre>
				<pre><span> *** ServerHello, v3.1</span></pre>
				<pre><span> RandomCookie:&nbsp; GMT: 1018577560 bytes = { 116, 50, 4, 103, 25, 100, 58, 202, 79, 185, 178, 100, 215, 66, 254, 21, 83, 187, 190, 42, 170, 3, 132, 110, 82, 148, 160, 92 }</span></pre>
				<pre><span> Session ID:&nbsp; {163, 227, 84, 53, 81, 127, 252, 254, 178, 179, 68, 63, 182, 158, 30, 11, 150, 79, 170, 76, 255, 92, 15, 226, 24, 17, 177, 219, 158, 177, 187, 143}</span></pre>
				<pre><span> Cipher Suite:&nbsp; { 0, 5 }</span></pre>
				<pre><span> Compression Method: 0</span></pre>
				<pre><span> ***</span></pre>
				<pre><span> %% Created:&nbsp; [Session-1, SSL_RSA_WITH_RC4_128_SHA]</span></pre>
				<pre><span> ** SSL_RSA_WITH_RC4_128_SHA</span></pre>
				<pre><span> [read] MD5 and SHA1 hashes:&nbsp; len = 74</span></pre>
				<pre><span> 0000: 02 00 00 46 03 01 3D B6&nbsp;&nbsp; 43 98 74 32 04 67 19 64&nbsp; ...F..=.C.t2.g.d</span></pre>
				<pre><span> 0010: 3A CA 4F B9 B2 64 D7 42&nbsp;&nbsp; FE 15 53 BB BE 2A AA 03&nbsp; :.O..d.B..S..*..</span></pre>
				<pre><span> 0020: 84 6E 52 94 A0 5C 20 A3&nbsp;&nbsp; E3 54 35 51 7F FC FE B2&nbsp; .nR..\ ..T5Q....</span></pre>
				<pre><span> 0030: B3 44 3F B6 9E 1E 0B 96&nbsp;&nbsp; 4F AA 4C FF 5C 0F E2 18&nbsp; .D?.....O.L.\...</span></pre>
				<pre><span> 0040: 11 B1 DB 9E B1 BB 8F 00&nbsp;&nbsp; 05 00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ..........</span></pre>
				<pre><span> main, READ:&nbsp; SSL v3.1 Handshake, length = 1712</span></pre>
				<pre><span> ...</span></pre>
				<p>設置了下述系統屬性時，JSSE可提供調試功能（為STDOUT）：-Djavax.net.debug=all。它用於設定要使用的keystores和truststores，以及在SSL握手和證書交換過程中將出現什麼。當您嘗試進行SSL連接時，如果打算確定不能工作的部分，該設置十分有用。</p>
				<h4 class="title"><a name="cj-replication-connection"></a>
				26.3.3.6.&nbsp;使用主／從複製和ReplicationConnection</h4></div></div></div>
				<p>從Connector/J 3.1.7開始，我們提供了1個驅動程式變體，它能自動發出讀／寫主伺服器的查詢，或根據<span>Connection.getReadOnly()的狀態對從主機進行故障切換或循環負載平衡設置。</span></p>
				<p>應用程式發出信號，通過使用<span>Connection.setReadOnly(true)指明事務為只讀的，該具有<span >「</span>複製意識<span >」</span>的連接將使用</span>從連接之一，從連接是採用了循環方案的負載平衡per-vm（給定連接與從連接密切相關，除非在服務中刪除了從連接）。如果您有1項寫事務，或1項對時間敏感的讀事務（記住，在MySQL中，複製是以異步方式進行的），請使用<span>Connection.setReadOnly(false)，</span>將連接設置為非只讀的，驅動程式會確保進一步的使用均將被發送到主MySQL伺服器。驅動程式負責傳播autocommit的當前狀態，隔離級別，以及用於完成該負載平衡功能的所有連接之間的目錄。</p>
				<p>要想啟用該該功能，在配置應用伺服器的連接池時，或為獨立應用程式建立JDBC驅動實例時，請使用「<span>com.mysql.jdbc.ReplicationDriver</span>」類。由於它能接受與標準MySQL 
				JDBC驅動相同的URL格式，<span>ReplicationDriver目前不能與基於java.sql.DriverManager的連接一起使用，除非它是用DriverManager註冊的唯一</span>MySQL 
				JDBC驅動程式。</p>
				<p>下面給出了一個簡短的簡單示範，介紹了如何在獨立應用程式中使用ReplicationDriver的方法。</p>
				<pre><span>import java.sql.Connection;</span></pre>
				<pre><span>import java.sql.ResultSet;</span></pre>
				<pre><span>import java.util.Properties;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>import com.mysql.jdbc.ReplicationDriver;</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>public class ReplicationDriverDemo {</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; public static void main(String[] args) throws Exception {</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ReplicationDriver driver = new ReplicationDriver();</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Properties props = new Properties();</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // We want this for failover on the slaves</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; props.put(&quot;autoReconnect&quot;, &quot;true&quot;);</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // We want to load balance between the slaves</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; props.put(&quot;roundRobinLoadBalance&quot;, &quot;true&quot;);</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; props.put(&quot;user&quot;, &quot;foo&quot;);</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; props.put(&quot;password&quot;, &quot;bar&quot;);</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Looks like a normal MySQL JDBC url, with a comma-separated list</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // of hosts, the first being the &#39;master&#39;, the rest being any number</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // of slaves that the driver will load balance against</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Connection conn =</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; driver.connect(&quot;jdbc:mysql://master,slave1,slave2,slave3/test&quot;,</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; props);</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Perform read/write work on the master</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // by setting the read-only flag to &quot;false&quot;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conn.setReadOnly(false);</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conn.setAutoCommit(false);</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conn.createStatement().executeUpdate(&quot;UPDATE some_table ....&quot;);</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conn.commit();</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Now, do a query from a slave, the driver automatically picks one</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // from the list</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conn.setReadOnly(true);</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ResultSet rs = conn.createStatement().executeQuery(&quot;SELECT a,b,c FROM some_other_table&quot;);</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .......</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; }</span></pre>
				<pre><span>}</span></pre>
			</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="cj-j2ee"></a>
			26.3.4.&nbsp;與J2EE和其他Java框架一起使用 Connector/J</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#cj-general-j2ee-concepts">
				26.3.4.1. 一般J2EE概念</a></span></dt><dt><span class="section"><a href="connectors.html#cj-tomcat-config">
				26.3.4.2. 與Tomcat一起使用Connector/J</a></span></dt><dt><span class="section"><a href="connectors.html#cj-jboss-config">
				26.3.4.3. 與JBoss一起使用Connector/J</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				本節介紹了在數種不同情況下使用Connector/J的方法。<h4 class="title"><a name="cj-general-j2ee-concepts"></a>
				26.3.4.1.&nbsp;一般J2EE概念</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#cj-connection-pooling">
					26.3.4.1.1. 理解連接池</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
					在本節中，介紹了與Connector/J使用有關的J2EE概念的基本知識。<h5 class="title"><a name="cj-connection-pooling"></a>
					26.3.4.1.1.&nbsp;理解連接池</h5></div></div></div><div class="example"><a name="id3062691"></a>
						連接池是建立和管理多個連接的一種技術，這些連接可被需要使用它們的任何線程使用。連接池技術基於下述事實：對於大多數應用程式，當它們正在處理通常需要數毫秒完成的事務時，僅需要能夠訪問JDBC連接的1個線程。未處理事務時，連接處於閒置狀態。使用連接池，允許其他線程使用閒置連接來執行有用的任務。<p>
						事實上，當某一線程需要用JDBC在MySQL或其他資料庫上執行操作時，需要用到由連接池提供的連接。使用連接完成線程後，線程會將連接返回給連接池，以便該連接能夠被其他需要使用連接的線程使用。</p>
						<p>
						從連接池「借出」連接時，該連接僅供請求它的線程使用。從編程觀點看，其效果等同於每次需要JDBC連接時使用DriverManager.getConnection()，但是，採用連接池技術，可通過使用新的或已有的連接結束線程。</p>
						<p>連接池技術能顯著增加Java應用程式的性能，同時還能降低資源使用率。連接池技術的主要優點包括：</p>
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span>縮短了連接建立時間</p>
						<p>
						與其他資料庫相比，MySQL提供了快速的連接設置功能，連接時間通常不是問題，但建立新的JDBC連接仍會導致聯網操作和一定的IDBC驅動開銷，如果這類連接是「循環」使用的，使用該方式，可避免這類不利因素。</p>
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span>簡化的編程模型</p>
						<p>使用連接池技術時，每個單獨線程能夠像建立了自己的JDBC連接那樣進行操作，從而允許使用直接的JDBC編程技術。</p>
						<p>
						<span>
						·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</span></span>受控的資源使用</p>
						<p>
						如果不使用連接池技術，而是在每次需要時為線程建立新的連接，那麼應用程式的資源使用將十分浪費，而且在負載較重的情況下會導致無法預期的結果。</p>
						<p>
						注意，與MySQL的每個連接均會在客戶端和伺服器端造成一定的開銷（每寸、CPU、關聯轉換等）。每個連接均會對應用程式和MySQL伺服器的可用資源帶來一定的限制。無論連接是否執行任何有用的任務，仍將使用這些資源中的相當一部分。</p>
						<p>
						連接池能夠使性能最大化，同時還能將資源利用控制在一定的水平之下，如果超過該水平，應用程式將崩潰而不僅僅是變慢。</p>
						<p>幸運的是，Sun公司通過JDBC-2.0「可選」接口，完成了JDBC中連接池概念的標準化實施，所有主要應用伺服器均實施了能夠與MySQL 
						Connector/J一起良好工作的這類API。</p>
						<p>
						通常，您可以在應用伺服器的配置檔案中配置連接池，並通過Java命名和目錄接口（JNDI）訪問它。在下面的代碼中，介紹了在J2E應用伺服器上運行的應用程式中使用連接池的方法：</p>
						<p class="title"><b>
						示範26.12.&nbsp;與J2EE應用伺服器一起使用連接池</b></p><pre class="programlisting">import java.sql.Connection;
import java.sql.SQLException;
import java.sql.Statement;

import javax.naming.InitialContext;
import javax.sql.DataSource;


public class MyServletJspOrEjb {

    public void doSomething() throws Exception {
        /*
         * Create a JNDI Initial context to be able to
         *  lookup  the DataSource
         *
         * In production-level code, this should be cached as
         * an instance or static variable, as it can
         * be quite expensive to create a JNDI context.
         *
         * Note: This code only works when you are using servlets
         * or EJBs in a J2EE application server. If you are
         * using connection pooling in standalone Java code, you
         * will have to create/configure datasources using whatever
         * mechanisms your particular connection pooling library
         * provides.
         */

        InitialContext ctx = new InitialContext();

         /*
          * Lookup the DataSource, which will be backed by a pool
          * that the application server provides. DataSource instances
          * are also a good candidate for caching as an instance
          * variable, as JNDI lookups can be expensive as well.
          */

        DataSource ds = (DataSource)ctx.lookup("java:comp/env/jdbc/MySQLDB");

        /*
         * The following code is what would actually be in your
         * Servlet, JSP or EJB 'service' method...where you need
         * to work with a JDBC connection.
         */

        Connection conn = null;
        Statement stmt = null;

        try {
            conn = ds.getConnection();

            /*
             * Now, use normal JDBC programming to work with
             * MySQL, making sure to close each resource when you're
             * finished with it, which allows the connection pool
             * resources to be recovered as quickly as possible
             */

            stmt = conn.createStatement();
            stmt.execute("SOME SQL QUERY");

            stmt.close();
            stmt = null;

            conn.close();
            conn = null;
        } finally {
            /*
             * close any jdbc instances here that weren't
             * explicitly closed during normal code path, so
             * that we don't 'leak' resources...
             */

            if (stmt != null) {
                try {
                    stmt.close();
                } catch (sqlexception sqlex) {
                    // ignore -- as we can't do anything about it here
                }

                stmt = null;
            }

            if (conn != null) {
                try {
                    conn.close();
                } catch (sqlexception sqlex) {
                    // ignore -- as we can't do anything about it here
                }

                conn = null;
            }
        }
    }
}</pre></div>
					<p>如上例所示，獲得JNDI InitialContext並搜尋到資料庫後，其餘代碼與過去在JDBC編程中使用的類似。</p>
					<p>
					使用連接池時需要牢記的最重要事項是，無論在代碼中出現了什麼（異常、控制流等），連接以及由連接建立的任何部分（語句、結果集等）均應被關閉，以便能再次使用它們。如不然，它們將糾纏在一起，在最好的情況下，意味著它們所代資料表的MySQL伺服器資源（緩衝區、鎖定、套接字等）可能會捆綁一段時間，在最壞的情況下，可能會導致永久捆綁。</p>
					<p>連接池的最佳大小是什麼？<span> </span></p>
					<p>
					與所有其他配置經驗規則一樣，回答是「它取決於具體情況」。儘管最佳大小取決與預期的負載和平均的資料庫事務時間，最佳的連接池大小小於您的預期。例如，如果使用的是Sun公司的Java 
					Petstore 
					Blueprint應用程式，對於包含15～20個連接的連接池，使用MySQL和Tomcat，在可接受的相應時間下，可服務於中等程度的負載（600個並發用戶）。</p>
					<p>要想確定用於應用程式的連接池大小，應使用諸如Apache Jmeter或The 
					Grinder等工具建立負載測試指令，並對應用程式進行負載測試。</p>
					<p>
					確定出發點的一種簡單方法是，將連接池的最大連接數配置為「無限」，運行負載測試，並測量最大的並發連接數。隨後，應進行反向操作，確定出使應用程式具有最佳性能的連接池的最小和最大值。</p>
					<div>
						<div>
							<h4 class="title"><a name="cj-tomcat-config"></a>
							26.3.4.2.&nbsp;與Tomcat一起使用Connector/J</h4></div></div></div>
				<p>下述內容基於關於Tomcat-5.x的指<a name="id3063315">示說明，</a><a target="_top"  href="http://jakarta.apache.org/tomcat/tomcat-5.0-doc/jndi-datasource-examples-howto.html"><span>http://jakarta.apache.org/tomcat/tomcat-5.0-doc/jndi-datasource-examples-howto.html</span></a>，在編寫本文檔時它是最新的。</p>
				<p>首先安裝與Connector/J in <span>$CATALINA_HOME/common/lib一起提供的</span>.jar檔案，以便它能用於已安裝的所有應用程式。</p>
				<p>其次，在定義Web應用程式的Context（場景）內，通過為<span>$CATALINA_HOME/conf/server.xml增加聲明資源，配置</span>JNDI 
				DataSource：</p>
				<pre class="programlisting">&lt;Context ....&gt;

  ...

  &lt;Resource name="jdbc/MySQLDB"
               auth="Container"
               type="javax.sql.DataSource"/&gt;

  &lt;!-- The name you used above, must match _exactly_ here!

       The connection pool will be bound into JNDI with the name
       "java:/comp/env/jdbc/MySQLDB"
  --&gt;

  &lt;ResourceParams name="jdbc/MySQLDB"&gt;
    &lt;parameter&gt;
      &lt;name&gt;factory&lt;/name&gt;
      &lt;value&gt;org.apache.commons.dbcp.BasicDataSourceFactory&lt;/value&gt;
    &lt;/parameter&gt;

    &lt;!-- Don't set this any higher than max_connections on your
         MySQL server, usually this should be a 10 or a few 10's
         of connections, not hundreds or thousands --&gt;

    &lt;parameter&gt;
      &lt;name&gt;maxActive&lt;/name&gt;
      &lt;value&gt;10&lt;/value&gt;
    &lt;/parameter&gt;

    &lt;!-- You don't want to many idle connections hanging around
         if you can avoid it, only enough to soak up a spike in
         the load --&gt;

    &lt;parameter&gt;
      &lt;name&gt;maxIdle&lt;/name&gt;
      &lt;value&gt;5&lt;/value&gt;
    &lt;/parameter&gt;

    &lt;!-- Don't use autoReconnect=true, it's going away eventually
         and it's a crutch for older connection pools that couldn't
         test connections. You need to decide if your application is
         supposed to deal with SQLExceptions (hint, it should), and
         how much of a performance penalty you're willing to pay
         to ensure 'freshness' of the connection --&gt;

    &lt;parameter&gt;
      &lt;name&gt;validationQuery&lt;/name&gt;
      &lt;value&gt;SELECT 1&lt;/value&gt;
    &lt;/parameter&gt;

   &lt;!-- The most conservative approach is to test connections
        before they're given to your application. For most applications
        this is okay, the query used above is very small and takes
        no real server resources to process, other than the time used
        to traverse the network.

        If you have a high-load application you'll need to rely on
        something else. --&gt;

    &lt;parameter&gt;
      &lt;name&gt;testOnBorrow&lt;/name&gt;
      &lt;value&gt;true&lt;/value&gt;
    &lt;/parameter&gt;

   &lt;!-- Otherwise, or in addition to testOnBorrow, you can test
        while connections are sitting idle --&gt;

    &lt;parameter&gt;
      &lt;name&gt;testWhileIdle&lt;/name&gt;
      &lt;value&gt;true&lt;/value&gt;
    &lt;/parameter&gt;

    &lt;!-- You have to set this value, otherwise even though
         you've asked connections to be tested while idle,
         the idle evicter thread will never run --&gt;

    &lt;parameter&gt;
      &lt;name&gt;timeBetweenEvictionRunsMillis&lt;/name&gt;
      &lt;value&gt;10000&lt;/value&gt;
    &lt;/parameter&gt;

    &lt;!-- Don't allow connections to hang out idle too long,
         never longer than what wait_timeout is set to on the
         server...A few minutes or even fraction of a minute
         is sometimes okay here, it depends on your application
         and how much spikey load it will see --&gt;

    &lt;parameter&gt;
      &lt;name&gt;minEvictableIdleTimeMillis&lt;/name&gt;
      &lt;value&gt;60000&lt;/value&gt;
    &lt;/parameter&gt;

    &lt;!-- Username and password used when connecting to MySQL --&gt;

    &lt;parameter&gt;
     &lt;name&gt;username&lt;/name&gt;
     &lt;value&gt;someuser&lt;/value&gt;
    &lt;/parameter&gt;

    &lt;parameter&gt;
     &lt;name&gt;password&lt;/name&gt;
     &lt;value&gt;somepass&lt;/value&gt;
    &lt;/parameter&gt;

    &lt;!-- Class name for the Connector/J driver --&gt;

    &lt;parameter&gt;
       &lt;name&gt;driverClassName&lt;/name&gt;
       &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;
    &lt;/parameter&gt;

    &lt;!-- The JDBC connection url for connecting to MySQL, notice
         that if you want to pass any other MySQL-specific parameters
         you should pass them here in the URL, setting them using the
         parameter tags above will have no effect, you will also
         need to use &amp;amp; to separate parameter values as the
         ampersand is a reserved character in XML --&gt;

    &lt;parameter&gt;
      &lt;name&gt;url&lt;/name&gt;
      &lt;value&gt;jdbc:mysql://localhost:3306/test&lt;/value&gt;
    &lt;/parameter&gt;

  &lt;/ResourceParams&gt;
&lt;/Context&gt;</pre>
				<p>
				一般而言，應遵循關於相應Tomcat版本的安裝說明，這是因為，在Tomcat中配置數據源的方式會隨時變化，很不幸，如果在XML檔案中使用了錯誤的語法，很可能會以異常結束，如下所示：</p>
				<pre class="programlisting">Error: java.sql.SQLException: Cannot load JDBC driver class 'null ' SQL
state: null </pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="cj-jboss-config"></a>
				26.3.4.3.&nbsp;與JBoss一起使用Connector/J</h4></div></div></div>
				<p>下述說明適用於JBoss-4.x。要想使應用伺服器能夠使用JDBC驅動類，請將與Connector/J一起提供的.jar檔案拷貝到用於伺服器配置的lib目錄下（通常稱為「預設」）。隨後，在相同的配置目錄下，在名為「deploy」的子目錄下，建立以「-ds.xml」結尾的數據源配置檔案，用於通知Jboss將該檔案當作JDBC數據源。該檔案應包含下述內容：</p>
				<pre class="programlisting">&lt;datasources&gt;
    &lt;local-tx-datasource&gt;
        &lt;!-- This connection pool will be bound into JNDI with the name
             "java:/MySQLDB" --&gt;

        &lt;jndi-name&gt;MySQLDB&lt;/jndi-name&gt;
        &lt;connection-url&gt;jdbc:mysql://localhost:3306/dbname&lt;/connection-url&gt;
        &lt;driver-class&gt;com.mysql.jdbc.Driver&lt;/driver-class&gt;
        &lt;user-name&gt;user&lt;/user-name&gt;
        &lt;password&gt;pass&lt;/password&gt;

        &lt;min-pool-size&gt;5&lt;/min-pool-size&gt;

        &lt;!-- Don't set this any higher than max_connections on your
         MySQL server, usually this should be a 10 or a few 10's
         of connections, not hundreds or thousands --&gt;

        &lt;max-pool-size&gt;20&lt;/max-pool-size&gt;

        &lt;!-- Don't allow connections to hang out idle too long,
         never longer than what wait_timeout is set to on the
         server...A few minutes is usually okay here,
         it depends on your application
         and how much spikey load it will see --&gt;

        &lt;idle-timeout-minutes&gt;5&lt;/idle-timeout-minutes&gt;

        &lt;!-- If you're using Connector/J 3.1.8 or newer, you can use
             our implementation of these to increase the robustness
             of the connection pool. --&gt;

        &lt;exception-sorter-class-name&gt;com.mysql.jdbc.integration.jboss.ExtendedMysqlExceptionSorter&lt;/exception-sorter-class-name&gt;
        &lt;valid-connection-checker-class-name&gt;com.mysql.jdbc.integration.jboss.MysqlValidConnectionChecker&lt;/valid-connection-checker-class-name&gt;

    &lt;/local-tx-datasource&gt;
&lt;/datasources&gt; </pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="cj-troubleshooting"></a>
			26.3.5.&nbsp;診斷 Connector/J方面的問題</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#cj-faq">
				26.3.5.1. 常見問題和解決方案</a></span></dt><dt><span class="section"><a href="connectors.html#cj-reporting-bugs">
				26.3.5.2. 如何通報問題和問題</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				在本節中，介紹了如何解決使用Connector/J時遇到的問題。<h4 class="title"><a name="cj-faq"></a>
				26.3.5.1.&nbsp;常見問題和解決方案</h4></div></div></div>
				<p style="background: white">對於<span>MySQL Connector/J</span>用戶，會遇到一些常見的共同問題。在本節中，介紹了它們的症狀和相應的解決方法。<span>&nbsp;</span>關於更進一步的訊息，請參見「支援」一節。</p>
				<p><span class="bold"><strong>27.3.5.1.1:
    </strong></span></p>
				<p>問題：</p>
				<p>當我嘗試用MySQL Connector/J連接到資料庫時，遇到下述異常：</p>
				<pre><span>SQLException: Server configuration denies access to data source</span></pre>
				<pre><span>SQLState: 08001</span></pre>
				<pre><span>VendorError: 0</span></pre>
				<p>出現了什麼問題？ 使用MySQL命令行客戶端時，連接良好。</p>
				<p>回答：</p>
				<p>MySQL Connector/J必須使用TCP/IP套接字來連接MySQL，原因在於Java不支援Unix 
				Domain套接字。因此，當MySQL 
				Connector/J連接到MySQL時，MySQL伺服器的安全管理器將使用其授權資料表判斷是否允許連接。必須新增授權才能允許該操作。下面給出了一個執行該操作的示範（但並非最安全的）。</p>
				<p>從mysql命令行客戶端以能夠授權的用戶身份登錄，並發出下述命令：</p>
				<pre><span>GRANT ALL PRIVILEGES ON [dbname].* to</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;[user]&#39;@&#39;[hostname]&#39; identified by</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;[password]&#39;</span></pre>
				<p>用您的資料庫名稱替換[dbname]，用帳號替換[user]，用MySQL 
				Connector/J將連接的主機替換[hostname]，並用打算使用的密碼替換[password]。注意，對於從本地主機進行連接的主機名部分，RedHat 
				Linux將失敗。在這種情況下，對於[hostname]值，需要使用「localhost.localdomain」。隨後，發出FLUSH 
				PRIVILEGES命令。</p>
				<h3>註釋：</h3>
				<p>除非新增了「--host」標誌，並為主機使用了不同於「localhost」的其他設置，否則將無法使用mysql命令行客戶<a name="id3063316">端測試連通性。如果使用了特殊的主機名「localhost」，</a>mysql命令行客戶端將使用Unix域套接字。如果正在測試與「localhost」的連通性，請使用「127.0.0.1」作為主機名。</p>
				<h3>警告</h3>
				<p>如果您不瞭解「GRANT」命令是幹什麼的，或不瞭解該命令的工作方式，在嘗試更改權限之前，請閱讀MySQL手冊中的 
				<a target="_top"  href="http://www.mysql.com/doc/en/Privilege_system.html">
				一般安全事宜以及<span>MySQL</span>訪問權限體系</a>一節。</p>
				<p>如果在MySQL中不恰當地更改了權限和授權，可能會使伺服器不會具有最佳的安全性能。</p>
				<p><span class="bold"><strong>27.3.5.1.2:
    </strong></span></p>
				<p>問題：</p>
				<p>我的應用程式拋出SQLException「無恰當的驅動程式」。為什麼會出現該情況？ </p>
				<p>回答：</p>
				<p>出現了兩種情況之一。或是1驅動程式未位於您的CLASSPATH中（請參見前面的「安裝部分」），或是URL格式不正確（請參見用MySQL 
				Connector/J開發應用程式）。</p>
				<p><span class="bold"><strong>27.3.5.1.3:
    </strong></span></p>
				<p>問題：</p>
				<p>當我試圖在Java程式或應用程式中使用MySQL Connector/J時，遇到類似下面的異常：</p>
				<pre>SQLException: 無法連接到host:3306上的MySQL伺服器。</pre>
				<pre>在您嘗試連接的機器／端口上是否有正在運行的MySQL伺服器？</pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>(java.security.AccessControlException)</span></pre>
				<pre><span>SQLState: 08S01</span></pre>
				<pre><span>VendorError: 0 </span></pre>
				<p>回答：</p>
				<p>
				或許是因為您正在運行Applet，您的MySQL伺服器是採用「--skip-networking」選項集安裝的；或許是因為MySQL伺服器位於防火牆之後。</p>
				<p>
				Applet僅能使網絡連接返回運行Web伺服器的機器，該Web伺服器提供了用於Applet的.class檔案。這意味著，要想使其工作，MySQL必須運行在相同的機器上（或必須使某類端口重定向）。這還意味著，您無法通過您的本地檔案系統來測試Java程式，您必須將它們放在Web伺服器上。</p>
				<p>MySQL 
				Connector/J僅能使用TCP/IP與MySQL進行通信，這是因為Java不支援Unix域套接字。如果MySQL是用「--skip-networking」標誌啟動的，或採用了防火牆，TCP/IP與MySQL的通信可能會受到影響。</p>
				<p>如果MySQL是用「--skip-networking」選項集啟動的（例如MySQL伺服器的Debian 
				Linux包即用於該目的），需要在檔案/etc/mysql/my.cnf或/etc/my.cnf中將其註釋掉。當然，my.cnf檔案也可能位於MySQl伺服器的「data」目錄下或其他地方（取決於系統中MySQL的編譯方式）。MySQL 
				AB建立的二進制檔案總會在搜尋/etc/my.cnf和[datadir]/my.cnf。如果為MySQL伺服器部署了防火牆，需要對防火牆進行配置，允許從運行Java代碼的主機在MySQL監聽的端口上（預設為3306）建立與 
				MySQL伺服器的TCP/IP連接。</p>
				<p><span class="bold"><strong>27.3.5.1.4:
    </strong></span></p>
				<p>問題：</p>
				<p><a name="connector_j_wait_timeout_q_and_a0"></a>
              	I我的小服務程式／應用程式白天工作良好，但在晚上卻停止工作。</p>
				<p>回答：</p>
				<p>
				不工作時間超過8小時後，MySQL關閉了連接。您或許需要使用能處理失效連接的連接池，或使用「autoReconnect」參數（請參見用MySQL 
				Connector/J開發應用程式）。</p>
				<p>此外，您應在應用程式中俘獲 SQLException並處理它們，而不是在應用程式退出前一直傳播它們，這是1個好的編程習慣。在查詢處理過程中遇到網絡連通性方面的問題時，MySQL 
				Connector/J會將SQLState（參見APIDOCS中的java.sql.SQLException.getSQLState()）設置為「08S01」。隨後，應用程式代碼將嘗試再次連接到MySQL。</p>
				<p>在下面的示範（simplistic）中，給出了能夠處理這類異常的代碼：</p>
				<p>
              </p><div class="example"><a name="id3063300"></a><p class="title"><b>
					示範26.13.&nbsp;重試邏輯的事務示範</b></p><pre class="programlisting">public void doBusinessOp() throws SQLException {
        Connection conn = null;
        Statement stmt = null;
        ResultSet rs = null;

        //
        // How many times do you want to retry the transaction
        // (or at least _getting_ a connection)?
        //
        int retryCount = 5;

        boolean transactionCompleted = false;

        do {
            try {
                conn = getConnection(); // assume getting this from a
                                        // javax.sql.DataSource, or the
                                        // java.sql.DriverManager

                conn.setAutoCommit(false);

                //
                // Okay, at this point, the 'retry-ability' of the
                // transaction really depends on your application logic,
                // whether or not you're using autocommit (in this case
                // not), and whether you're using transacational storage
                // engines
                //
                // For this example, we'll assume that it's _not_ safe
                // to retry the entire transaction, so we set retry count
                // to 0 at this point
                //
                // If you were using exclusively transaction-safe tables,
                // or your application could recover from a connection going
                // bad in the middle of an operation, then you would not
                // touch 'retryCount' here, and just let the loop repeat
                // until retryCount == 0.
                //
                retryCount = 0;

                stmt = conn.createStatement();

                String query = "SELECT foo FROM bar ORDER BY baz";

                rs = stmt.executeQuery(query);

                while (rs.next()) {
                }

                rs.close();
                rs = null;

                stmt.close();
                stmt = null;

                conn.commit();
                conn.close();
                conn = null;

                transactionCompleted = true;
            } catch (SQLException sqlEx) {

                //
                // The two SQL states that are 'retry-able' are 08S01
                // for a communications error, and 41000 for deadlock.
                //
                // Only retry if the error was due to a stale connection,
                // communications problem or deadlock
                //

                String sqlState = sqlEx.getSQLState();

                if ("08S01".equals(sqlState) || "41000".equals(sqlState)) {
                    retryCount--;
                } else {
                    retryCount = 0;
                }
            } finally {
                if (rs != null) {
                    try {
                        rs.close();
                    } catch (SQLException sqlEx) {
                        // You'd probably want to log this . . .
                    }
                }

                if (stmt != null) {
                    try {
                        stmt.close();
                    } catch (SQLException sqlEx) {
                        // You'd probably want to log this as well . . .
                    }
                }

                if (conn != null) {
                    try {
                        //
                        // If we got here, and conn is not null, the
                        // transaction should be rolled back, as not
                        // all work has been done

                        try {
                            conn.rollback();
                        } finally {
                            conn.close();
                        }
                    } catch (SQLException sqlEx) {
                        //
                        // If we got an exception here, something
                        // pretty serious is going on, so we better
                        // pass it up the stack, rather than just
                        // logging it. . .

                        throw sqlEx;
                    }
                }
            }
        } while (!transactionCompleted &amp;&amp; (retryCount &gt; 0));
    }</pre></div><p>
            </p><p><span class="bold"><strong>27.3.5.1.5:
    </strong></span></p>
				<p>問題：</p>
				<p>我正嘗試使用JDBC-2.0可更新結果集，但遇到異常，說我的結果集不可更新。</p>
				<p>回答：</p>
				<p>由於MySQL沒有行ID，MySQL 
				Connector/J僅能更新來自查詢且位於有至少一個主鍵的資料表上的結果集，查詢必須選擇所有的主鍵，而且查詢即能作用在1個資料表上（即不存在聯合）。在JDBC規範中給出了這方面的介紹。</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="cj-reporting-bugs"></a>
				26.3.5.2.&nbsp;如何通報問題和問題</h4></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			通報問題的正常地址是<a target="_top"  href="http://bugs.mysql.com/"><span>http://bugs.mysql.com/</span></a>，它也是我方問題資料庫的地址。這是1個公共資料庫，任何人都能瀏覽它並進行相應的搜索。如果您已登錄到系統，也應能輸入新的報告。<p>
			如果發現MySQL中存在敏感的安全問題，請發送電子郵件至<a target="_top"  href="mailto:security@mysql.com"><span>security@mysql.com</span></a>。</p>
			<p>
			編寫良好的問題報告需要耐心，但在第1時間正確地完成它不僅能節省我們的時間，也能節省您自己的時間。良好的問題報告應包含對問題的完整測試情況，以便我們您能夠在下個版本中更正該問題。</p>
			<p>本節介紹的內容用於幫助您正確地編寫報告，從避免將您的時間浪費在對我們幫助不大或沒有幫助的事上，<span>
			</span></p>
			<p>如果有1份可重複的問題報告，請將其提交到問題資料庫，<a target="_top"  href="../../../third/???"><span>http://bugs.mysql.com/</span></a>。</p>
			<p>對於任何我們能再現的問題，在下一個MySQL版本中修正它的機會很大。</p>
			<p>要想通報其他問題，請使用MySQL郵件列資料表。</p>
			<p>
			請注意，我們可能會對包含過多訊息的消息作出響應，但不太會對包含過少訊息的消息作出回應。人們常會省略掉一些事實，因為他們認為自己知道了故障的原因，並想當然地認為這類細節無關緊要。</p>
			<p>
			良好的原則是：如果您對陳述某事猶豫不定，請陳述之。如果我們要求您提供初始報告中缺少的訊息，在報告中編寫多行資訊來源比等候回復要快，麻煩也更小。</p>
			<p>
			在問題報告，最常犯的錯誤包括：（a）未包含所使用Connector/J或MySQL的版本號，以及（b）未完全描述安裝了Connector/J的平台（包括JVM版本，平台類型，以及所安裝MySQL本身的版本號）。</p>
			<p>這是高度相關的訊息，如果沒有它，99％的問題報告無用。我們遇到這類問題，「為何它對我沒用」？ 
			隨後，我們發現在該MySQL版本中，所請求的特性尚未實施，或在較新的MySQL版本中已更正了報告中描述的問題。</p>
			<p>有些時候，錯誤與平台相關，在這類情況下，如果不知道作業系統和平台的版本號，我們幾乎不可能更正任何問題。</p>
			<p>如果可能，您應建立1份可重複的、不含任何第三方類的獨立測試案例。</p>
			<p>為了是該程序流線化，我們與Connector/J一起提供了用於測試的基本類，名為<span>com.mysql.jdbc.util.BaseBugReport。</span>要想使用該類為Connector/J建立1個測試案例，您應應建立自己的從<span>com.mysql.jdbc.util.BaseBugReport繼承的類，並覆蓋方法setUp()</span>、<span>tearDown()</span>和<span>runTest</span>()。</p>
			<p>在<span>setUp()</span>方法中，建立用於建立資料表的代碼，並用演示問題所需的數據填充資料表。</p>
			<p>在<span>runTest</span> 
			()方法中，使用在「setUp」方法中建立的資料表和數據，建立用於演示問題的代碼。</p>
			<p>在<span>tearDown()</span>方法中，撤銷在<span>setUp()方法中建立的任何資料表。</span></p>
			<p>對於上述三種方法中的任何一種，應使用<span>getConnection</span> 
			()各種變體中的一種建立與MySQL的JDBC連接。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>getConnection()：提供了與在getUrl()中指定的JDBC 
			URL的連接。如果連接已存在，返回該連接，否則將建立新的連接。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>getNewConnection()：如果需要為問題報告獲得新的連接（即包含1個以上的連接），應使用它。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>getConnection(String url)：使用給定的URL返回連接。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>getConnection(String url, Properties 
			props)：使用給定的URL和屬性返回連接。</p>
			<p>如果需要使用不同於「jdbc:mysql:///test」的JDBC URL，還應覆蓋方法<span>getUrl()</span>。</p>
			<p>在演示您所預計行為的測試案例中（相對於您觀察到的世紀行為，這是您填充錯誤報告的最可能原因），使用<span>assertTrue(boolean 
			expression)</span>和<span>assertTrue(String 
			failureMessage, boolean expression)</span>方法建立必須滿足的條件。</p>
			<p>最後，建立用於建立測試案例實例的<span>main</span> 
			()方法，並使用run方法：</p>
			<pre><span>public static void main(String[] args) throws Exception {</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new MyBugReport().run();</span></pre>
			<pre><span> }</span></pre>
			<p>完成了測試案例並證實它能演示您所通報的問題後，請將該案例與問題報告一起上傳到<a target="_top"  href="http://bugs.mysql.com/"><span>http://bugs.mysql.com/</span></a>。</p>
			<h3 class="title"><a name="cj-changelog"></a>26.3.6. Changelog</h3></div></div></div>
			<pre><span># Changelog</span></pre>
			<pre><span># $Id: CHANGES,v 1.38.4.206 2005/05/12 15:25:54 mmatthews Exp $</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>05-17-05</span>：版本<span>3.2.1-alpha</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- 現已不再重視Autoreconnect功能（即autoReconnect=true）。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>如果嘗試並使用它將拋出異常，使用「enableDeprecatedAutoreconnect=true」可繼續使用autoReconnect。但是，在Connector/J 3.3中將刪除該項特性，請參見手冊中關於不需要使用autoReconnect的相應解決方案。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- 現在，驅動程式將檢查是否設置了伺服器變數「init_connect」，如果設置了該變數，將檢查autocommit（自動提交）設置，並應用它。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>- 如果連接的伺服器版本在5.0.x以上，而且Statement.setFetchSize( &gt; 0)，驅動程式將嘗試使用伺服器預處理語句，並使用結果集「cursors」獲取語句。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>- ServerPreparedStatements現在能正確地將BLOB/CLOB數據以「流方式」發送至伺服器。您可以使用屬性「blobSendChunkSize」配置程式塊大小的閾值（預設值為1MB）。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>- 支援sql模式NO_BACKSLASH_ESCAPES以及非伺服器端預處理語句。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>12-23-04</span>：版本<span>3.2.0-alpha</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了DatabaseMetaData.supportsCatalogIn*()錯誤的返回值。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-使用ServerPreparedStatements以及MySQL 5.0或更高版本時，支援基於「cursor」的結果集。結果集需為「僅正向」結果集，並需啟用針對該項特性的非零獲取大小。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>- 重新分解了預處理語句的where邏輯，伺服器端預處理語句保持有效。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>10-07-05</span>：版本<span>3.1.11-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- 更正了<a target="_top"  href="http://bugs.mysql.com/11629"><span>BUG#11629</span></a>：當字元編碼是「utf8」時控制台上的偽「!」。</pre>
			<pre><span>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了為丟失「;」（用於「plain」語句）的測試案例生成的語句。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>- 更正了<a target="_top"  href="http://bugs.mysql.com/11663"><span>BUG#11663</span></a>：為伺服器端預處理語句生成的不正確的testcase指令。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了因修補<a target="_top"  href="http://bugs.mysql.com/11552"><span>BUG#11552</span></a>而導致的回歸，對於<a target="_top"  href="http://bugs.mysql.com/11552"><span>BUG#11552</span></a>，當整數處於正號類型的範圍內時，對於無符號整數，該問題將導致驅動程式返回錯誤值。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-將源代碼移到了svn repo。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11797"><span>BUG#11797</span></a>：轉義標誌不考慮用於轉義用途的層套式單引號。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-使用伺服器端預處理語句時，不識別GEOMETRY類型。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11879"><span>BUG#11879</span></a>：ReplicationConnection不會切換至從連接，拋出「目錄不能為空」異常。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/12218"><span>BUG#12218</span></a>，主連接和具有複製連接的從連接之間共享的屬性。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>- 更正了<a target="_top"  href="http://bugs.mysql.com/10630"><span>BUG#10630</span></a>。如果語句已關閉，Statement.getWarnings()無法與NPE一起工作。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-需要時，在PreparedStatement.ParseInfo()中，即能從SQL獲取char[]。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/12104"><span>BUG#12104</span></a>，伺服器端預處理語句不能處理Geometry類型。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11614"><span>BUG#11614</span></a>，使用多字節字元編碼時，StringUtils.getBytes()不工作，在「_characters_」中指定了長度。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11798"><span>BUG#11798</span></a>，Pstmt.setObject(...., Types.BOOLEAN)拋出異常。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11976"><span>BUG#11976</span></a>，maxPerformance.properties拼錯「elideSetAutoCommits」。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11575"><span>BUG#11575</span></a>，對於在Window平台上的伺服器，DBMD.storesLower/Mixed/UpperIdentifiers()通報不正確的值。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11190"><span>BUG#11190</span></a>，在ResultSet.moveToCurrentRow()之前使用了ResultSet.moveToInsertRow()時，ResultSet.moveToCurrentRow()不起作用。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11115"><span>BUG#11115</span></a>，使用伺服器端預處理語句和.setBytes()時，VARBINARY數據發生崩潰。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/12229"><span>BUG#12229</span></a>，伺服器端預處理語句掛起explainSlowQueries。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11498"><span>BUG#11498</span></a>，轉義處理器不考慮用雙引號分隔的字串。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-對於伺服器端預處理語句，增加了對更改流參數的限制。只要在執行前設置了「_all_」流參數，可不必使用.clearParameters()。（由於客戶端／伺服器協議的限制，預處理語句不能復位伺服器端的「_individual_ stream」數據）。</pre>
			<pre><span>&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-修改了Field類，*Buffer和MysqlIO，能夠識別大於Integer.MAX_VALUE的字段長度。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更新了DBMD.supportsCorrelatedQueries()，當版本高於4.1時返回「真」，更新了supportsGroupByUnrelated()使之返回「真」，並更新了getResultSetHoldability()使之返回HOLD_CURSORS_OVER_COMMIT。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/12541"><span>BUG#12541</span></a>，DatabaseMetaData.getIndexInfo()中的catalog（目錄）參量處理，它也意味著對DatabaseMetaData中下述方法的更改：</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;- getBestRowIdentifier()</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; - getColumns()</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; - getCrossReference()</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; - getExportedKeys()</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; - getImportedKeys()</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; - getIndexInfo()</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; - getPrimaryKeys()</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; - getProcedures() (and thus indirectly getProcedureColumns())</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; - getTables()</span></pre>
			<pre><span>&nbsp; </span></pre>
			<pre>上述所有方法中的「catalog」參量現具有下述行為特徵：</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;</span>-如果指定為Null，資料表示不會使用catalog來過濾結果（因此將搜索所有資料庫），除非在JDBC URL屬性中設置了「nullCatalogMeansCurrent=true」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; </span>-指定為「」資料表示當前catalog，儘管它不是十分兼容JDBC規範，但它是為傳統用戶保留的。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; </span>-指定catalog，使之按API文檔中闡明的方式工作。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;</span>-使得jdbc2.optional軟件包中的「封裝」連接能夠使用Connection.clientPrepare()（使用ConnectionPoolDataSource實例建立連接）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為客戶端增加了Connection.isMasterConnection()，以確定多主機主／從連接是否連接至列資料表中的第1個主機。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/12753"><span>BUG#12753</span></a>，URL屬性用於「=」的標誌會導致「sessionVariables=....」無法正確地參數化。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/11781"><span>BUG#11781</span></a>，當DatabaseMetaData方法使用該訊息時，所引用的外部鍵訊息不能被正確解析。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-考慮到流緩衝區大小和訊息包報頭，「sendBlobChunkSize」屬性現在與「max_allowed_packet」密切結合在一起，當max_allowed_packet的大小類似於預設的「sendBlobChunkSize」時（為1MB），能避免PacketTooBigExceptions。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp; &nbsp;</span>-CallableStatement.clearParameters()現能清除與INOUT/OUTPUT參數和INPUT參數相關的屬性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/12417"><span>BUG#12417</span></a>，Connection.prepareCall()是區分大小寫的資料庫名稱（在Windows系統上）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/12752"><span>BUG#12752</span></a>，對於版本高於4.0.x的伺服器，Cp1251不正確地映射至win1251。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/12970"><span>BUG#12970</span></a>，使用DatabaseMetaData.getColumns()時，java.sql.Types.OTHER返回BINARY和VARBINARY列。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-引用參數約束列資料表前，ServerPreparedStatement.getBinding()現在將檢查語句是否已關閉，以避免拋出NullPointerException。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/13277"><span>BUG#13277</span></a>，無論何時，當使用需要連接引用的方法時，來自Statement.getGeneratedKeys()的ResultSetMetaData將導致NullPointerExceptions的拋出。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-自5.0起，Field類ResultSetMetaData.getColumnClassName()和ResultSet.getObject(int)的反向移植出現了變化，更正了VARCHAR BINARY/VARBINARY和相關類型有關的行為。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了NullPointerException，當參數為NULL時，在很多DatabaseMetaDataMethods中將「catalog」參數轉換為byte[]時出現的異常（對於結果集）。（根據JDBC規範，從技術角度上不允許「null」，但從歷史觀點上，我們允許使用它）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從5.0起，VAR[BINARY|CHAR] [BINARY]類型檢測的反向移植。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-即使無法打開本地檔案，也能讀取MysqlIO.sendFileToServer()中響應，否則，下一個發出的查詢將失敗，這是因為，它正在讀取對發送至伺服器的空LOAD DATA INFILE訊息包的響應。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-避開了<a target="_top"  href="http://bugs.mysql.com/13374"><span>BUG#13374</span></a>，已關閉結果集上的ResultSet.getStatement()返回NULL（按照JDBC 4.0規範，但不具有向後相容性）。將連接屬性「retainStatementAfterResultSetClose」設為「真」，以便能夠在通過.getStatement()關閉了結果集後檢索結果集的語句（預設為「假」以便與JDBC兼容，並降低使用JDBC的代碼名洩漏語句實例的機會）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/13453"><span>BUG#13453</span></a>，URL配置參數不允許在它們的值中使用「&amp;」或「=」。現在JDBC驅動程式能夠對配置參數進行相應地解析，就像它們是使用application/x-www-form-urlencoded格式（在java.net.URLDecoder中指定，http://java.sun.com/j2se/1.5.0/docs/api/java/net/URLDecoder.html）進行編碼那樣。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre>如果在配置屬性中出現字元「%」，現在必須用「%25」資料表示，它是使用「application/x-www-form-urlencoded」編碼使「%」的已編碼形式。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-配置屬性「sessionVariables」現在允許您指定以「@」符號開始的變數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/13043"><span>BUG#13043</span></a>，為低於4.1.0版的伺服器允許了「gatherPerfMetrics」時，如果查詢未使用任何資料表，結果集的構造函數將拋出NullPointerException。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>06-23-05</span>：版本<span>3.1.10-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了因無指定資料庫而導致的MysqlIO.changeDatabaseTo()中的異常。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-首次實現了用於PreparedStatement.getParameterMetadata()的ParameterMetadata。僅能與CallableStatements一起完全發揮作用，這是因為當前的伺服器端預處理語句會將所有參數返回為VARCHAR類型。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>06-22-05</span>：版本<span>3.1.9-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-徹底檢查了字元編碼配置，現在所有相關項均能位於屬性檔案中。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-如果在用於Windows-31J的伺服器上可用，驅動程式能正確使用CP932，以及CP932和MS932 java編碼名稱，否則將求助於僅為近似的SJIS。目前，僅在MySQL-5.0.3和更高版本上（以及MySQL-4.1.12/13，取決於何時反向移植字元編碼），才能可靠地支援任何CP932變體。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9064"><span>BUG#9064</span></a>，com.mysql.jdbc.PreparedStatement.ParseInfo對toCharArray()的不必要使用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/10144"><span>Bug#10144</span></a>，如果serverPrepare()失敗，ServerPreparedStatement中的內存洩漏。</pre>
			<pre><span> </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-將清單檔案實際寫入正確位置，以便其終止於二進制jar檔案。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「createDatabaseIfNotExist」屬性（預設為「假」），該屬性會使驅動程式請求伺服器建立在URL中指定的資料庫（如果該資料庫不存在的話）。必須擁有恰當的資料庫建立權限才能執行該任務。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp; &nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/10156"><span>BUG#10156</span></a>，對於ResultSet.getInt()，無符號SMALLINT被當作帶符號類型，更正了所有的UNSIGNED整數和伺服器端預處理語句，以及用於UNSIGNED TINYINT的ResultSet.getObject()。</pre>
			<pre><span> </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/10155"><span>BUG#10155</span></a>，解析客戶端預處理語句時不能識別雙引號。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-使得enableStreamingResults()在com.mysql.jdbc.jdbc2.optional.StatementWrapper上可見。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-使得ServerPreparedStatement.asSql()能正確工作，自動解釋功能可以與伺服器端預處理語句一起工作。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-使得兼容JDBC2的軟件包成為公共包，以便允許訪問廠家延伸。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-整理了剖析工具事件的記錄功能，移動了代碼以將剖析工具事件轉儲為com.mysql.jdbc.log.LogUtils的字串，以便第三方能夠使用它。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>- DatabaseMetaData.supportsMultipleOpenResults()現在返回「真」。DBMD剛剛丟失某一內容時，驅動程式在一段時間內支援它。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/10310"><span>BUG#10310</span></a>，驅動程式不支援用來使用儲存程式的<span >{</span>?=CALL(...)}。其中包括，為DatabaseMetaData.getProcedures()和getProcedureColumns()增加了函數檢索支援。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/10485"><span>BUG#10485</span></a>，用ResultSet.getString()檢索YEAR(2)時拋出SQLException。現在，驅動程式總是將YEAR類型當作java.sql.Dates對待，並為getString()返回正確值。</pre>
			<pre>另外，可以將「yearIsDateType」連接屬性設置為「假」，並將值作為SHORT進行處理。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-當「tinyInt1isBit=true」時（預設），使用新的配置屬性「transformedBitIsBoolean」（預設為「假」），對於TINYINT(1)列，返回的數據類型可在Types.BOOLEAN和Types.BIT之間切換。如果設為「假」（預設），對於TINYINT(1)列，DatabaseMetaData.getColumns()和ResultSetMetaData.getColumnType()將返回Types.BOOLEAN。如果為「真」，將返回Types.BOOLEAN。無論該配置屬性是如何設置的，如果允許了「tinyInt1isBit」，具有TINYINT(1)類型的列將作為ResultSet.getObject(..)的java.lang.Boolean實例返回，而且ResultSetMetaData.getColumnClassName()將返回「java.lang.Boolean」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/10496"><span>BUG#10496</span></a>，與cp932或eucjpms一起使用「characterSetResults」屬性時將拋出SQLException。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-重組了目錄格局，原始碼現位於「src」檔案夾下，建立時不填充父目錄，輸出位於「./build」下，分發版位於「./dist」下。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-這類支援/問題跟蹤特性，將「autoGenerateTestcaseScript」設置為「真」時，該特性能夠為STDERR生成.sql測試指令。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/10850"><span>BUG#10850</span></a>，使用伺服器端預處理語句時，不會將「0長度」流發送給伺服器。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-現在，如果設置了「cachePrepStmts=true」，也會使連接進行高速緩衝操作，檢查驅動程式的執行情況，以判斷預處理語句是否能夠在伺服器端工作，並能在連接的生命期內對伺服器端預處理語句進行高速緩衝處理。與以往一樣，參數「prepStmtCacheSize」負責控制這些高速緩衝區的大小。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-進行了嘗試，以更為優美的方式處理OutOfMemoryErrors。儘管所能作的事情不是很多，但在大多數情況下它們能關閉所遇到的連接，這樣，進一步的操作不會進入狀態不明的連接。出現OOM時，連接上的任何進一步操作均將失敗，同時拋出「連接已關閉」異常，還將列出作為隱式連接關閉事件原因的OOM異常。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果未要求，執行伺服器端預處理語句時不發送COM_RESET_STMT。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-驅動程式將檢測是否正在運行MySQL-5.0.7或更高版本，而且不掃瞄正在處理的語句中的「LIMIT ?[,?]」，這是因為目前伺服器支援這類查詢。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/11115"><span>BUG#11115</span></a>，使用伺服器端預處理語句和ResultSet.getBytes()時，VARBINARY數據發生崩潰</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-Connection.setCatalog()想在能夠識別「useLocalSessionState」配置屬性，將該屬性設為「真」時，如果所請求的catalog與當前catalog相同，會阻止驅動程式將「USE ...」發送給伺服器。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了下述配置捆包，通過「useConfigs」配置屬性使用1個或多個：</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;</span>* maxPerformance：考慮後果時的最大性能</pre>
			<pre><span>&nbsp; </span>* solarisMaxPerformance：Solaris的需性能，在可能的情況下避免系統使用。</pre>
			<pre><span>&nbsp; </span>* 3-0-Compat：與Connector/J 3.0.x功能兼容。</pre>
			<pre><span>&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-增加了「&quot;maintainTimeStats」配置屬性（預設為「真」），用於通知驅動程式是否應跟蹤上次查詢時間，以及上次成功將訊息包發送到伺服器的時間。如果將其設置為「假」，將刪除每查詢的兩次系統使用。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/11259"><span>BUG#11259</span></a>，autoReconnect的ping操作會導致連接啟動時的異常。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/11360"><span>BUG#11360</span></a>，Connector/J將查詢兩次轉儲到SQLException。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>-更正了PreparedStatement.setClob()，不接受Null作為參數。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp;-</span>更正了<span><a target="_top"  href="http://bugs.mysql.com/11411"><span>BUG#11411</span></a></span>，生產包不包括<span>JBoss</span>集成類。</pre>
			<pre><span  style="; ">&nbsp;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-刪除了使用「usage advisor」時無意義的「開銷昂貴的類型轉換」告警。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>04-14-05</span>：版本<span>3.1.8-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了DatabaseMetaData.getTables()，未要求時，以請求資料表的類型之一返回視圖。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在5.0.3和更高版本的MySQL中，增加了對新精度數學DECIMAL類型的支援。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.getTime()，作用於伺服器端預處理語句的Null值上時拋出NPE。<span>&nbsp;&nbsp; </span>-使Connection.ping()成為public方法。<span>&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8868"><span>Bug#8868</span></a>，DATE_FORMAT()查詢從getObject()返回BLOB。<span>&nbsp;&nbsp; </span>- ServerPreparedStatements現在能正確地將BLOB/CLOB數據以「流方式」發送至伺服器。您可以使用屬性「blobSendChunkSize」配置程式塊大小的閾值（預設值為1MB）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-生成預處理語句時，BlobFromLocator現在能使用正確的ID引用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用連接屬性「sessionVariables」的逗號分隔列資料表方式傳遞它們，能夠在連接時預先設置伺服器端會話變數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為使用「autoReconnect=true」的用戶更正了ping()中的回歸問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9040"><span>BUG#9040</span></a>，PreparedStatement.addBatch()不能與伺服器端預處理語句和流式BINARY數據一起工作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8800"><span>BUG#8800</span></a>，對於運行於區分大小寫的檔案系統上的伺服器，DBMD.supportsMixedCase*Identifiers()返回錯誤值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9206"><span>BUG#9206</span></a>，對於characterSetResults配置屬性，不能使用「UTF-8」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9236"><span>BUG#9236</span></a>，連續<a target="_top"  href="http://bugs.mysql.com/8868"><span>BUG#8868</span></a>，在查詢中使用了多個函數，查詢本應返回非字串類型，但當臨時資料表解析它們時，返回類型突然變為難以理解的二進制字串（針對伺服器限制採取了相應的避規措施）。此外，還更正了類型為CHAR(n) CHARACTER SET BINARY的字段，使其能夠為RSMD.getColumnClassName()和ResultSet.getObject()返回正確／匹配的類。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8792"><span>BUG#8792</span></a>，對於「僅正向/只讀」結果集（我們支援該方式），DBMD.supportsResultSetConcurrency()未返回「真」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8803"><span>BUG#8803</span></a>，訪問時，DBMD.getBestRowIdentifier()的「DATA_TYPE」列導致ArrayIndexOutOfBoundsException（事實上，未返回任何值）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-檢查了將char/varchar列數據轉換為數值時的空字串(&#39;&#39;)，如果配置屬性「emptyStringsConvertToZero」被設為「假」，拋出異常（為了與3.0版的向後兼容，預設情況下，將其設為「真」，但在3.2版中，最可能的預設設置為「假」）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9320"><span>BUG#9320</span></a>，在特定條件下，當未使用伺服器端預處理語句時，PreparedStatement.getMetaData()在資料庫中插入了空白行。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-Connection.canHandleAsPreparedStatement()現在將盡「最大努力」來識別帶有佔位符的LIMIT子句，目的在於，對於伺服器目前不能將其當作伺服器端預處理語句予以處理的語句，為其生成處理措施時，獲得較少的錯誤肯定結果。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了build.xml，如果log4j不可用，不編譯log4j日誌功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了對c3p0連接池的（<a  href="http://c3p0.sf.net/"><span>http://c3p0.sf.net/</span></a>）驗證/連接檢驗器接口的支援，如果伺服器可用，該檢驗器接口將使用輕型「COM_PING」使用。要想使用它，請配置c3p0連接持的「connectionTesterClassName」屬性，以使用「com.mysql.jdbc.integration.c3p0.MysqlConnectionTester」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更好的檢測引用字串的內外LIMIT，以便驅動程式能更加正確地判斷是否可以在伺服器上處理預處理語句。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9319"><span>BUG#9319</span></a>，當驅動程式試圖確定參數計數/類型時，分不清不同資料庫中具有相同名稱的儲存程式。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為ResultSet和Statement實施增加了最終確定器，以便與JDBC規範兼容，該規範要求，如果它們未明確關閉，在無用單元收集階段應關閉這些資源。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9682"><span>BUG#9682</span></a>，對於具有DECIMAL參數和儲存要求的儲存程式，如果包含「,」，將失敗。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- PreparedStatement.setObject(int, Object, int type, int scale)現在能使用針對BigDecimal實例的標度值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9704"><span>BUG#9704</span></a>，當已有結果集是.close()d時，Statement.getMoreResults()可能拋出NPE。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-性能度量特性現能收集關於SELECT中引用的資料表數量的訊息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-現在能夠自動配置日誌系統。如果用戶通過URL屬性「logger」或系統屬性「com.mysql.jdbc.logger」設置了值，那麼將使用用戶的設置，否則將採用下述步驟自動檢測設置：</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp; </span>如果Log4j可用，將使用它，接下來是JDK1.4日誌功能，再接下來是STDERR日誌功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9778"><span>BUG#9778</span></a>，即使資料庫版本不支援視圖，如果請求了視圖，DBMD.getTables()不應返回資料表。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了驅動程式，當在伺服器端預處理語句返回的結果集上使用了ResultSet.getBoolean()時，對於「-1」不返回「真」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為.jar檔案增加了Manifest.MF檔案以及實施訊息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在Field.isOpaqueBinary()中提供了更多測試，以識別晦澀的二進制字段（即具有CHAR(n)和CHARACTER SET BINARY類型的字段），這類字段來自各種標量函數和聚合函數（返回字串）的輸出。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9917"><span>BUG#9917</span></a>，出於傳統方面的考慮，即使它與JDBC不兼容，也應接受DBMD方法中用於catalog（使用當前值）的Null。將連接屬性「nullCatalogMeansCurrent」設置為「假」可禁止它（在C/J 3.2.x中，它是預設設置）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/9769"><span>BUG#9769</span></a>，出於傳統方面的考慮，即使它與JDBC不兼容，也應接受DBMD中用於名稱（「%」）的Null。將連接屬性「nullNamePatternMatchesAll」設置為「假」可禁止它（在C/J 3.2.x中，它是預設設置）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>02-18-05</span>：版本<span>3.1.7-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7686"><span>BUG#7686</span></a>，Timestamp關鍵字列數據需要分離的「_binary」，用於UpdatableResultSet.refreshRow()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7715"><span>BUG#7715</span></a>，對於伺服器端預處理語句和可更新結果集，Timestamps錯誤地轉換為字串。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-檢測字串資料表單（以前為整數）中的sql_mode變數，並恰當調整字串的引用方法。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「holdResultsOpenOverStatementClose」屬性（預設為「假」），它能將statement.close()的結果集保持打開狀態，或執行相同語句（由Kevin Burton推薦）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7952"><span>BUG#7952</span></a>，在故障切換配置下回退至主連接時的無限遞歸。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果允許了高速緩衝，將禁止4.1.10版之前MySQL-4.1版本的多語句功能（如果以允許的話），這是因為在該配置下，伺服器會返回錯誤的結果。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了configureClientCharset()中的重複代碼，該類代碼將阻止useOldUTF8Behavior=true的恰當運行。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-刪除了「dontUnpackBinaryResults」功能，現在，驅動程式將按原樣保存來自伺服器端預處理語句的結果（與伺服器提供的相同，並在需要時展開）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8096"><span>BUG#8096</span></a>，使用伺服器端預處理語句時，模擬定位器破壞了二進制數據。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ServerPreparedStatement.serverPrepare()的同步事宜，如果在多個線程間共享連接，可能會導致死鎖/崩潰。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-預設情況下，驅動程式能通過各種<span>Connection.prepareStatement()的各種變體掃瞄SQL，以判斷它是否是能夠在伺服器端支援的語句類型，如果不被伺服器端支援，會將其作為客戶端模擬預處理語句進行處理（</span><a target="_top"  href="http://bugs.mysql.com/4718"><span>BUG#4718</span></a>)<span>）。</span>也可以通過在JDBC URL中傳遞「<span class="property">emulateUnsupportedPstmts=false</span>」禁止該特性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從CallableStatement中刪除了用作輸入／輸出參數的「_binary」引介詞。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於註冊為*BINARY的輸出參數，總返回byte[]。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於PreparedStatement.setObject(n, &quot;true&quot;, Types.BIT)，將布爾「True」的正確值發送給伺服器。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了與連接有關的問題，當語句不是伺服器端預處理語句時，無法對來自prepareStatement()的語句進行高速緩衝處理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用ResultSet.get(..., cal)和PreparedStatement.set(...., cal)時，如果客戶端和伺服器均位於GMT（格林威治標準時間）時區，選擇進行時間調整的正確方向。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「dontTrackOpenResources」選項（預設為「假」以便兼容JDBC），對於具有不良特性的應用程式（例如應關閉語句時，卻未關閉語句的應用程式），它有助於改善內存的使用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8428"><span>BUG#8428</span></a>，ResultSet.getString()不能保持儲存在伺服器上的格式，僅當將「noDatetimeStringSync」屬性設置為「真」（預設為「假」）時，才能允許問題更正。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了使用「usage advisor」而且結果集已關閉時ResultSet.realClose()中的NPE。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8487"><span>BUG#8487</span></a>，不建立流式結果集的PreparedStatements。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-不將NULL傳給給ResultSet.getNativeConvertToString()中的String.valueOf()，原因在於String.valueOf()會對其進行字串處理（即返回「null」）,對於所述方法，這是錯誤的。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8484"><span>BUG#8484</span></a>，當需要捨入操作以設定標度時，ResultSet.getBigDecimal()拋出異常。如果非捨入性BigDecimal.setScale()失敗，驅動程式現在將選擇「半向上」捨入模式。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「useLocalSessionState」配置屬性，將其設置為「真」時，JDBC驅動程式將認為應用程式行為良好，並會使用java.sql.Connection提供的方法僅設置autocommit和事務隔離級別，因此，能夠在大多數情況下處理這些值，而不引發資料庫伺服器循環。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為連接池實施實例的語句增加了enableStreamingResults()，可檢查Statement.setFetchSize()是否存在兼容規範的值。使用「Statement.setFetchSize(&gt;=0)」可禁止關於該語句的流式結果。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了對MySQL-5.0.3中BIT類型的支援。驅動程式會將BIT(1-8)當作JDBC的BIT類型對待（映射至java.lang.Boolean），這是因為當聲明了「&lt; 9 bits」)時，伺服器目前不會發送能確定比特字段（bitfield）大小的足夠訊息。BIT(&gt;9)將被當作VARBINARY對待，並當使用getObject()時返回byte[]。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>12-23-04</span>：版本<span>3.1.6-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了SocketInputStream.read()的掛起問題，當驅動程式必須直接截取結果集，而不是跟蹤結果集末尾的「LIMIT n」時，與Statement.setMaxRows()和多個結果集一起使用時SocketInputStream.read()掛起。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7026"><span>BUG#7026</span></a>，DBMD.getProcedures()不考慮catalog參數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>12-02-04</span>：版本<span>3.1.5-gamma</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了字串常數和動態字串之間的比較事宜，或是toUpperCase()d或是toLowerCase()d，以使用Locale.ENGLISH，將其用作英語的覆蓋規則。此外，還使用StringUtils.indexOfIgnoreCase()替代了.toUpperCase().indexOf()，以避免建立很短的過渡性字串實例。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/5235"><span>BUG#5235</span></a>，伺服器端預處理語句不考慮「zeroDateTimeBehavior」屬性，而且當使用ResultSet.getObject()時會導致類拋棄異常，這是因為總返回全0字串。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了批更新和伺服器預處理語句有關的問題，與以前的集合相比，如果在給定的批參數集合中發生了類型變更，伺服器預處理語句不會檢測這類變化，從而導致伺服器返回錯誤「Wrong arguments to mysql_stmt_execute()」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-解決了當時間戳的字串資料表示包含後綴「.」但其後沒有數字時的情況。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/5706"><span>BUG#5706</span></a>，對ResultSet.getNativeString()中以前存在字串實例的低效檢測。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-不拋出針對Connection.releaseSavepoint()的異常。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-解碼來自ServerPreparedStatements的日期時，預設情況下使用按會話進行的日曆實例（通過設置「dynamicCalendars=true」，設置為早期的性能較低的方式）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了實驗性配置屬性「dontUnpackBinaryResults」，它延遲瞭解包二進制結果集取值的功能，直至請求了它們為止（預設情況下設為「假」）。對於某些usecase/jvm組合，它對無用訊息收集器更友好。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/5729"><span>BUG#5729</span></a>，對來自伺服器端預處理語句結果集的UNSIGNED BIGINT，未能正確解包。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/6225"><span>BUG#6225</span></a>，ServerSidePreparedStatement，分配了不必要的具有短生存時間的對象。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-刪除了ResultSet構造函數中有害的新Throwable()，原因在於不良合併（導致任何所建立結果集永遠不會使用的新對像），分析<a target="_top"  href="http://bugs.mysql.com/6359"><span>BUG#6359</span></a>時發現。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了在EscapeProcessor.escapeSQL()中過早建立StringBuffer的問題，而且在不需要轉義功能時仍返回字串（防止不必要的對象分配）。分析<a target="_top"  href="http://bugs.mysql.com/6359"><span>BUG#6359</span></a>時發現。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為可更新結果集中的鍵比較使用「null-safe-equals」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/6537"><span>BUG#6537</span></a>，如果需要0填充，作用在Decimal上的SUM()以及伺服器端預處理語句均將忽略標度（由於伺服器將其轉換為DOUBLE，0填充將結束，將其轉換為BigDecimal類型的字串進行解析時，丟失所有的填充「0」）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-建立DBMD查詢時使用DatabaseMetaData.getIdentifierQuoteString()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果在伺服器上LOAD DATA LOCAL INFILE小於「max_allowed_packet」，使用1MB的訊息包發送檔案。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/6399"><span>BUG#6399</span></a>，對於多字節字元編碼，ResultSetMetaData.getColumnDisplaySize()返回錯誤值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-通過「autoDeserialize」屬性（預設為「假」），能夠對保存在BLOB中的java.lang.Objects的自動串並轉換功能進行配置。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-修改了Field.isOpaqueBinary()以檢測「CHAR(n) CHARACTER SET BINARY」，從而能夠支援用於ResultSet.getObject()的固定長度二進制字段。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用我們自己的緩衝輸入流實施方式來處理java.io.BufferedInputStream的封閉行為。使用「useReadAheadInput=false」可禁止它。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/6348"><span>BUG#6348</span></a>，當給定主機名的某一地址是IPV6時無法連接到伺服器（伺服器尚未與IPV6捆綁） 驅動程式現在能夠搜尋給定主機的所有IP地址，並停在接受socket.connect()的第1個地址上。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>09-04-04</span>：版本<span>3.1.4-beta</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4510"><span>BUG#4510</span></a>，Connector/j 3.1.3 beta不能正確處理整數（由為了支援Buffer.readInt() -&gt; Buffer.readShort()中的無符號讀取操作所作的更改而導致）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在DatabaseMetaData.getTables()和getTableTypes()中增加了對VIEW的支援，該類特性現已在MySQL伺服器5.0.x版中提供。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4642"><span>BUG#4642</span></a>，解包字段元數據時，ServerPreparedStatement.execute*()有時會拋出ArrayIndexOutOfBoundsException。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-最佳化了整數解析功能，通過「useFastIntParsing=false」屬性，允許使用JDK類較慢的解析功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「useOnlyServerErrorMessages」屬性，它會使伺服器生成的異常中的消息文本僅包含由伺服器發送的文本（與SQLState「標準」介紹中給出的相反，此時文本後面還包括伺服器的錯誤消息）。預設情況下，該屬性被設置為「真」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4689"><span>BUG#4689</span></a>，如果前面的Null已被返回，對於原語，ResultSet.wasNull()不工作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果「enablePacketDebug=true」，跟蹤訊息包的序列號，如果收到的訊息包次序混亂，拋出異常。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4482"><span>BUG#4482</span></a>，使用預處理語句時，對於字串，ResultSet.getObject()返回錯誤類型。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-兩次使用MysqlPooledConnection.close()（雖然也是應用程式錯誤）會導致NPE。已更正。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/5012"><span>BUG#5012</span></a>，處理DECIMAL類型的返回值的ServerPreparedStatements不工作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/5032"><span>BUG#5032</span></a>，對於來自4.1.x版預處理語句的偽位類型，ResultSet.getObject()不返回布爾類型（在針對偽位類型的getObject()中使用二進制編碼的結果集模糊測試時，它提供了避免額外類型轉換的快捷方式）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-現在能夠在「LOAD DATA LOCAL INFILE」語句中使用URL，而且驅動程式將使用Java的內置處理程式來檢索數據，並將其發送到伺服器。預設情況下不允許該特性，要想使用它，必須將「allowUrlInLocalInfile」連接屬性設置為「真」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於在ResultSet.get*()的數值上執行的截取操作，驅動程式將更加嚴格，而且當檢測到截取操作時將拋出SQLException。將「jdbcCompliantTruncation」設置為「假」，可以禁止該功能（在預設情況下允許該功能，這是因為該功能是兼容JDBC所需的）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從結果集讀取「全零」日期時間值時，增加了三種處理它們的方法，「exception」，（預設值），用代碼為「S1009」的SQLState拋出SQLException；「convertToNull」，返回NULL而不是數據；以及「round」，對日期進行捨入處理，使之成為最接近的值，即「0001-01-01」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ServerPreparedStatement，使之能夠「以脫線」方式讀取預處理語句元數據，儘管在目前它是取代在任何時侯均不工作的MysqlIO.clearInputStream()的佔位符，之所以如此，是因為目前尚未從伺服器讀取數據。通過拋出ArrayIndexOutOfBoundExceptions的erverPreparedStatements，它修正了用戶遇到的偶發性錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-加載資源捆包時使用com.mysql.jdbc.Message的類加載器，應能更正使用器的類加載器不能確定資源捆包位置時出現的偶發性錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>07-07-04</span>：版本<span>3.1.3-beta</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對CallableStatements的輸出參數名進行Mangle處理，使得在與用戶變數名一起使用時，這類名稱不會崩潰。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了對CallableStatements中INPUT參數的支援。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4119"><span>BUG#4119</span></a>，為伺服器端預處理語句發送的null比特掩碼不正確。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-預設情況下使用SQL的標準SQL狀態，除非將「useSqlStateCodes」屬性設置為「假」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了訊息包調試代碼（請參見「enablePacketDebug」屬性文檔）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為MySQL錯誤編號增加了常量（可公共訪問，請參見com.mysql.jdbc.MysqlErrorNumbers），並增加了生成映射的能力，能夠將廠家代碼映射為驅動程式使用的SQLStates（出於文檔編製目的）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使更多消息更為具體（正在努力）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4311"><span>BUG#4311</span></a>，在檢索具有預處理語句和二進制協議特性的mediumint列時發生錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-當「useTimezone=true」時，在MySQL-4.1.3中支援新的時區變數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-支援無符號數值作為預處理語句返回的類型。對於「bigint unsigned」類型，這也會導致ResultSet.getObject()中的內容發生變化，「bigint unsigned」類型用於返回BigDecimal實例，現在它將返回java.lang.BigInteger實例。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>06-09-04</span>：版本<span>3.1.2-alpha</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>更正了為參數（如char(), varchar()）指定大小時儲存程式參數的解析訊息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-通過「cacheCallableStmts」屬性，允許對可使用語句進行高速緩衝處理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了下述問題：未為儲存程式指定輸出參數時，發出虛假查詢來檢索輸出參數，從而導致伺服器語法錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了在CallableStatement.setOutputParameters()中沒有任何參數會導致NullPointerException的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-刪除了MysqlIO.changeUser()中的異常捆包。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了關於發送大型查詢分離訊息包方面的問題，也允許發送大訊息包的nio功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為ServerPreparedStatement增加了.toString()功能，如果您正在調試作為預處理語句（顯示為伺服器應處理的SQL）的查詢，它應有所幫助。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「gatherPerformanceMetrics」屬性，以及用於控制在何時/何處記錄這類訊息的多種屬性（更多訊息請參見相關文檔）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用.close()時，ServerPreparedStatements實際上不能取消對伺服器端資源的分配。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「logSlowQueries」屬性，以及「slowQueriesThresholdMillis」屬性，以控制應在何時將查詢視為「緩慢」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-相對於registerOutParameter()中隱含的順序，正確地將輸出參數映射到prepareCall()中給定的位置，；更正了<a target="_top"  href="http://bugs.mysql.com/3146"><span>BUG#3146</span></a>。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於版本等於高於4.1.0的伺服器，能正確地檢測字元編碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-整理了伺服器屬性的檢測功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於版本等於高於4.1.2的伺服器，支援用於參數元數據的佔位符。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3539"><span>BUG#3539</span></a>，getProcedures()未返回結果集中的任何程序。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3540"><span>BUG#3540</span></a>，getProcedureColumns()不能與程式名的通配符一起使用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3520"><span>BUG#3520</span></a>，DBMD.getSQLStateType()返回不正確的值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「connectionCollation」屬性，如果給定字元編碼的預設校對不恰當，驅動程式將在連接初始過程中發出「set collation_connection=...」查詢。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了在MySQL-5.0.0上運行時的DatabaseMetaData.getProcedures()問題（在5.0.1和5.0.0間，「show procedure status」的輸出有所不同）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3804"><span>BUG#3804</span></a>，getWarnings()返回SQLWarning而不是DataTruncation。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於版本為5.0.0或5.0.1的伺服器，不要啟用伺服器端預處理語句，這是因為，它們與驅動程式使用的「4.1.2+」風格不兼容（驅動程式預計返回的訊息並不存在，因而掛起）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>02-14-04</span>：版本<span>3.1.1-alpha</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了與不使用客戶端預處理語句的UpdatableResultSets有關的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-當MySQL不提供字元編碼並將JVM設置為多字節編碼時，更正了將字節轉換為ASCII時的字元編碼事宜（通常會影響數值檢索）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-將伺服器預處理語句的「未知」數據類型解包為字串。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為伺服器預處理語句實現了長數據類型（Blob、Clob、InputStreams、Readers）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為MySQL-4.1和更高版本實現了Statement.getWarnings()（使用「SHOW WARNINGS」）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-預設結果集類型更改為TYPE_FORWARD_ONLY（兼容JDBC）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- 結果集類型和並發性的集中設置。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-再次確定了連接屬性的設置方式和顯示為DriverPropertyInfo的方式，以及Connection和DataSource屬性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-支援NIO。在支援NIO的平台上使用「useNIO=true」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-支援SAVEPOINTs（MySQL &gt;= 4.0.14或4.1.1）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-支援「mysql_change_user()...」，請參見「com.mysql.jdbc.Connection」中的changeUser()方法。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-減少了平均查詢中使用的方法數目，使之更有效率。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-自動再連接時重新處理預處理語句。任何遇到的錯誤均被延遲，直至首次嘗試再執行經過重新處理的語句為止。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-按照JDBC規範，確保在預處理語句上執行查詢前給出的警告是明確的（目前，我們支援警告功能）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在ConnectionProperties中，支援「舊的」profileSql大寫特性。該屬性已受到冷落，應盡量使用「profileSQL」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-最佳化了Buffer.readLenByteArray()，以便當長度為0時返回共享的空字節數組。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在對.execute*()的多次使用之間，允許保留PreparedStatement.setBlob()的內容。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-處理了EscapeProcessor中的0長度令牌（由可使用語句轉義語法導致）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在UpdatableResultSet中的刪除／更新／插入行操作上，檢查關閉的連接。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了檢查UpdatableResultSet中的所有主鍵時對資料表別名的支援事宜。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-刪除了useFastDates連接屬性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對來自JNDI Refs的數據源屬性進行了正確的初始化，包括明確指定的URL。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於版本為5.0.0或更高的MySQL，DatabaseMetaData現在能通報supportsStoredProcedures()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了Connection.prepareCall()中的堆棧溢出問題（不良合併）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對低於1.4版的JDK，更正了對DateTimeValue中Calendar.getTimeInMillis()的IllegalAccessError（非法訪問錯誤）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1673"><span>BUG#1673</span></a>，對於非「%」列名，DatabaseMetaData.getColumns()未返回正確的列順序訊息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-合併了數據類型映射的更正事項，從MySQL類型「FLOAT」到java.sql.Types.REAL（自3.0版起）的數據類型映射。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-檢測用於RSMD.isCaseSensitive()的列校對。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了與發送大於16M查詢有關的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為CallableStatement增加了命名和索引式輸入／輸出參數支援。</pre>
			<pre>MySQL-5.0.x或更高版本。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ServerPreparedStatement.setTimestamp()中的NullPointerException，以及ServerPreparedStatement.setTimestamp()、setDate()中的年月差異。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為build.xml中的一致性和遞歸/單元測試增加了擁有多個資料庫/JVM目標的能力。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了訪問ServerPreparedStatements和其結果集中某些日期時間功能時的NPE和不良年月轉換問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-顯示關閉連接的位置和原因（用於幫助調試）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了CommunicationsException，它能嘗試判斷與伺服器失去通信的原因，並能在使用.getMessage()時顯示可能的原因。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/2359"><span>BUG#2359</span></a>，二進制編碼結果集中數值類型的NULL值會導致NullPointerExceptions。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了Connection.prepareCall()，DatabaseMetaData.getProcedures()，以及getProcedureColumns()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用clearParameters()時，通過發送COM_RESET_STMT至伺服器，復位了ServerPreparedStatement中的「long binary」參數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-自3.0版起，合併了預處理語句高速緩衝和.getMetaData()支援。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-解包來自伺服器端預處理語句的結果時，在某些情況下，對於TimeUtil.fastDate/TimeCreate()的年份，會出現off-by-1900錯誤，更正了該錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/2502"><span>BUG#2502</span></a>，getTables()中的字元編碼轉換事宜。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp; &nbsp;&nbsp;</span>-實現了由語句或儲存程式返回的多個結果集。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/2606"><span>BUG#2606</span></a>，伺服器端預處理語句未正確返回數據類型「YEAR」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-允許對來自伺服器端預處理語句的結果集進行流處理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/2623"><span>BUG#2623</span></a>，使用滾動結果集和伺服器端預處理語句時出現類捨棄異常。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-自3.0版起，合併了無緩衝輸入代碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了不能通過存取器恰當顯示的ConnectionProperties，並整理了ConnectionProperties代碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/2671"><span>BUG#2671</span></a>，在伺服器端預處理語句中，在任何情況下均不能正確編碼NULL字段。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了將數字寫入緩衝以發送預處理語句執行請求時出現的罕見緩衝區下溢問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於交付的驅動程式，使用了文檔的DocBook版。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>02-18-03</span>：版本<span>3.1.0-alpha</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「requireSSL」屬性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「useServerPrepStmts」屬性（預設為「假」）。當伺服器版本支援並將該屬性設置為「真」時（4.1和更高版本），驅動程式將使用伺服器端預處理語句。目前其預設設置為「假」，除非所有的捆綁／獲取功能均已實施。目前，僅為4.1版的伺服器端預處理語句實現了DML預處理語句。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-跟蹤打開的語句，並在使用Connection.close()時關閉所有打開的語句（JDBC兼容）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>06-23-05</span>：版本<span>3.0.17-ga</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/5874"><span>BUG#5874</span></a>，當useTimeZone=&#39;true&#39;而且伺服器時區不同於客戶端時區時，Timestamp/Time轉換出現方向錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7081"><span>BUG#7081</span></a>，DatabaseMetaData.getIndexInfo()忽略「唯一」參數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-支援新的協議類型「MYSQL_TYPE_VARCHAR」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「useOldUTF8Behavoior」配置屬性，連接到MySQL-4.1或更高版本且字元編碼為「utf-8」時，該屬性能使JDBC驅動程式的行為方式類似於在MySQL-4.0.x和更早版本下的行為方式。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7316"><span>BUG#7316</span></a>，使用getConnection()時，從連接池建立的語句返回實際連接而不是邏輯連接。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7033"><span>BUG#7033</span></a>，在靜態SQL字串中，PreparedStatements不能正確編碼Big5（以及其他多字節）字元編碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/6966"><span>BUG#6966</span></a>，啟動了故障切換的連接（由於主連接失敗）從不再次嘗試主連接。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7061"><span>BUG#7061</span></a>，PreparedStatement.fixDecimalExponent()增加額外「+」，使得MySQL伺服器無法解析數值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7686"><span>BUG#7686</span></a>，Timestamp關鍵字列數據需要分離的「_binary」，用於UpdatableResultSet.refreshRow()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-反向移植了來自Connector/J 3.1的SQLState代碼映射，使用連接屬性「useSqlStateCodes=true」可啟用它，在本版本中預設為「假」，以免破壞傳統應用程式（對於Connector/J 3.1，預設為「真」）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7061"><span>BUG#7061</span></a>，PreparedStatement.fixDecimalExponent()增加額外「+」，使得MySQL伺服器無法解析數值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-轉義序列<span >{</span>fn convert(..., type)}現在支援由SQL預先設定的ODBC類型。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了configureClientCharset()中的重複代碼，該類代碼將阻止useOldUTF8Behavior=true的恰當運行。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-通過更正行數計數器的環繞式處理程式，能正確處理大於20億行的流式結果集。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/7607"><span>BUG#7607</span></a>，MS932、SHIFT_JIS和Windows_31J不接受針對sjis的別名。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/6549"><span>BUG#6549</span></a>（更正#7607的同時），為sjis增加了CP943別名。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8064"><span>BUG#8064</span></a>，與預處理語句一起使用多字節字元編碼時，要求對二進制數據進行十六進制轉義處理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span> &nbsp;&nbsp;&nbsp;</span>-更正了<a target="_top"  href="http://bugs.mysql.com/8812"><span>BUG#8812</span></a>，DBMD.getIndexInfo()的NON_UNIQUE列返回倒置值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-解決了伺服器<a target="_top"  href="http://bugs.mysql.com/9098"><span>BUG#9098</span></a>，無法將DATE/TIME/TIMESTAMP/TIMESTAMP列CURRENT_*的預設值與「字串」值區別開，因此，插入預設值時，UpdatableResultSet.moveToInsertRow()會生成不良的SQL。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/8629"><span>BUG#8629</span></a>，將「EUCKR」作為「SET NAMES euc_kr」發送，MySQL-4.1以及更高版本不能理解該特性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-根據伺服器的版本，DatabaseMetaData.supportsSelectForUpdate()返回正確值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於含別名Windows-31J、CP934、MS932的雙字節字元編碼，對於PreparedStatement.setBytes()，採用十六進制轉義特性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了對「EUC_JP_Solaris」字元編碼的支援，映射到「eucjpms」的MySQL編碼（從3.1版開始的反向移植）。它只能在支援eucjpms的伺服器山工作，也就是說5.0.3或更高版本。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>11-15-04</span>：版本<span>3.0.16-ga</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-連接至MySQL-4.1或更高版本且再次使用連接池和／或Connection.changeUser()時，將再次發出字元編碼配置命令。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSetMetaData.isReadOnly()，以便在連接至MySQL-4.1或更高版本時，能根據「原始的」資料表名和列名，檢測不可寫的列。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/5664"><span>BUG#5664</span></a>，當ResultSet.updateByte()位於插入行上時拋出ArrayOutOfBoundsException。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了DatabaseMetaData.getTypes()，對於NUMERIC類型，它返回不正確的（非負）標度。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/6198"><span>BUG#6198</span></a>，Buffer.readString(string)中的「off-by-one」問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-通過「tinyInt1isBit」屬性，使得能夠對TINYINT(1) -&gt; BIT/Boolean轉換進行配置（為了與JDBC兼容，預設為「真」）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果伺服器版本大於等於4.1.1，在連接建立過程中僅設置「character_set_results」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了回歸問題，其中，useUnbufferedInput預設為「假」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/6231"><span>BUG#6231</span></a>，ResultSet.getTimestamp()作用在具有TIME的列上時失敗。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>09-04-04</span>：版本<span>3.0.15-production</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4010"><span>BUG#4010</span></a>，對於GBK，StringUtils.escapeEasternUnicodeByteStream仍被破壞。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4334"><span>BUG#4334</span></a>，對於autoReconnect的故障切換，對任何主機均不使用端口「#」，而且不重試所有主機。（警告：需要更改SocketFactory connect()方法的特徵，它目前是公共套接字連接（String host，int portNumber，Properties props）。也能次，必須更改任何第三方套接字實施方式以支援該特徵。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-當它們已被關閉並被返回到連接池時，由MysqlConnectionPoolDataSource建立的邏輯連接將發出rollback()。如果您的應用伺服器/連接池已幫助您完成了該任務，可以將「rollbackOnPooledClose」屬性設置為「假」以避免額外的rollback()開銷。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-刪除了結果集中對checkRowPos()的多餘使用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4742"><span>BUG#4742</span></a>，在DBMD.getTypeInfo()中，「DOUBLE」映射了兩次。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了FLOSS授權豁免。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4808"><span>BUG#4808</span></a>，在PooledConnection上使用兩次.close()將導致NPE。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4138"><span>BUG#4138</span></a>和<a target="_top"  href="http://bugs.mysql.com/4860"><span>BUG#4860</span></a>，對於無符號列，DBMD.getColumns()返回錯誤的JDBC類型。這也會影響對RSMD.getColumnType()和RSMD.getColumnTypeNames()方法中所有數值類型的類型映射，以確保DBMD.getColumns()的類似類型與RSMD.getColumnType()和RSMD.getColumnTypeNames()返回的類型匹配。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-分發版命名方案中的「Production」-「GA」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/4880"><span>BUG#4880</span></a>，對於非數值類型，RSMD.getPrecision()返回0（對於非二進制類型，應返回字元的最大長度，對於二進制類型，應返回最大字節長度）。根據伺服器發回的長度（在網絡協議層，伺服器不區分TINYBLOB、BLOB、MEDIUMBLOB或LONGBLOB），它還更正了針對BLOB類型的RSMD.getColumnType()和RSMD.getColumnTypeName()映射。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/5022"><span>BUG#5022</span></a>，結果集應在「.close()」中釋放Field[]實例。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/5069"><span>BUG#5069</span></a>，如果結果集已關閉，ResultSet.getMetaData()不應返回未正確初始化的元數據，而是應拋出SQLException。此外，在對實例級別的字段（.close()過程中取消的字段）進行操作之前，通過使用checkClosed()，它還更正了getRow()、getWarnings()和遍歷方法。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從4.1.x版伺服器開始，能解析新的時區變數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-與MySQL-4.1.x或更高版本連接時，為PreparedStatement.setBytes()和set*Stream()使用「_binary」引介詞，以防止在字元編碼轉換過程中出現錯誤判斷。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>05-28-04</span>：版本<span>3.0.14-production</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了URL解析錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>05-27-04</span>：版本<span>3.0.13-production</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3848"><span>BUG#3848</span></a>，無伺服器名稱時，不能使用MySQLDatasource。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3920"><span>BUG#3920</span></a>，使用MysqlConnectionPoolDataSource時出現「No Database Selected」（未選擇資料庫）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3873"><span>BUG#3873</span></a>，對於批插入，PreparedStatement.getGeneratedKeys()方法僅返回1個結果。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>05-18-04</span>：版本<span>3.0.12-production</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為TYPE_NAME列中的DatabaseMetaData.getColumns()輸出增加了無符號屬性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「failOverReadOnly」屬性，允許最終用戶配置出現故障切換時的連接狀態（只讀／可寫）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-自3.1開始，反向移植了「change user」和「reset server state」功能，允許MysqlConnectionPoolDataSource的客戶端復位連接池上getConnection()的伺服器狀態。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用MySQL-4.1或更高版本時，不對SJIS/GBK/BIG5進行轉義處理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-允許MysqlDataSource和MysqlConnectionPool數據源使用「url」參數，以便能夠從內部應用伺服器傳遞其他屬性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-將複製鍵和外部鍵錯誤映射到「23000」的SQLState。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-自3.1開始，反向移植了文檔編製工具。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-返回用於結果集的建立語句，該結果集由getGeneratedKeys()建立（<a target="_top"  href="http://bugs.mysql.com/2957"><span>BUG#2957</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-允許作為參數將java.util.Date發送到PreparedStatement.setObject()，將其轉換為Timestamp類型以保持完整精度（<a target="_top"  href="http://bugs.mysql.com/3103"><span>BUG#3103</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用setBytes()和/或setBinary/CharacterStream()時，不截取BLOB/CLOB（<a target="_top"  href="http://bugs.mysql.com/2670"><span>BUG#2670</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-連接時，在使用「SHOW COLLATION」的MySQL-4.1.0和更高版本上，為字段級字元編碼動態配置字元編碼映射。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-將「binary」字元編碼映射到「US-ASCII」，以支援4.1.2和更高版本伺服器的DATETIME字元編碼識別功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在初始化過程中使用「SET character_set_results」，允許將結果集的任何字元編碼返回到驅動程式。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在&gt;= 4.1.0的MySQL上發出「SET NAMES」之前，在連接至編碼查詢的過程中，使用返回的charsetnr。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為ResultSetMetaData（getColumnCharacterEncoding()和getColumnCharacterSet()）增加了Helper（助手）方法，允許最終用戶查看驅動程式認為應在列上使用的字元編碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在&gt;= 4.1.0的MySQL上僅設置character_set_results。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3511"><span>BUG#3511</span></a>，StringUtils.escapeSJISByteStream()不能正確處理所有的東方雙字節字元編碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-將StringUtils.escapeSJISByteStream()重新命名為更貼切的escapeEasternUnicodeByteStream()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3554"><span>BUG#3554</span></a>，在URL中未指定資料庫將導致MalformedURL exception。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果使用了characterEncoding屬性，自動將MySQL編碼名稱轉換為Java編碼名稱。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了在某些JVM上能識別的編碼名稱，以更正錯誤地將其逆向映射為MySQL編碼名稱的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為所有單元測試使用junit.textui.TestRunner（允許在Ant或Eclipse以外的命令行上運行它們）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3557"><span>BUG#3557</span></a>，UpdatableResultSet不能獲取moveToInsertRow()的預設值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3570"><span>BUG#3570</span></a>，不一致的列類型通報。伺服器仍不能正確返回*BLOBs *TEXT的所有類型，因此驅動程式也不能正確返回它們。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/3520"><span>BUG#3520</span></a>，DBMD.getSQLStateType()返回不正確的值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement.setString()和東方字元編碼中的遞歸問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- 增加了對StringRegressionTest 4.1-unicode的識別。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>02-19-04</span>：版本<span>3.0.11-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-通過「characterEncoding」屬性將編碼方式強制設為「utf8」或「utf-8」時，觸發「SET NAMES utf8」。以前，只能用Java風格的「utf-8」編碼名稱才能觸發該操作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-AutoReconnect時間的增長速度快於指數速度（<a target="_top"  href="http://bugs.mysql.com/2447"><span>BUG#2447</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了故障切換總跳至列資料表中最後1個主機的問題（<a target="_top"  href="http://bugs.mysql.com/2578"><span>BUG#2578</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「useUnbufferedInput」參數，它也是目前的預設參數（因JVM事宜，<a  href="http://developer.java.sun.com/developer/bugParade/bugs/4401235.html">http://developer.java.sun.com/developer/bugParade/bugs/4401235.html</a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-檢測伺服器上lower_case_table_names的「on/off」，或「1」、「2」、「3」形式。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為ResultSetMetaData.getColumnClassName()的TINYINT和SMALLINT類型返回「java.lang.Integer」（更正了<a target="_top"  href="http://bugs.mysql.com/2852"><span>BUG#2852</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為ResultSetMetaData.getColumnClassName()的FLOAT類型返回「java.lang.Double」（更正了<a target="_top"  href="http://bugs.mysql.com/2855"><span>BUG#2855</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為ResultSetMetaData.getColumnClassName()的BINARY、VARBINARY和LONGVARBINARY類型返回「[B」而不是「java.lang.Object」（兼容JDBC）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在由ConnectionPoolDataSource建立的所有實例上發出連接事件。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>01-13-04</span>：版本<span>3.0.10-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在PreparedStatement解析中，當位於「字串」內時，不對引用的ID進行計數（更正了<a target="_top"  href="http://bugs.mysql.com/1511"><span>BUG#1511</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-關於PacketTooLargeException的「Friendlier」異常消息（<a target="_top"  href="http://bugs.mysql.com/1534"><span>BUG#1534</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從3.1版開始，反向移植了對checkUpdatability()方法中別名資料表和UpdatableResultSets的補丁。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了使用Statement.setMaxRows()時出現的ArrayIndexOutOfBounds異常（<a target="_top"  href="http://bugs.mysql.com/1695"><span>BUG#1695</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1576"><span>BUG#1576</span></a>，處理未正確讀取的大BLOB和分離訊息包。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了Statement.getGeneratedKeys()和REPLACE語句的遞歸問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1630"><span>BUG#1630</span></a>，如果結果集是不可更新的，對ResultSet.updateFoo()的後續使用將導致NPE。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-確定了4.1.1風格的auth，無密碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1731"><span>BUG#1731</span></a>，外部鍵列的順序與DatabaseMetaData.getImported/Exported/CrossReference()不一致。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1775"><span>BUG#1775</span></a>，DatabaseMetaData.getSystemFunction()返回錯誤函數「VResultsSion」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1592"><span>BUG#1592</span></a>，未正確檢查交叉資料庫可更新結果集的可更新性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於MySQL LONGTEXT類型，DatabaseMetaData.getColumns()應返回Types.LONGVARCHAR。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-作用在TINYINT和SMALLINT列上的ResultSet.getObject()應返回Java類型「Integer」（<a target="_top"  href="http://bugs.mysql.com/1913"><span>BUG#1913</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「alwaysClearStream」連接屬性，它會使驅動程式在每次查詢前清空輸入流上任何余留的數據。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了更具描述性的錯誤消息「Server Configuration Denies Access to DataSource」（伺服器配置拒絕對數據源的訪問），並能從伺服器上檢索消息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果已發生變化，Autoreconnect代碼在紅心連接時不設置catalog。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了ResultSet.updateClob()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於CHAR/VARCHAR列，ResultSetMetaData.isCaseSensitive()返回錯誤值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1933"><span>BUG#1933</span></a>，不尊重連接屬性「maxRows」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1925"><span>BUG#1925</span></a>，在DBMD.extractForeignKeyFromCreateTable()中，建立語句的次數太多。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1914"><span>BUG#1914</span></a>，支援轉義序列<span >{</span>fn convert ...<span> }</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1958"><span>BUG#1958</span></a>，當參數編號等於參數數目＋1時，ArrayIndexOutOfBounds。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/2006"><span>BUG#2006</span></a>，當SELECT查詢中有多個重複列名時，ResultSet.findColumn()應使用第1個匹配的列名（兼容JDBC）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從PreparedStatement.setTimestamp()中刪除了靜態同步瓶頸。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從SingleByteCharsetConverter的實例方法中刪除了靜態同步瓶頸。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-允許通過「cachePrepStmts」、「prepStmtCacheSize」和「prepStmtCacheSqlLimit」屬性，對預處理語句的解析步驟進行高速緩衝處理（預設情況下禁止）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-加快了PreparedStatements的解析操作，只要可能，盡量採用一次性方式。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了在小應用程式中使用時的安全異常問題（小應用程式不能讀取LOAD DATA LOCAL INFILE所需的系統屬性「file.encoding」）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為SQLStates使用常數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-連接至MySQL-4.1.0或更高版本時，將字元編碼「ko18_ru」映射到「ko18r」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-確保Buffer.writeString()保存在「<span >\</span>0」之外的空間內。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了「connect w/ JDK-1.4.0」上的異常「未知字元編碼danish」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了SQLError中的映射功能，用「41000」SQLStates通報死鎖狀態。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-「maxRows」屬性會影響內部語句，因此，應檢查為驅動程式建立的所有內部語句，並在不是內部語句的情況下將其設為0。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>10-07-03</span>：版本<span>3.0.9-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-ResultSet和PreparedStatement中更快的日期處理代碼（不再使用用來同步靜態日曆的Date方法）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了對Buffer.readString()中緩衝區末端的測試。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.previous()行為方式，當位於結果集的第1行上時，將當前位置移到結果集之前（bugs.mysql.com <a target="_top"  href="http://bugs.mysql.com/496"><span>BUG#496</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了當已使用setMaxRows()而且在查詢中包含LIMIT子句時發出偽查詢的語句和PreparedStatement。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/661"><span>BUG#661</span></a>，當主鍵值包含需要轉義的值時refreshRow不工作（以雙倍轉義結束）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-提取DatabaseMetaData中的外部鍵訊息時，支援InnoDB約束名，<a target="_top"  href="http://bugs.mysql.com/517"><span>BUG#517</span></a>和<a target="_top"  href="http://bugs.mysql.com/664"><span>BUG#664</span></a>（由Parwinder Sekhon提出）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從3.1版開始，反向移植了4.1協議變化（伺服器端SQL狀態，新字段訊息，較大的客戶端能力標誌，與資料庫的連接等）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了UpdatableResultSet，作用在插入行上時，為getXXX()返回值（<a target="_top"  href="http://bugs.mysql.com/675"><span>BUG#675</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用moveToInsertRow()時，能夠用預設的列值加載UpdatableResultSet中的insertRow（<a target="_top"  href="http://bugs.mysql.com/688"><span>BUG#688</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於指定為NULL的預設值，DatabaseMetaData.getColumns()未返回NULL。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-將預設的語句類型／並發行更改為TYPE_FORWARD_ONLY和CONCUR_READ_ONLY（兼容規範）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果MySQL不支援，不要嘗試或復位再連接上的隔離級別。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-不將SQLExceptions封在RowDataDynamic內。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果useTimezone==true，不更改時間戳TZ兩次（<a target="_top"  href="http://bugs.mysql.com/774"><span>BUG#774</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了大的分離訊息包處理中存在的回歸問題（<a target="_top"  href="http://bugs.mysql.com/848"><span>BUG#848</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更好地診斷「流式」結果集異常中的錯誤消息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在空結果集上拋出關於ResultSet.getXXX()的異常（在某些情況未被俘獲）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-不隱藏關於在I/O層中拋出異常的消息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-關閉連接池時或在具有已打開連接的PooledConnection.getConnection()上，不觸發連接關閉時間（<a target="_top"  href="http://bugs.mysql.com/884"><span>BUG#884</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-截短+/- INF（最小和最大代資料表值，對於MySQL中的類型），以及NaN（至0，對於setDouble/setFloat()），當伺服器不支援+/- INF或NaN時，就語句發出警告。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/879"><span>BUG#879</span></a>，當字元編碼為SJIS或GBK時，以及「<span >\</span>」出現在非轉義輸入中時對「<span >\</span>」的雙轉義處理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-清空「流式」結果集未使用行的輸入流時，每100行均有當前線程yield()，以免獨佔CPU時間。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了<a target="_top"  href="http://bugs.mysql.com/1099"><span>BUG#1099</span></a>，DatabaseMetaData.getColumns()弄不清字元列中的關鍵字「set」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了與Statement.setMaxRows()相關的死鎖事宜。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了CLOB.truncate()，<a target="_top"  href="http://bugs.mysql.com/1130"><span>BUG#1130</span></a>。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-最佳化了CLOB.setChracterStream(), <a target="_top"  href="http://bugs.mysql.com/1131"><span>BUG#1131</span></a>。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使databaseName、portNumber以及serverName成為MysqlDataSourceFactory的可選參數（<a target="_top"  href="http://bugs.mysql.com/1246"><span>BUG#1246</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-修訂了<a target="_top"  href="http://bugs.mysql.com/1247"><span>BUG#1247</span></a>，導致字元127損壞的ResultSet.get/setString。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從3.1版開始，反向移植了針對4.11和更高版本的auth.更改。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了com.mysql.jdbc.util.BaseBugReport，以幫助建立問題報告的測試範例。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-通過將「clobberStreamingResults」屬性設置為「真」（預設為「假」），為「clobber」流式結果增加了屬性。這會使「流式」結果集被自動關閉，如果在所有數據尚未從伺服器中讀取完之前，執行了另一查詢，正在從伺服器流出的任何未完成數據均將被捨棄。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>05-23-03</span>：版本<span>3.0.8-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-允許在Driver.getPropertyInfo()中使用偽URL。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp; &nbsp;</span>-與Statement.getGeneratedKeys()一起使用多值INSERTS時，返回所生成鍵的列資料表。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-與檔案名和「LOAD DATA [LOCAL] INFILE」一起使用JVM字元編碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了與Connection.cleanup()有關的無限循環。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-將Ant目標「compile-core」更改為「compile-driver」，並使測試套件編譯成為單獨的目標。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了未獲得關於Statement.executeUpdate()的集合的結果集，在某些情況下，它會影響getGeneratedKeys()和getUpdateCount()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-字串中的Unicode字元0xFFFF會導致驅動程式拋出ArrayOutOfBoundsException（<a target="_top"  href="http://bugs.mysql.com/378"><span>Bug #378</span></a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用「REPLACE」語句時返回所生成鍵的正確數目。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了在某些情況下檢測伺服器字元編碼的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了使用極大訊息包時的行數據解碼錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-最佳化了行數據解碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在已關閉預處理語句上執行操作使拋出異常。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了SJIS編碼問題，感謝Naoto Sato。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-最佳化了EscapeProcessor的使用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-允許對Statement.close()的多次使用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>04-08-03</span>：版本<span>3.0.7-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了使用錯誤事件類型的MysqlPooledConnection.close()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement.setClob()中的StringIndexOutOfBoundsException。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- 4.1版列元數據更正。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從Driver.connect()和Driver.acceptsUrl()中刪除了同步功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-事務過程中的IOExceptions現在會導致關閉連接。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSetMetaData.getColumnTypeName()中丟失的「YEAR」類型轉換。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於DBMD.getPrimaryKeys()，不提取以「pri」作為主鍵起始的索引。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span> &nbsp;&nbsp;&nbsp;</span>-試圖在強制關閉的連接上執行操作時拋出SQLExceptions（即，通信鏈路失敗時）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-現在，可以使用Connection.setProfileSql(boolean)來打開或關閉仿型功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>更正了與資料庫元數據有關的字元編碼事宜（字元編碼不能正確獲取集合）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-與MySQL-4.1或更高版本連接時，現在能夠為別名資料表/列建立可更新結果集。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了檔案大於「max_allowed_packet」時的「LOAD DATA LOCAL INFILE」問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp; &nbsp;</span>-對於GBK和Big5字元編碼，更正了0x5c (&#39;\&#39;)字元的轉義功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了基礎字段為DATE類型時的ResultSet.getTimestamp()問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-保證了來自alignPacketSize()的訊息包大小不超過MAX_ALLOWED_PACKET（JVM問題）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-autoReconnecting（自動再連接）時不復位Connection.isReadOnly()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>02-18-03</span>：版本<span>3.0.6-stable</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSetMetaData，當catalog未知時返回&quot;&quot;。更正了與Sun CachedRowSet有關的NullPointerExceptions。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了DBMD.getTypeInfo()和DBMD.getColumns()為TEXT/BLOB類型中的精度返回不同值的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-通過將「ignoreNonTxTables」設置為「真」，在回退期間（相容性／可用性），允許忽略「non transactional tables」（非事務資料表）告警。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了在初始連接上SQLExceptions耗盡的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了Statement.setMaxRows()，當其不需要時，停止發送「LIMIT」類型的查詢（性能）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-整理了語句查詢/方法失配測試（即，不允許與.executeQuery()一起使用INSERT）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在ResultSet遍歷方法中增加了更多檢查，以獲取何時處於關閉狀態的訊息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSetMetaData.isWritable()以返回正確值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為DBMD.nullsAreSortedAtStart增加了不同NULL分類行為的「窗口」（4.0.2至4.0.10，真，其他為「否」）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了Blob.setBytes()。仍需要將所得的Blob傳回到可更新ResultSet（結果集）或PreparedStatement以保持變更，這是因為MySQL不支援「定位器」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-從Connector/J 3.1反向移植了4.1字元編碼字段。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>01-22-03</span>：版本<span>3.0.5-gamma</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正瞭解包字段時對某些查詢Buffer.fastSkipLenString()導致ArrayIndexOutOfBounds異常的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為Connection.getTypeMap()實現了空的TypeMap，以便某些第三方應用程式能與MySQL一起工作（IBM WebSphere 5.0連接池）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為DBMD.getColumns()增加了丟失的LONGTEXT類型。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-當MySQL版本支援時，Connection.getTransactionIsolation()能從資料庫檢索TX_ISOLATION，而不是實例變數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-引用DatabaseMetaData.getColumns()、getPrimaryKeys()、getIndexInfo()、getBestRowIdentifier()中的資料表名。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-大幅度降低了PreparedStatements中setBinaryStream()所需的內存。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.isBeforeFirst()處理空結果集方面的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為外部鍵元數據增加了「更新」選項。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>01-06-03</span>：版本<span>3.0.4-gamma</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為Connection.setCatalog增加了對資料庫名的引用ID。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在PreparedStatement分析程式中增加了對引用ID的支援。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於setByte()，在PreparedStatements中，流線式字元轉換和byte[]處理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-通過與MysqlIO共享出站訊息包，降低了PreparedStatements的內存佔用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「strictUpdates」屬性，能夠對可更新結果集的大量「正確性」檢查進行控制。如果希望獲得更快的可更新結果集，並使用主鍵通過作用在資料表上的SELECT建立了結果集，而且在查詢中選擇了所有的主鍵，應將其設置為「假」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了對4.0.8風格大訊息包的支援。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement.executeBatch()參數重寫的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>12-17-02</span>：版本<span>3.0.3-dev</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-將SingleByteCharConverter中的charsToByte更改為非靜態類型。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更改了SingleByteCharConverter，以使用各轉換器的空閒初始化特性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了Fields.java中的字元編碼處理功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了Connection.nativeSQL()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更可靠的轉義標誌「-- recognize &#39;--&#39;」註釋，並允許嵌套式轉義序列（請參見testsuite.EscapeProcessingTest）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-DBMD.getImported/ExportedKeys()現在能處理每個資料表上的多個外部鍵。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了對某些浮點類型ResultSetMetaData.getPrecision()返回錯誤值的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSetMetaData.getColumnTypeName()對TEXT類型返回BLOB，對BLOB類型返回TEXT的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於4.1和更高版本伺服器，更正了Buffer.isLastDataPacket()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了CLIENT_LONG_FLAG，以便能獲得更多的列標誌（isAutoIncrement()最重要）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-由於上述原因，實現了ResultSetMetaData.isAutoIncrement()以使用Field.isAutoIncrement()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在DatabaseMetaData方法中比較資料表名且在伺服器中允許時，優先考慮「lower_case_table_names」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-一些MySQL-4.1協議支援（延伸字段訊息）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-使用非別名資料表/列名和資料庫名，以完全限定UpdatableResultSet中的資料表和列（需要MySQL-4.1或更高版本）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-允許用戶通過「continueBatchOnError」屬性（預設為「真」）更改Statement/PreparedStatement.executeBatch()的行為。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span> &nbsp;&nbsp;&nbsp;</span>-在更多連接方法（createStatement、prepareStatement、setTransactionIsolation、setAutoCommit）中檢查關閉的連接。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更可靠地實現了可更新結果集。檢查資料表的所有主鍵是否已被選擇。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果在伺服器的配置允許，「LOAD DATA LOCAL INFILE ...」現在能正常工作。不能使用「allowLoadLocalInfile」屬性關閉它（請參見README）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-在單字節字元編碼中，對於未知的字元轉換，用「?」替代「<span >\</span>0」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- NamedPipeSocketFactory現能正常工作（僅對Windows平台）。具體說明請參見README。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>11-08-02</span>：版本<span>3.0.2-dev</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了可更新結果集和PreparedStatements不工作的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.setFetchDirection(FETCH_UNKNOWN)。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了使用任意值並使用Statement.setFetchSize()時的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.getLong()中的不正確轉換。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了ResultSet.updateBlob()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-刪除了UpdatableResultSet中的重複代碼（能從ResultSet繼承而來，不需要各方法處理可更新性的額外代碼，但我認為在將來可能需要）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了通過屬性「強制」字元編碼時拋出的「UnsupportedEncodingException」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了各種非ASCII字元編碼問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了驅動程式屬性「useHostsInPrivileges」。預設值為「真」。它將影響是否在「DBMD.getColumn/TablePrivileges」中使用「@hostname」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-描述方案的所有DBMD結果集列現返回NULL，以便能與用於其他資料庫的其他JDBC驅動程式的行為更兼容（MySQL不支援方案）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了SSL支援。關於如何使用它的更多訊息，請參見README。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-執行自動再連接或故障切換時，恰當恢復連接屬性，包括autoCommit狀態以及隔離級別。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-可能時，使用「SHOW CREATE TABLE」，以確定用於DatabaseMetaData的外部鍵訊息，對於返回的DELETE訊息還允許級聯選項。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-對於SJIS字元編碼，轉義了字串中的「0x5c」字元。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了Clob.getSubString()中起始位置偏離1的錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了Clob.truncate()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了Clob.setString()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了Clob.setAsciiStream()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了Clob.setCharacterStream()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了com.mysql.jdbc.MiniAdmin類，該類允許您將「shutdown」命令發送至MySQL伺服器。在最終用戶應用中嵌入Java和MySQL伺服器時使用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「connectTimeout」參數，允許JDK-1.4和更高版本的用戶指定建立連接所需等候的最長時間。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-僅當連接處於autoCommit(false)狀態時，故障切換和autoReconnect才能工作，目的在於保持事務的安全。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「queriesBeforeRetryMaster」屬性，出現故障切換時而且在重新連接到主伺服器之前，該屬性指定了能夠發出的查詢數目（預設為50）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了DBMD.supportsResultSetConcurrency()，以便為ResultSet.TYPE_SCROLL_INSENSITIVE和ResultSet.CONCUR_READ_ONLY或ResultSet.CONCUR_UPDATABLE返回「真」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.isLast()處理空結果集方面的問題（應返回「假」）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- PreparedStatement現在將優先考慮setBinary/Ascii/Character Stream()中的流長度，除非將連接屬性「useStreamLengthsInPrepStmts」設置為「假」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-刪除了一些使用EscapeProcessor、Connection和DatabaseMetaData類中的「Strings smarter」建立的不需要的臨時對象。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>09-21-02</span>：版本<span>3.0.1-dev</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.getRow()偏差1的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了RowDataStatic.getAt()偏差1的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了有限Clob功能（ResultSet.getClob()、PreparedStatemtent.setClob()、PreparedStatement.setObject(Clob)）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為URL增加了socketTimeout參數。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- Connection.isClosed()不再對伺服器執行「Ping」操作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-當「getAutoCommit() == false」時Connection.close()發出rollback()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了「妄想」參數，通過刪除其中的「敏感」訊息清理了錯誤消息（即，主機名、端口、帳號等），並在可能的情況下，清理了「敏感」的數據結構。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSetMetaData.isSigned()在處理TINYINT和BIGINT方面的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- 現在將自動檢測字元編碼。最佳化了單字節字元編碼轉換的代碼。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了ResultSet.getCharacterStream()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為DatabaseMetaData.getTableTypes()中的資料表類型增加了「LOCAL TEMPORARY」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- 整理了大塊代碼，以遵循Java編碼慣例（時機成熟）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>07-31-02</span>：版本<span>3.0.0-dev</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; - !!! </span>授權變化!!! 驅動現在是GPL。如果需要非GPL授權，請與我們聯繫（<a  href="mailto:mark@mysql.com">mark@mysql.com</a>）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- JDBC-3.0功能包括Statement/PreparedStatement.getGeneratedKeys()和ResultSet.getURL()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-性能增強，在大多數情況下，驅動程式快了50-100％，而且建立的臨時對像更少。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-重新封裝...新的驅動程式名是「com.mysql.jdbc.Driver」，但舊名稱依然有效（驅動程式現由MySQL-AB提供）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更好地在語句和PreparedStatement中檢查已關閉的連接。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-支援流式結果集（按行），請參見README，感謝Doron。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-支援大訊息包（MySQL-4.0協議的新增內容），更多訊息請參見README。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- JDBC兼容，除了儲存程式測試外，提供了所有測試。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正並分類了DBMetaData中的主鍵名稱（SF問題582086和582086）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-浮點類型現為java.sql.Types.FLOAT（SF問題579573）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- ResultSet.getTimestamp()現在能處理DATE類型（SF問題559134）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- ResultSet.getDate/Time/Timestamp現在能識別由MySQL設置為全零的所有形式的無效值（SF問題586058）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- Testsuite現在將使用Junit（可從<a  href="http://www.junit.org/">www.junit.org</a>獲得）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-驅動程式現在僅能與JDK-1.2或更高版本一起工作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了多主機故障切換支援（請參見README）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-進行了一般性的原始碼清理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-讀取訊息包時，通過控制MysqlIO類建立的過渡對象，改善了總的速度。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-改善了字串處理和字段元數據建立的性能（例示），由Alex Twisleton-Wykeham-Fiennes提供。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>05-16-02</span>：版本<span>2.0.14</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更多代碼整理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- PreparedStatement現在能釋放.close()上的資源（SF問題553268）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-如果伺服器版本不支援，不使用引用ID。此外，如果伺服器是以「<span >—</span>ansi」或「--sql-mode=ANSI_QUOTES」開始，那麼「&quot;」將用作ID引用，否則將使用「`」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- ResultSet.getDouble()現在能更準確地使用JDK內置的代碼（但較慢）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- LogicalHandle.isClosed()使用，直至物理連接。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了SQL仿型功能（到STDERR）。在JDBC url中設置「profileSql=true」。更多訊息請參見README。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了relaxAutoCommit參數的類型。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>04-24-02</span>：版本<span>2.0.13</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更多代碼整理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了未能正確讀取的unicode字元（SF問題541088）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為PrepStmt提供了更快的Blob轉義功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為DataSource(s)增加了set/getPortNumber()（SF問題548167）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為MySQLXADataSource增加了setURL()（SF問題546019）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement.toString()（SF問題534026）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了ResultSetMetaData.getColumnClassName()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- 現在實施了來自JDBC-3.0的Statement.getGeneratedKeys()的初級版本（要想使之工作，需要使用JDK-1.4，我個人認為）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- DBMetaData.getIndexInfo()，更正了不良的PAGES（SF問題542201）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>04-07-02</span>：版本<span>2.0.12</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-一般性代碼整理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為Connection和MysqlLogicalHandle增加了getIdleFor()方法。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-放鬆了所有類中的功能，應更正520615和520393。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為DBMD增加了getTable/ColumnPrivileges()（更正484502）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為getTypeInfo()增加了新類型，更正了已有類型，感謝Al Davis和Kid Kalanon。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為PreparedStatement增加了BIT類型支援（51870）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet中的getRow()問題（527165）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement中的ResultSet可更新性。</pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement中時區偏差1小時的問題（538286、528785）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- ResultSet: 更正了可更新性（如果不可更新，將值設為NULL）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- DataSources，更正了setUrl問題（511614、525565），錯誤的數據源類名（532816、528767）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-為需要它們的所有DatabaseMetaData方法增加了ID引用（應更正518108）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-增加了對YEAR類型的支援（533556）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>- ResultSet.insertRow()目前能夠在大多數情況下檢測auto_increment字段，並在新行中使用該值。但是，該檢測不適用於多值鍵，原因在於MySQL協議不返回該類訊息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-實現了ResultSet.refreshRow()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-更正了testsuite.Traversal afterLast()問題，感謝Igor Lastric。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>01-27-02</span>：版本<span>2.0.11</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
			<pre><span>-</span>更正了<span>DBMD.getImported/ExportedKeys()</span>和<span>getCrossReference()</span>中丟失的<span>DELETE_RULE</span>值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-Statement.java的完全同步。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; </span>-多處修改，更正了讀取BLOB時的「Unexpected end of input stream」（輸入流意外結束）錯誤。這應是最後更正。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>01-24-02</span>：版本<span>2.0.10</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了MysqlIO中的虛假「Unexpected end of input stream」（輸入流意外結束）錯誤（問題507456）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了與Websphere 4一起使用MysqlConnectionPoolDataSource時的「null-pointer-exceptions」（問題505839）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>01-13-02</span>：版本<span>2.0.9</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- Ant建立失敗，包括jar檔案，已更正（問題487669）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了MysqlIO.readPacket()中額外的內存分配（問題488663）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-實現了DatabaseMetaData.getExported/ImportedKeys()和getCrossReference()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-在更改實例和類共享引用的方法上，實現了完全同步，驅動程式現在是完全線程安全的（如果遇到問題，請告訴我）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-將DataSource實施移至org.gjt.mm.mysql.jdbc2.optional軟件包，PooledConnectionDataSource和XADataSource的原始實施仍保留在原處（感謝Todd Wolff給出了PooledConnectionDataSource與IBM WebSphere 4一起的實施方案和測試結果）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-增加了讀取訊息包時對關閉網絡連接的檢測（感謝Todd Lizambri）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了與轉義處理其有關的錯誤（問題486265）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp; &nbsp;&nbsp;</span>-通過DatabaseMetaData，支援批更新（問題495101）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement.setTimestamp()中偏差1小時的錯誤（問題491577）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-從驅動程式中刪除了級連支援（「||」操作符），較早的VisualAge版本似乎是使用它的唯一軟件，它與邏輯「||」操作符衝突。要想使用「||」操作符作為級聯，需要用「--ansi」標誌啟動mysqld（問題491680）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement中的捨棄問題（488663）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>11-25-01</span>：版本<span>2.0.8</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-現在支援批更新（感謝Daniel Rall的鼓勵）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- XADataSource/ConnectionPoolDataSource代碼（實驗性）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- PreparedStatement.setAnyNumericType()現在能正確處理正指數（增加了「+」，因此MySQL能理解它）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- DatabaseMetaData.getPrimaryKeys()和getBestRowIdentifier()目前在識別主鍵方面更加可靠（匹配，不管主鍵在Key_type列中的大小寫、或縮寫／全名）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>10-24-01</span>：版本<span>2.0.7</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- PreparedStatement.setCharacterStream()現已實現。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了處於高利用率模式（autoReconnect=true）下時的懸掛套接字問題，連接的finalizer將關閉任何在GC上懸掛的套接字。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了在較新版本的MySQL上ResultSetMetaData.getPrecision()返回的值比實際值小1的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-如果列值為NULL，ResultSet.getBlob()現在將返回NULL。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-如果useUnicode=true而且未設置characterEncoding，將從資料庫讀取字元編碼。（感謝Dmitry Vereshchagin）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-從資料庫讀取初始事務隔離級別（如果可用的話）（感謝Dmitry Vereshchagin）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了DatabaseMetaData.supportsTransactions()，supportsTransactionIsolationLevel()，getTypeInfo() SQL_DATETIME_SUB，以及不可讀取的SQL_DATA_TYPE字段。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了用於生成SQL並回在某些查詢中以語法錯誤結束的PreparedStatement。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.isAfterLast()總返回「假」的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement.setTimestamp()中的時區問題（感謝Erik Olofsson）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-在URL或屬性中傳遞了「captializeTypeNames=true」時，將類型名轉換為大寫（對於WebObjects，感謝Anjo Krank）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-可更新結果集現在能正確處理字段中的NULL值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- PreparedStatement.setDouble()現在能使用雙精度值（撤銷了以前所作的截取更正）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-如果MySQL的版本高於或等於3.21.23，PreparedStatement.setBoolean()將使用1/0值。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>06-16-01</span>：版本<span>2.0.6</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement參數檢查功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.java中區分大小寫的列名。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>06-13-01</span>：版本<span>2.0.5</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- 更正了ResultSet.getBlob() ArrayIndex超出範圍的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了ResultSetMetaData.getColumnTypeName關於TEXT/BLOB的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了發送大BLOB查詢時的ArrayIndexOutOfBounds問題（未設置最大訊息包大小）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp; &nbsp;</span>-為Connection.setIsolationLevel()增加了ISOLATION級別支援。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了所有列均未設置時在PreparedStatement.executeUpdate()上的NPE問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了採用兩位數字年份的TIMESTAMP的數據解析問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-為PreparedStatement.setObject()增加了Byte。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- ResultSet.getBoolean()現在能將「-1」識別為「真」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- ResultSet具有+/-Inf/inf支援特性。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-即使並非所有列均已被設置（設為NULL），ResultSet.insertRow()現在也能工作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- DataBaseMetaData.getCrossReference()不再使用ArrayIndexOOB。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-作用在結果集上的getObject()能正確執行TINYINT-&gt;Byte和SMALLINT-&gt;Short操作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>12-03-00</span>：版本<span>2.0.3</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-為JDBC2實現了不帶標度組分的getBigDecimal()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了與可更新結果集有關的復合鍵問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-增加了-/+INF對雙精度的檢測。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更快的ASCII字串操作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了MAX_ALLOWED_PACKET的不正確檢測，因此，現在能發送大的Blob。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了java.sql.Blob實施代碼中的「偏差1」錯誤。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-增加了「ultraDevHack」URL參數，將其設置為「真」，可允許Macromedia UltraDev使用該驅動程式。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>04-06-00</span>：版本<span>2.0.1</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了RSMD.isWritable()返回錯誤值的問題。感謝Moritz Maass。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-整理了連接確定時的異常處理功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-使用getObject()，具有TEXT類型的列現在會作為字串返回。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- DatabaseMetaData.getPrimaryKeys()現在能正確工作（寫入到key_seq）。感謝Brian Slesinsky。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-按照JDBC規範，在PreparedStatements上，不再進行轉義處理。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了很多JDBC-2.0遍歷、定位錯誤，尤其是寫入空結果集的問題。感謝Ron Smits、Nick Brook、Cessar Garcia和Carlos Martinez。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了使用多個主鍵時，與結果集中可更新性支援有關的一些問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>02-21-00</span>：版本<span>2.0pre5</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了不良的握手問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>01-10-00</span>：版本<span>2.0pre4</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了針對insertRow()的結果集，感謝Cesar Garcia。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-對驅動程式進行了修改，使之能夠通過加載JDBC-2.0類來識別JDBC-2.0，而不是依靠JDK版本號。感謝John Baker。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了結果集，以返回正確的行號。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- Statement.getUpdateCount()現在能返回匹配的行，而不是實際更新的行，它更像SQL-92。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>10-29-99</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了Statement/PreparedStatement.getMoreResults()問題。感謝Noel J. Bergman。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-為PreparedStatement.setObject()增加了Short類型。感謝Jeff Crowder。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-驅動程式現在能通過查詢伺服器自動配置最大/首選的訊息包大小。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-如果伺服器支援，Autoreconnect代碼將使用更快的ping命令。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了從伺服器讀取訊息包、以及為寫入到伺服器而分配訊息包時與訊息包大小有關的多種問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>08-17-99</span>：版本<span>2.0pre</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-目前是在JDK-1.2下編譯的。通過核心類集合，驅動程式同時支援JDK-1.1和JDK-1.2。在運行時，通過判斷您所使用的JVM版本，驅動程式將加載恰當的接口類。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-修正了在首行中全為NULL的結果集。（由Tim Endres指出）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了結果集內SQLExceptions的列編號（感謝Blas Rodriguez Somoza）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-不再需要將資料庫指定給連接。（感謝Christian Motschke）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>07-04-99</span>：版本<span>1.2b</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更好的文檔（不斷改善），doc/mm.doc/book1.html。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-對於列名模式，DBMD現在允許null（未在規範中定義），它將被更改為「%」。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- DBMD現在提供了針對getXXX()的正確類型／長度。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-修改了ResultSet.getDate()、getTime()和getTimestamp()。（由Alan Wilken提供）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- EscapeProcessor現在能正確處理引號內的「<span >\{</span> \}」和「<span >{</span> or }」。（感謝Alik就如何修正它給出的觀點）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-對連接中的屬性處理功能進行了修正。（由Juho Tikkala提供）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-對於資料表中的NULL列，ResultSet.getObject()現在能返回NULL，而不是銷毀。（感謝Ben Grosman）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-對於MySQL不瞭解的類型，ResultSet.getObject()現在能返回字串。（由Chris Perdue建議）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-刪除了不需要的DataInput/Output流，對於每次IO操作，1／2的方法使用都是不需要的。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-如果未指定字元編碼，使用預設的字元編碼。這是對已損壞JVM的一種避規措施，這是因為，按照規範，所有的JVM都必須支援「ISO8859_1」，但並非如此。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了連接事宜，如果未明確設置字元編碼，將使用平台的字元編碼，而不是「ISO8859_1」。它修正了加載並不總存在的字元轉換器類時存在的問題（JVM問題）。（感謝Fritz Elfert指出了該問題）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-修改了MysqlIO，使之在可能的情況下再次使用訊息包，而不是降低內存使用率。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了與引號內「<span >{}</span>」有關的轉義處理器問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>04-14-99</span>：版本<span>1.2a</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了對非Javasoft JVM的字元編碼支援（感謝很多指出該問題的人員）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.getBoolean()，使之能夠識別作為布爾標誌的「y」和「n」，以及「1」和「0」。（感謝Tim Pizey）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet.getTimestamp()，以提供更好的性能。（感謝Richard Swift）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- 更正了getByte()在處理數值類型方面的問題。（感謝Ray Bellis）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- 更正了DatabaseMetaData.getTypeInfo()在處理DATE類型時存在的問題。（感謝Paul Johnston）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了用於「fn」使用的EscapeProcessor。（感謝locomotive.org的Piyush Shah）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了EscapeProcessor，如果沒有轉義代碼，不執行額外操作。（感謝Ryan Gustafson）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了驅動程式，使之能解析「jdbc:mysql://host:port」形式的URL（感謝Richard Lobb）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>03-24-99</span>：版本<span>1.1i</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了關於PreparedStatements的Timestamps問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了RSMD和RS中的Null指針異常。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-對於有效的類檔案，與jikes一起進行了再編譯（感謝ms!）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>03-08-99</span>：版本<span>1.1h</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了轉義處理器，以處理不匹配的「<span >{</span>」和「<span >}</span>」（感謝Craig Coles）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了轉義處理器，以建立移植性更好的（在DATETIME和TIMESTAMP類型間）資料表達式，以便能與BETWEEN子句一起使用。（感謝Craig Longman。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- MysqlIO.quit()現在能關閉套接字連接。在此之前，多次連接失敗後，某些作業系統將耗盡檔案描述符。（感謝Michael Brinkman）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了Driver.getPropertyInfo中的NullPointerException（感謝Dave Potts）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-修正了MysqlDefs，允許字字串形式檢索所有的*text字段。（感謝Chris at Leverage）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement中的setDouble，使之能用於處理大數字，防止將科學記數法發送到資料庫。（感謝J.S. Ferguson）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了RSMD中的getScale()和getPrecision()。（由James Klicman貢獻）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了字段為DECIMAL或NUMERIC時的getObject()（感謝Bert Hobbs）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-傳遞Null資料表名時，DBMD.getTables()出現嚴重故障。已更正（感謝Richard Lobb）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-增加了在連接過程中對「client not authorized」（客戶端未被授權）錯誤的檢查。（感謝Hannes Wallnoefer）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>02-19-99</span>：版本<span>1.1g</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-結果集行現在是字節數組。Blob和Unicode現在能雙向工作。目前實施了useUnicode和編碼選項。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-修正了PreparedStatement，使用setXXXStream（不改變地發送）將二進制集合發送到MySQL伺服器。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-修正了getDriverPropertyInfo()。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>12-31-98</span>：版本<span>1.1f</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-將所有的結果集字段更改為字串，這樣，應能使Unicode工作，但您的JVM必須能夠在字元編碼間進行轉換。它還能使對伺服器的數據讀取更快，原因在於，現在不存在從StringBuffer到String（字串）的轉換。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更改了PreparedStatement.streamToString()，使之更有效（代碼由Uwe Schaefer提供）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- URL解析功能更可靠（對於錯誤，拋出SQL異常，而不是NullPointerExceptions）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- PreparedStatement現在能通過setObject()將String轉換為Time/Date值（代碼由Robert Currey提供）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-在Buffer.readInt()中，IO程序不再被掛起，該問題是在1.1d中當將結果集更改為全字節數組時引入的。（由Samo Login指出）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>11-03-98</span>：版本<span>1.1b</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-修正了DatabaseMetaData，允許IBM VA和J-Builder同時工作。請告訴我它的工作機制。（感謝Jac Kersing）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-修正了ResultSet.getBoolean()在處理NULL字串方面的問題（感謝Barry Lagerweij）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-開始代碼整理，並進行了格式處理。開始將其分出為並行的JDBC-2.0源樹。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-為MysqlIO和Buffer內的關鍵部分增加了「最終」限定符，允許編譯器採用內聯方法以提高速度。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>9-29-98</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-如果傳遞給PreparedStatement中setXXX()的對象引用是空的，將自動使用setNull()。（感謝Erik Ostrom給出的提議）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-對於Types.OTHER對像和未知類型對象，PreparedStatement中的setObject()現在會嘗試將對象的串行化資料表示寫入到資料庫。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- Util現在有了1個靜態方法readObject()，結果集和列索引將以上述方式在此例示序列化的對象。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>9-02-98 </span>– 版本<span>1.1</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-消除了MysqlIO.nextRow()中的「醜陋問題」。更正了Buffer.isLastDataPacket()，而不是獲取異常。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- Connection.getCatalog()和Connection.setCatalog()現在能夠工作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- Statement.setMaxRows()能夠正常工作，也能使用屬性maxRows進行設置。通過屬性或URL參數，Statement.setMaxRows()能覆蓋maxRows設置。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-提供了自動再連接功能。由於在每次查詢前不得不Ping資料庫，在預設情況下，它將被關閉。要想使用該功能，請在連接URL中傳遞「autoReconnect=true」。通過「maxReconnects=n」（預設為3）和「initialTimeout=n」（預設為2秒）參數，您也可以更改再連接嘗試的次數和初始超時值。Timeout是超時的指數補償類型。例如，如果初始超時設置為2秒，maxReconnects為3，那麼再連接嘗試之間的間隔分別是2秒，4秒和16秒。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>8-24-98</span>：版本<span>1.0</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- 更正了Buffer.java中Blob數據的處理功能。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了與尺寸過小的鑒定訊息包有關的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-JDBC驅動程式現在採用LPGL。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>8-14-98 -</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- 更正了 Buffer.readLenString()，使之能正確讀取BLOB數據。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement.stringToStream，使之能正確讀取BLOB數據。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了PreparedStatement.setDate()，使之不增加1天。（感謝Vincent Partington在上述修正項方面的貢獻）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-增加了URL參數解析功能（?user=...等等）。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>8-04-98</span>：版本<span>0.9d</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- 重大新聞！ 新的軟件包名。ICE工程公司的Tim Endres著手為GNU GPL的Java軟件建立新的源樹。他友好地將org.gjt.mm軟件包目錄提供給我，因此，現在驅動程式在org.gjt.mm.mysql軟件包中。目前我是合法用戶。期待Tim項目的更多訊息。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-現在採用了動態確定大小的訊息包，向資料庫發送命令時，能夠減少內存使用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-對getTypeInfo()的參數等方面進行了小的修正。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- DatabaseMetaData現已完全實現。如果這些驅動程式能與各種IDE一起工作，請告知。我已聽說它們正與Jbuilder一起使用。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-在軟件包中增加了JavaDoc文檔。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-軟件包採用.zip或.tar.gz格式提供。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>7-28-98</span>：版本<span>0.9</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-實現了getTypeInfo()。根據JDBC規範，Connection.rollback()現在能拋出SQLException。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-增加了PreparedStatement，它支援預處理語句的所有JDBC API方法，包括InputStreams。請檢查該點，如有問題，請告知。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了ResultSet中的1個問題，該問題會破壞僅返回1行的某些查詢。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- 更正了DatabaseMetaData.getTables()、DatabaseMetaData.getColumns()和DatabaseMetaData.getCatalogs()中存在的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-增加了語句的功能，允許executeUpdate()保存由AUTO_INCREMENT字段自動生成的ID值。一般而言，執行executeUpdate()後，將搜尋SQLWarnings以瞭解警告訊息，如LAST_INSERTED_ID = &#39;some number&#39;，COMMAND = &#39;your SQL query&#39;。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span> </span>如果在資料表中正使用AUTO_INCREMENT字段，並在一條語句上執行了多個executeUpdate()，務必每次都執行clearWarnings()以節省內存。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>7-06-98</span>：版本<span>0.8</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-將MysqlIO和Buffer分離為單獨類。對於這兩個類中的某些字段，一些ClassLoader（類加載器）會給出IllegalAccess（非法訪問）錯誤。現在，mm.mysql能夠在小應用程式和所有類加載器中正常工作。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span> </span>感謝Joe Ennis <a  href="mailto:jce@mail.boone.com">jce@mail.boone.com</a>指出該問題，並與我一起進行了修正。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>7-01-98</span>：版本<span>0.7</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-更正了getColumns()中的DatabaseMetadata problems，並更正了字段構造函數內開關語句中存在的問題。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span> </span>感謝Costin Manolache <a  href="mailto:costin@tdiinc.com">costin@tdiinc.com</a>指出了它們。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>5-21-98</span>：版本<span>0.6</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-在MysqlIO.java和ResultSet.java中，結合Richard Swift <a  href="mailto:Richard.Swift@kanatek.ca">Richard.Swift@kanatek.ca</a>給出的有效變更內容。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>-現在，我們的驅動程式比GWE的驅動程式快15％。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>- 開始著手處理DatabaseMetaData。</pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span> </span>實現了下述方法：</pre>
			<pre><span>&nbsp; * getTables()</span></pre>
			<pre><span>&nbsp; * getTableTypes()</span></pre>
			<pre><span>&nbsp; * getColumns</span></pre>
			<pre><span>&nbsp; * getCatalogs()</span></pre>
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="mxj"></a>26.4. MySQL Connector/MXJ</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="connectors.html#mxj-introduction">
		26.4.1. 前言</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-supported">
		26.4.2. 支援平台：</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-test-requirements">
		26.4.3. Junit測試要求</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-testing-">
		26.4.4. 運行Junit測試</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-driver-launched">
		26.4.5. 作為JDBC驅動程式的一部分運行</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-java-object">
		26.4.6. 在Java對像中運行</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-java-api">
		26.4.7. MysqldResource API</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-jmx-agent">
		26.4.8. 在JMX代理(custom)中運行</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-standard-environment">
		26.4.9. 部署在標準的JMX代理環境下 (JBoss)</a></span></dt><dt><span class="section"><a href="connectors.html#mxj-install">
		26.4.10. 安裝</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mxj-introduction"></a>
			26.4.1.&nbsp;前言</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			MySQL Connector/MXJ是一種Java實用工具軟件包，用於部署和管理MySQL資料庫。可以將Connector/MXJ捆綁到已有的Java應用程式，或將其作為JMX 
			Mbean部署。MySQL的部署和使用十分簡單，就像為JDBC連接URL新增額外參數一樣簡單，連接建立後，連接URL將啟動資料庫。這樣，Java開發人員能夠通過降低其最終用戶的安裝難度，更容易地部署需要資料庫的應用程式。<p>
			MySQL Connector/MXJ使得MySQL資料庫像是基於java的組件。它通過下述步驟完成該任務，確定系統所運行的平台，選擇恰當的二進制檔案，並執行程式。也能可選地部署具有任何指定參數的個初始資料庫。</p>
			<p>作為一種JMX Mbean，MySQL Connector/MXJ需要與JMX v1.2兼容的Mbean容器，如Jboss版本4。Mbean將使用標準的JMX管理API來展示與平台相適應的參數（並允許設置參數）。</p>
			<p>其中包含與JDBC驅動程式一起使用的說明，以及以JMX Mbean方式將其部署至Jboss的說明。</p>
			<p>可從下述站點下載源版本和二進製版本：<span><a target="_top"  href="http://dev.mysql.com/downloads/connector/mxj/"><span>http://dev.mysql.com/downloads/connector/mxj/
			</span></a></span></p>
			<p>這是一種測試板，歡迎反饋和鼓勵。</p>
			<p>如有任何問題或意見，請發送電子郵件至<a target="_top"  href="mailto:java@lists.mysql.com"><span>java@lists.mysql.com</span></a>。</p>
			<h3 class="title"><a name="mxj-supported"></a>
			26.4.2.&nbsp;支援平台：</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Linux, i386
        </p></li><li><p>
          Windows NT, x86
        </p></li><li><p>
          Windows 2000, x86
        </p></li><li><p>
          Windows XP, x86
        </p></li><li><p>
          Solaris 9, SPARC 32
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mxj-test-requirements"></a>
			26.4.3.&nbsp;Junit測試要求</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			要想確保您的平台是在支援範圍內，最好方法是運行Junit測試。<p>
			首先應確保組件能夠在平台上工作。由於「MysqldResource」類實際上是MySQL固有版本的包裝器，並非所有的平台均支援它。編寫本文時，對運行在i386架構上的Linux進行了測試，看上去工作良好，就像在OS 
			X v10.3上一樣。在Windows和Solaris平台上進行了有限測試。</p>
			<p>要求：</p>
			<p>
			<span>1.<span>&nbsp;&nbsp;&nbsp;
			</span></span>JDK-1.4或更高版本（或JRE，如果不打算編譯源檔案或JSP的話）。</p>
			<p>
			<span>2.<span>&nbsp;&nbsp;&nbsp;
			</span></span>通過CLASSPATH安裝了並提供了MySQL Connector/J版本3.1或更高版本（<a target="_top"  href="http://dev.mysql.com/downloads/connector/j/"><span>http://dev.mysql.com/downloads/connector/j/
			</span></a>）。</p>
			<p>
			<span>3.<span>&nbsp;&nbsp;&nbsp;
			</span></span>用於JMX版本1.2.1的<span>javax.management</span>類，它們位於下述應用伺服器上：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>JBoss - 4.0rc1或更高版本</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>Apache Tomcat - 5.0或更高版本</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>Sun公司的JMX參考實施版本1.2.1，<a target="_top"  href="http://java.sun.com/products/JavaManagement/"><span>http://java.sun.com/products/JavaManagement/</span></a>。</p>
			<p>
			<span  >4.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>Junit 3.8.1（<a target="_top"  href="http://www.junit.org/"><span>http://www.junit.org/</span></a>）</p>
			<p>如果從原始碼建立，除了上述所有要求外，還須滿足：</p>
			<p>
			<span  >1.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>Ant版本1.5或更高版本（可從<a target="_top"  href="http://ant.apache.org/"><span>http://ant.apache.org/</span></a>上下載）。</p>
			<h3 class="title"><a name="mxj-testing-"></a>
			26.4.4.&nbsp;運行Junit測試</h3></div></div></div><div class="orderedlist">
				<p>
				<span>1.<span>&nbsp;&nbsp;&nbsp;
				</span></span>
				這類測試將嘗試在3336端口上啟動MySQL。如果有正在運行的MySQL，可能會出現衝突，但可能性不大，原因在於MySQL的預設端口是3306。然而，也可以將「c-mxj_test_port」Java屬性設置為您所選擇的端口。作為可選方式，您也可以通過關閉運行在目標機器上的MySQL實例來啟動測試。</p>
				<p><a name="mxj0">
				預設情況下，測試結果將輸出到控制台。要想獲得詳細輸出，可以將「c-mxj_test_silent」Java屬性設置為「假」。</a></p>
				<p>
				<span>2.<span>&nbsp;&nbsp;&nbsp;
				</span></span>要想運行Junit測試套件，$CLASSPATH必須包含下述部分：</p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>JUnit </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>JMX </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>Connector/J </span></p>
				<p>
				<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</span></span><span>MySQL Connector/MXJ </span></p>
				<p>
				<span>3.<span>&nbsp;&nbsp;&nbsp;
				</span></span>如果您下載的檔案中不含<span>connector-mxj.jar</span>，請解包MySQL 
				Connector/MXJ原始碼檔案檔案。</p>
				<pre><span>4.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>cd mysqldjmx</span></pre>
				<pre><span>5.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ant dist</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
				<p>隨後，將<span>$TEMP/cmxj/stage/connector-mxj/connector-mxj.jar新增到</span>CLASSPATH（類路徑）。</p>
				<p>
				<span>6.<span>&nbsp;&nbsp;&nbsp;
				</span></span>如果有<span>junit，執行單元測試。</span>從命令行上輸入：</p>
				<pre><span>7.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>java junit.textui.TestRunner com.mysql.management.AllTestsSuite</span></pre>
				<pre><span>&nbsp;&nbsp;&nbsp; </span></pre>
				<p>輸出與下面給出的類似：</p>
				<pre><span>.........................................</span></pre>
				<pre><span>.........................................</span></pre>
				<pre><span>..........</span></pre>
				<pre><span>Time: 259.438</span></pre>
				<pre><span>&nbsp;</span></pre>
				<pre><span>OK (101 tests)</span></pre>
				<pre><span>&nbsp; </span></pre>
				<p>注意，在快結束時速度會變慢，請耐心等候。</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mxj-driver-launched"></a>
			26.4.5.&nbsp;作為JDBC驅動程式的一部分運行</h3></div></div></div>
			<p>MySQL Connector/J JDBC驅動程式的1個特點是，能夠在JDBC連接字串中將「SocketFactory」指定為參數。MySQL 
			Connector/MXJ包含1個定制的SocketFactory。首次連接時，SocketFactory將部署並啟動MySQL資料庫。SocketFactory也會顯示1個「shutdown」方法。</p>
			<p>要想使用它，請在JDBC連接字串上指定「socketFactory」參數，並將其值設為「com.mysql.management.driverlaunched.ServerLauncherSocketFactory」。</p>
			<p>在下面的示範中，有1個能建立連接的程式，執行查詢，並將結果輸出到System.out。MySQL資料庫將作為連接程序的組成部分予以部署並啟動，最後是結束部分。</p>
			<pre class="programlisting">import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;

import com.mysql.management.driverlaunched.ServerLauncherSocketFactory;

public class ConnectorMXJTestExample {
    public static void main(String[] args) throws Exception {
        String hostColonPort = "localhost:3336";
        
        String driver = com.mysql.jdbc.Driver.class.getName();
        String url = "jdbc:mysql://" + hostColonPort + "/" + "?"
                + "socketFactory="
                + ServerLauncherSocketFactory.class.getName();
        String userName = "root";
        String password = "";

        Class.forName(driver);
        Connection conn = null;
        try {
            conn = DriverManager.getConnection(url, userName, password);
            Statement stmt = conn.createStatement();
            ResultSet rs = stmt.executeQuery("SELECT VERSION()");
            rs.next();
            String version = rs.getString(1);
            rs.close();
            stmt.close();

            System.out.println("------------------------");
            System.out.println(version);
            System.out.println("------------------------");
        } finally {
            try {
                conn.close();
            } catch (Exception e) {
                e.printStackTrace();
            }
            ServerLauncherSocketFactory.shutdown(hostColonPort);
        }
    }
}
  </pre>
			<p>要想運行上述程式，在CLASSPATH中必須有connector-mxj.jar和Connector/J。然後鍵入：</p>
			<pre><span>java ConnectorMXJTestExample</span></pre>
			<pre><span>&nbsp; </span></pre>
			<p>當然，對於MySQL資料庫，有很多可設置的選項。通過為每個伺服器選項冠以前綴「server」，可將其作為JDBC連接字串的部分，簡單地指定這些選項。在下述示範中，我們設置了3個驅動程式參數和2個伺服器參數：</p>
			<pre class="programlisting">        String url = "jdbc:mysql://" + hostColonPort + "/" 
                + "?"
                + "socketFactory="
                + ServerLauncherSocketFactory.class.getName();
                + "&amp;"
                + "cacheServerConfiguration=true"
                + "&amp;"
                + "useLocalSessionState=true"
                + "&amp;"
                + "server.basedir=/opt/myapp/db"
                + "&amp;"
                + "server.datadir=/mnt/bigdisk/myapp/data";
  </pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mxj-java-object"></a>
			26.4.6.&nbsp;在Java對像中運行</h3></div></div></div>
			<p>有1個java應用程式並打算嵌入MySQL資料庫，直接使用com.mysql.management.MysqldResource類。可以使用預設的構造函數（無參量）例示該類，或者通過在java.io.File對像（代資料表希望伺服器解包至的目錄）中傳遞類來例示之。也可用針對「stdout」和「stderr」（用於記錄）的輸出流例示它。</p>
			<p>一旦完成例示，java.util.Map，該對像將能提供與平台以及希望使用的MySQL版本相適應的伺服器選項的java.util.Map。</p>
			<p>MysqldResource允許您使用所提供的伺服器選項的java.util.Map啟動MySQL，並允許您關閉資料庫。在下面的示範中，給出了使用明碼java對像將MySQL嵌入到應用程式的簡單方法。</p>
			<pre class="programlisting">import com.mysql.management.MysqldResource;

 ...

    public void startMySQL() {
        File baseDir = new File(ourAppDir, "mysql");
        mysqldResource = new MysqldResource(baseDir);
        Map options = new HashMap();
        options.put("port", "3336");
        String threadName = "OurApp MySQL";
        mysqldResource.start(threadName, options);
    }
    
    public void stopMySQL() {
        if (mysqldResource != null) {
            mysqldResource.shutdown();
        }
        mysqldResource = null;
    }
    
    public java.sql.Connection getConnection() throws Exception {
        String db = "test";
        String url = "jdbc:mysql://localhost:3336/" + db;
        String userName = "root";
        String password = "";
        Class.forName(com.mysql.jdbc.Driver.class.getName());
        return DriverManager.getConnection(url, userName, password);
    }
  </pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mxj-java-api"></a>
			26.4.7.&nbsp;MysqldResource API</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			構造函數：<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>public MysqldResource(File baseDir, 
			PrintStream out, PrintStream err); </span></p>
			<p>
			允許設置安裝MySQL檔案的「basedir」，並設置標準輸出和標準錯誤的輸出流。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>public MysqldResource(File baseDir);
			</span></p>
			<p>
			允許設置安裝MySQL檔案的「basedir」。標準輸出和標準錯誤的輸出將被導至System.out和System.err。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>public MysqldResource(); </span></p>
			<p>
			Basedir是java.io.tempdir的預設子目錄。標準輸出和標準錯誤的輸出將被導至System.out和System.err。</p>
			<p>MysqldResource API包含下述方法：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>void start(String threadName, Map 
			mysqldArgs); </span></p>
			<p>部署並啟動MySQL。「threadName」字串用於命名實際執行MySQL命令行命令的線程。「map」是將要傳遞給命令行的參量和參聯值的集合。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>void shutdown(); </span></p>
			<p>關閉由MysqldResource對像管理的MySQL實例。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Map getServerOptions(); </span></p>
			<p>
			返回所有選項以及MySQL資料庫可用的當前選項（或預設選項，如果未運行的話）的映射。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>boolean isRunning(); </span></p>
			<p>如果MySQL資料庫正在運行，返回「真」。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>boolean isReadyForConnections();
			</span></p>
			<p>一旦資料庫通報它已做好連接準備，返回「真」。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>void setKillDelay(int millis); </span>
			</p>
			<p>預設的「Kill 
			Delay」是30秒。它資料表示發出初始關閉請求和發出「強制殺死」（如果資料庫未關閉）命令之間需要等待的時間。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>void addCompletionListenser(Runnable 
			listener); </span></p>
			<p>
			當伺服器程序完成時，允許通知應用程式。每個「listener」（監聽程式）將在自己的線程中發出。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>String getVersion(); </span></p>
			<p>返回MySQL的版本。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>void setVersion(int MajorVersion, int 
			minorVersion, int patchLevel); </span></p>
			<p>
			標準分發版本僅提供了1種版本的MySQL軟件包。但也能將多個版本封裝在一起，並指定要使用的版本。</p>
			<h3 class="title"><a name="mxj-jmx-agent"></a>
			26.4.8.&nbsp;在JMX代理(custom)中運行</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			如果您正在使用JMX的SUN參考實施版本，可跳過本節。或者，如果您正在部署Jboss，請跳到下一節。<p>
			我們希望在JMX代理的活動中看到MysqldDynamicMBean。在<span>com.mysql.management.jmx.sunri</span>軟件包中，它是帶有2個Mbeans的JMX代理：</p>
			<p>
			<span  >1.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>MysqldDynamicMBean，以及</p>
			<p>
			<span>2.<span>&nbsp;&nbsp;&nbsp;
			</span></span>
			com.sun.jdmk.comm.HtmlAdaptorServer，它提供了用於操控JMX代理內眾多元素的Web接口。</p>
			<p>啟動了這個十分簡單的代理程式後，允許用Web瀏覽器啟動並停止MySQL資料庫。</p>
			<p>
			<span>1.<span>&nbsp;&nbsp;&nbsp;
			</span></span>如前所述，完成平台測試。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>當前JDK, JUnit, Connector/J, MySQL Connector/MXJ </p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>本節需要JMX的SUN參考實施版本</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>PATH, JAVA_HOME, ANT_HOME, CLASSPATH
			</span></p>
			<p>
			<span  >2.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>如果不是從原始碼建立的，跳到下一步。</p>
			<p><span>rebuild with the &quot;sunri.present&quot;
			</span></p>
			<pre><span>ant -Dsunri.present=true dist </span></pre>
			<pre><span>re-run tests:</span></pre>
			<pre><span>java junit.textui.TestRunner com.mysql.management.AllTestsSuite</span></pre>
			<p>
			<span>3.<span>&nbsp;&nbsp;&nbsp;
			</span></span>從命令行啟動測試代理：</p>
			<pre><span>4.<span>&nbsp;&nbsp;&nbsp;&nbsp;</span>java com.mysql.management.jmx.sunri.MysqldTestAgentSunHtmlAdaptor &amp;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<p>
			<span>5.<span>&nbsp;&nbsp;&nbsp;
			</span></span>從瀏覽器：</p>
			<pre><span>6.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>http://localhost:9092/</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<p>
			<span  >7.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在MysqldAgent下</p>
			<pre><span  >8.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>選擇「name=mysqld」</pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<p>
			<span  >9.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>觀察Mbean視圖</p>
			<p>
			<span  >10.<span>&nbsp;
			</span></span>滾動到屏幕底部，按<span class="guibutton">startMysqld</span>按鈕</p>
			<p>
			<span  >11.<span>&nbsp;
			</span></span>點擊「<span>Back to MBean View</span>」（返回Mbean視圖）</p>
			<p>
			<span  >12.<span>&nbsp;
			</span></span>滾動到屏幕底部，按<span class="guibutton">stopMysqld</span>按鈕</p>
			<p>
			<span  >13.<span>&nbsp;
			</span></span>殺死運行測試代理的Java程序（jmx伺服器）</p>
			<h3 class="title"><a name="mxj-standard-environment"></a>
			26.4.9.&nbsp;部署在標準的JMX代理環境下 (JBoss)</h3></div></div></div>
			<p>一旦確定Mbean能夠在平台上工作，接下來應在標準的JMX代理內部署Mbean。其中包含部署到Jboss的說明。</p>
			<p>
			<span>1.<span>&nbsp;&nbsp;&nbsp;
			</span></span>確保有最新版本的java開發工具箱（v1.4.x），請參見前面的介紹。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>確保設置<span>JAVA_HOME</span>（Jboss要求<span>JAVA_HOME</span>）。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>確保<span>JAVA_HOME/bin</span>位於<span>PATH</span>中（不需要設置CLASSPATH，也不需要以前測試中使用的任何jar檔案）。</p>
			<p>
			<span  >2.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>確保安裝了Jboss的最新版本（v4.0RC1或更高）。</p>
			<pre><span  >3.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>http://www.jboss.org/index.html</pre>
			<pre><span  >4.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>選擇「Downloads」。</pre>
			<pre><span  >5.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>選擇「jboss-4.0.zip」。</pre>
			<pre><span  >6.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>選擇1個鏡像。</pre>
			<pre><span  >7.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>unzip ~/dload/jboss-4.0.zip</pre>
			<pre><span  >8.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>建立JBOSS_HOME環境變數，設置解包目錄。</pre>
			<pre><span  >9.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>僅對Unix：</pre>
			<pre><span>10.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>cd $JBOSS_HOME/bin</span></pre>
			<pre><span>11.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>chmod +x *.sh</span></pre>
			<p>
			<span>12.</span>將<span>connector-mxj.jar安裝（拷貝）到$JBOSS_HOME/server/default/lib</span>。</p>
			<p>
			<span>13.</span>將<span>mysql-connector-java-3.1.4-beta-bin.jar安裝（拷貝）到$JBOSS_HOME/server/default/lib</span>。</p>
			<p>
			<span>14.</span>在<span>$JBOSS_HOME/server/default/deploy下建立mxjtest.war</span>目錄。</p>
			<p>
			<span  >15.<span>&nbsp;
			</span></span>將<span>index.jsp安裝（拷貝）到$JBOSS_HOME/server/default/deploy/mxjtest.war。</span></p>
			<p>
			<span>16.</span>在<span>$JBOSS_HOME/server/default/deploy下建立mysqld-service.xml檔案</span>。</p>
			<pre><span>17.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></pre>
			<pre><span>18.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&lt;server&gt;</span></pre>
			<pre><span>19.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&lt;mbean code=&quot;com.mysql.management.jmx.jboss.JBossMysqldDynamicMBean&quot;</span></pre>
			<pre><span>20.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;mysql:type=service,name=mysqld&quot;&gt;</span></pre>
			<pre><span>21.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&lt;attribute name=&quot;datadir&quot;&gt;/tmp/xxx_data_xxx&lt;/attribute&gt;</span></pre>
			<pre><span>22.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&lt;attribute name=&quot;autostart&quot;&gt;true&lt;/attribute&gt;</span></pre>
			<pre><span>23.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&lt;/mbean&gt;</span></pre>
			<pre><span>24.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&lt;/server&gt;</span></pre>
			<pre><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
			<p>
			<span>25.</span>啟動jboss：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在Unix上：<strong><span>$JBOSS_HOME/bin/run.sh</span></strong>
			</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在Windows上：<strong><span>%JBOSS_HOME%\bin\run.bat</span></strong><span>
			</span></p>
			<p>準備就緒：Jboss在屏幕上顯示大量輸出。</p>
			<p>
			<span  >26.<span>&nbsp;
			</span></span>當Jboss看上去停止將訊息輸出到屏幕上時，打開Web瀏覽器：<span>http://localhost:8080/jmx-console</span>
			</p>
			<p>
			<span>27.</span>滾動到<span>mysql部分頁面底部，選擇</span>bulleted
			<span>mysqld連結。</span></p>
			<p>
			<span>28.</span>觀察JMX MBean View頁面。MySQL應已運行。</p>
			<p>
			<span  >29.<span>&nbsp;
			</span></span>（如果設置了「autostart=true」可跳過該步）。滾動到屏幕底部。按<span class="guibutton">Invoke</span>按鈕停止（或啟動）MySQL，觀察已成功完成而且無返回值的操作。點擊「<span>Back 
			to MBean View</span>」（返回Mbean視圖）</p>
			<p>
			<span  >30.<span>&nbsp;
			</span></span>要想確定MySQL是否正在運行，打開Web瀏覽器<span><a  href="http://localhost:8080/mxjtest/">http://localhost:8080/mxjtest/</a></span>，應看到：</p>
			<pre><span>SELECT 1</span></pre>
			<p><span>returned with a 
			result of </span></p>
			<pre><span>1</span></pre>
			<p>
			<span>31.</span>按照<span>$JBOSS_HOME/server/default/deploy/mxjtest.war/index.jsp中的介紹，能夠在您的Web應用程式中</span>使用MySQL。其中提供了供測試用的測試資料庫和根用戶（無密碼）。建立資料表，插入一些行，並進行一些選擇。</p>
			<p>
			<span  >32.<span>&nbsp;
			</span></span>關閉MySQL。停止Jboss時，MySQL將自動停止，或：在瀏覽器中，滾動到MBean 
			View底部，並按停止服務<span class="guibutton">Invoke按鈕中止服務。</span>觀察已成功完成而且無返回值的操作。使用<span>ps</span>或任務管理器查看MySQL是否已不再運行。</p>
			<p>對於1.0.6-beta版，能夠在啟動時讓Mbean啟動MySQL資料庫。此外，我們還借鑒了Jboss生命週期延伸方法的優點，關閉Jboss時能優雅地關閉資料庫。</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mxj-install"></a>
			26.4.10.&nbsp;安裝</h3></div></div></div>
			<p>如果閱讀了上述部分，應已完成了這些步驟。但我們在下面列出了它們，以供快速參考。</p>
			<p>啟動了驅動程式：</p>
			<p>
			<span  >1.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>下載並解包Connector/MXJ，將connector-mxj.jar新增到CLASSPATH。</p>
			<p>
			<span>2.<span>&nbsp;&nbsp;&nbsp;
			</span></span>為JDBC連接字串新增下述參數：<span>&quot;socketFactory=&quot; + 
			ServerLauncherSocketFactory.class.getName() </span></p>
			<p><span>JBoss: </span></p>
			<p>
			<span>1.<span>&nbsp;&nbsp;&nbsp;
			</span></span>下載Connector/MXJ，將<span>connector-mxj.jar</span>檔案拷貝到目錄<span>$JBOSS_HOME/server/default/lib</span>。</p>
			<p>
			<span>2.<span>&nbsp;&nbsp;&nbsp;
			</span></span>下載Connector/J，將<span>connector-mxj.jar</span>檔案拷貝到目錄<span>$JBOSS_HOME/server/default/lib</span>。</p>
			<p>
			<span>3.<span>&nbsp;&nbsp;&nbsp;
			</span></span>有任意屬性設置在<span>$JBOSS_HOME/server/default/deploy目錄下建立</span>Mbean服務xml檔案，例如<span>datadir</span>和<span>autostart</span>。</p>
			<p>
			<span  >4.<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>設置Web應用程式的JDBC參數，以使用：<span>String 
			driver = &quot;com.mysql.jdbc.Driver&quot;; String url = &quot;jdbc:mysql:///test?propertiesTransform=&quot;+ 
			&quot;com.mysql.management.jmx.ConnectorMXJPropertiesTransform&quot;; String 
			user = &quot;root&quot;; String password = &quot;&quot;; Class.forName(driver); 
			Connection conn = DriverManager.getConnection(url, user, password);
			</span></p>
			<p>您或許希望為每個應用程式建立單獨用戶和資料庫資料表空間，而不是使用根用戶和測試資料庫。</p>
			<p>強烈建議定期備份，將資料庫檔案備份到datadir目錄下。</div></div></div><div><hr>
	<p>這是MySQL參考手冊的翻譯版本，關於MySQL參考手冊，請訪問<a target="_top"  href="http://dev.mysql.com/doc/mysql/en">dev.mysql.com</a>。原始參考手冊為英文版，與英文版參考手冊相比，本翻譯版可能不是最新的。</div>
</body></html>
