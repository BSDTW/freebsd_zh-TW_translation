<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Chapter 19. Spatial Extensions in MySQL</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="MySQL 5.1 Reference Manual"><link rel="up" href="index.html" title="MySQL 5.1 Reference Manual"><link rel="prev" href="partitioning.html" title="Chapter 18. Partitioning"><link rel="next" href="stored-procedures.html" title="Chapter 20. Stored Procedures and Functions">
<style>
<!--
span.quote
	{}
-->
</style>
</head><body><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="spatial-extensions-in-mysql"></a>
	第19章：MySQL中的空間延伸</h2></div></div></div><div class="toc"><p><b>
	目錄</b></p><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-introduction">
			19.1. 前言</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#opengis-geometry-model">
			19.2. OpenGIS幾何模型</a></span></dt><dd><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-geometry-class-hierarchy">
				19.2.1. Geometry類的層次</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-geometry">
				19.2.2. 類Geometry</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-point">
				19.2.3. 類Point<code class="literal"></code></a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-curve">
				19.2.4. 類Curve<code class="literal"></code></a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-linestring">
				19.2.5. 類LineString</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-surface">
				19.2.6. 類Surface</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-polygon">
				19.2.7. 類Polygon</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-geometrycollection">
				19.2.8. 類GeometryCollection</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multipoint">
				19.2.9. 類MultiPoint</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multicurve">
				19.2.10. 類MultiCurve</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multilinestring">
				19.2.11. 類MultiLineString</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multisurface">
				19.2.12. 類MultiSurface</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multipolygon">
				19.2.13. 類MultiPolygon</a></span></dt></dl></dd><dt><span class="section"><a href="spatial-extensions-in-mysql.html#supported-spatial-data-formats">
			19.3. 支援的空間數據格式</a></span></dt><dd><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-wkt-format">
				19.3.1. 著名的文本(WKT)格式</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-wkb-format">
				19.3.2. 著名的二進制(WKB)格式</a></span></dt></dl></dd><dt><span class="section"><a href="spatial-extensions-in-mysql.html#creating-a-spatially-enabled-mysql-database">
			19.4. 建立具備空間功能的MySQL資料庫</a></span></dt><dd><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#mysql-spatial-datatypes">
				19.4.1. MySQL空間數據類型</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#creating-spatial-values">
				19.4.2. 建立空間值</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#creating-spatial-columns">
				19.4.3. 建立空間列</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#populating-spatial-columns">
				19.4.4. 填充空間列</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#fetching-spatial-data">
				19.4.5. 獲取空間數據</a></span></dt></dl></dd><dt><span class="section"><a href="spatial-extensions-in-mysql.html#analysing-spatial-information">
			19.5. 分析空間訊息</a></span></dt><dd><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#functions-to-convert-geometries-between-formats">
				19.5.1. Geometry格式轉換函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#geometry-property-functions">19.5.2. 
				Geometry函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#functions-that-create-new-geometries-from-existing-ones">
				19.5.3. 從已有Geometry建立新Geometry的函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#functions-for-testing-spatial-relations-between-geometric-objects">
				19.5.4. 測試幾何對像間空間關係的函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#relations-on-geometry-mbr">
				19.5.5. 關於幾何最小邊界矩形（MBR）的關係</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#functions-that-test-spatial-relationships-between-geometries">
				19.5.6. 測試幾何類之間空間關係的函數</a></span></dt></dl></dd><dt><span class="section"><a href="spatial-extensions-in-mysql.html#optimizing-spatial-analysis">
			19.6. 最佳化空間分析</a></span></dt><dd><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#creating-spatial-indexes">
				19.6.1. 建立空間索引</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#using-a-spatial-index">
				19.6.2. 使用空間索引</a></span></dt></dl></dd><dt><span class="section"><a href="spatial-extensions-in-mysql.html#mysql-gis-conformance-and-compatibility">
			19.7. MySQL的一致性和相容性</a></span></dt><dd><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-features-that-are-not-yet-implemented">
				19.7.1. 尚未實施的GIS特性</a></span></dt></dl></dd></dl></div><a class="indexterm" name="id2981633"></a>
	<p><span>MySQL</span>支援空間延伸，允許生成、保存和分析地理特徵。這些特徵可用於<span>MyISAM</span>、<span>InnoDB</span>、<span>NDB</span>、<span>BDB</span>和<span><span>ARCHIVE</span>資料表（但是，<span>ARCHIVE</span>引擎不支援</span>索引功能，因此，不能為<span><span>ARCHIVE</span>列中的空間列編製索引）。</span></p>
	<p>本章介紹了下述議題：</p>
	<p>
	<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	</span></span><span>OpenGIS</span>幾何模型中這些空間延伸的基礎。</p>
	<p>
	<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	</span></span>用於資料表示空間數據的數據格式。</p>
	<p>
	<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	</span></span>如何在<span>MySQL</span>中使用空間數據。</p>
	<p>
	<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	</span></span>使用關於空間數據的索引功能。</p>
	<p>
	<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	</span></span><span>MySQL</span>與<span>OpenGIS</span>規範的差異。</p>
	<p>如果在<span>MySQL</span>空間延伸的使用方面有任何問題，可在我們網站的<span><a target="_top"  href="http://forums.mysql.com/list.php?23">GIS<span>論壇</span></a></span>中討論。</p>
	<div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="gis-introduction"></a>
		19.1.&nbsp;前言</h2></div></div></div><a class="indexterm" name="id2981747"></a><a class="indexterm" name="id2981754"></a><a class="indexterm" name="id2981760"></a>
		<p>遵從<span><span>OpenGIS</span>聯盟（<span>OGC</span>）的規範，</span><span>MySQL</span>實施了空間延伸。<span>OGC</span>是一個由<span>250</span>多家公司、代理機構和大學參與的國際聯盟，負責開發公開的概念解決方案，這類解決方案對所有用來管理空間數據的應用都是有用的。<span>OGC</span>的網站是<span><a target="_top"  href="http://www.opengis.org/">http://www.opengis.org/</a></span>。</p>
		<p><span>1997</span>年，<span><span>OpenGIS</span>聯盟（<span>OGC</span>）發佈了</span><em><span>針對<span>SQL</span>的<span>OpenGISR</span>簡單特徵規範</span></em>，在該文檔中，提出了延伸<span>SQL 
		RDBMS</span>以支援空間數據的一些概念性方法。該規範可從<span>OpenGIS</span>網站上獲得<span><a target="_top"  href="http://www.opengis.org/docs/99-049.pdf">http://www.opengis.org/docs/99-049.pdf</a></span>。其中包含與本章有關的額外訊息。</p>
		<p><span>MySQL</span>實施了<span>OGC</span>建議的<strong><span>具有<span>Geometry</span>類型的<span>SQL</span></span></strong>環境的一個子集。該術語指的是用一組集合類型延伸的環境。具有幾何值的<span>SQL</span>列是作為擁有集合類型的列實施的。該規範描述了<span>SQL</span>幾何類型集合，以及作用在這些類型上用於建立和分析幾何值的函數。</p>
		<p><strong><span>地理特徵</span></strong>指的是世界上具有地理位置的任何事物。它可以是：</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>實體，如山、池溏、城市。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>空間，如郵政區域、熱帶。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>可定義的位置，如兩條街道相交的十字路口。</p>
		<p>有些檔案採用術語<strong><span>地理空間特徵</span></strong>來指代地理特徵。</p>
		<p><strong><span>幾何</span></strong>是另一個資料表示地理特徵的術語。最初，單詞<strong><span>幾何</span></strong>資料表示的是對大地的測量。來自製圖學的另一個含義指的是製圖人員用於繪製世界地圖的地理特徵。</p>
		<p>本章將所有這些術語當作同義詞對待：<strong><span>地理特徵、</span></strong><b>地理空間特徵</b><strong><span>、</span></strong><b>或幾何</b><strong><span>。最常使用的術語是</span><span>幾何</span><span>。</span></strong></p>
		<p>我們將<strong><span>幾何</span></strong>定義為世界上具有地理位置的點或點的集合。</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="opengis-geometry-model"></a>
		19.2.&nbsp;OpenGIS幾何模型</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-geometry-class-hierarchy">
			19.2.1. Geometry類的層次</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-geometry">
			19.2.2. 類Geometry</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-point">
			19.2.3. 類Point<code class="literal"></code></a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-curve">
			19.2.4. 類Curve<code class="literal"></code></a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-linestring">
			19.2.5. 類LineString</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-surface">
			19.2.6. 類Surface</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-polygon">
			19.2.7. 類Polygon</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-geometrycollection">
			19.2.8. 類GeometryCollection</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multipoint">
			19.2.9. 類MultiPoint</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multicurve">
			19.2.10. 類MultiCurve</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multilinestring">
			19.2.11. 類MultiLineString</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multisurface">
			19.2.12. 類MultiSurface</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-class-multipolygon">
			19.2.13. 類MultiPolygon</a></span></dt></dl></div>
		<p><span>OGC</span><strong><span>具有幾何類型的<span>SQL</span></span></strong>環境建議的幾何類型集合，基於<span>OpenGIS</span>幾何模型。在本模型中，每個幾何對像均具有下述一般屬性：</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>與空間參考系統相關，其中介紹了定義對象的坐標空間。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>屬於某種幾何類。</p>
		<div class="section">
			<div class="titlepage">
				<div>
					<div>
						<h3 class="title">
						<a name="gis-geometry-class-hierarchy"></a>
			19.2.1.&nbsp;Geometry類的層次</h3></div></div></div>
			<p>幾何類定義了下述層次：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Geometry</span>（非實例化）</p>
			<p>
			<span>
			o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
			</span><span>Point</span>（可實例化的）</p>
			<p>
			<span>
			o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
			</span><span>Curve</span>（非實例化）</p>
			<p >
			<span  >§<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			LineString</span>（可實例化的）</p>
			<p >
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Line</span><span>
			</span></p>
			<p >
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			LinearRing</span><span> </span></p>
			<p>
			<span>
			o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
			</span><span>Surface</span>（非實例化）</p>
			<p >
			<span  >§<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Polygon</span>（可實例化的）</p>
			<p>
			<span>
			o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
			</span><span>
			GeometryCollection</span>（可實例化的）</p>
			<p >
			<span  >§<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MultiPoint</span>（可實例化的）</p>
			<p >
			<span  >§<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MultiCurve</span>（非實例化）</p>
			<p >
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MultiLineString</span>（可實例化的）</p>
			<p >
			<span  >§<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MultiSurface</span>（非實例化）</p>
			<p >
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MultiPolygon</span>（可實例化的）</p>
			<p>不能在非實例化類中建立對象。能夠在可實例化類中建立對象。所有類均有屬性，可實例化類還可以包含聲明（定義有效類實例的規則）。</p>
			<p><span><span>Geometry</span>是一種基本類。</span>它是一種抽像類。<span><span>Geometry</span>的可實例化子類限制為可在<span>2</span>維坐標空間中存在的</span><span>0</span>、<span>1</span>、<span>2</span>維幾何對象。所有的可實例化幾何類是這樣定義的，從而使得幾何類的實例從拓撲意義上講是閉合的（也就是說，所有定義的幾何類包含其邊界）。</p>
			<p>基本<span><span>Geometry</span>類具有關於<span>Point</span></span>、<span>Curve</span>、<span>Surface</span>和<span>GeometryCollection</span>的子類：</p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Point</span>資料表示<span>0</span>維對象。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span><span>Curve</span>資料表示<span>1</span>維對像</span>，具有子類<span><span>LineString</span>，以及次級子類<span>Line</span></span>和<span>LinearRing</span>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Surface</span>是為<span>2</span>維對像設計的，具有子類<span>Polygon</span>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span><span>
			GeometryCollection</span>具有特殊的</span><span>0</span>維、<span>1</span>維和<span>2</span>維類集合，名為<span>MultiPoint</span>、<span>MultiLineString</span>和<span><span>MultiPolygon</span>，分別用於為對應的<span>Points</span></span>、<span>LineStrings</span>和<span><span>Polygons</span>集合進行幾何建模。<span>MultiCurve</span></span>和<span><span>MultiSurface</span>是作為抽像超類引入的，它們歸納了用於處理<span>Curves</span></span>和<span><span>Surfaces</span>的集合接口。</span></p>
			<p><span>Geometry</span>、<span>Curve</span>、<span>Surface</span>、<span>MultiCurve</span>和<span><span>MultiSurface</span>定義為非實例化類。它們為其子類定義了公用方法集合，而且是為延伸而包含在內的。</span></p>
			<p><span>Point</span>、<span>LineString</span>、<span>Polygon</span>、<span>GeometryCollection</span>、<span>MultiPoint</span>、<span>MultiLineString</span>和<span><span>MultiPolygon</span>定義為可實例化類。</span></p>
			<div class="titlepage">
				<div>
					<div>
						<h3 class="title"><a name="gis-class-geometry"></a>19.2.2.&nbsp;類Geometry</h3>
					</div></div></div>
			<p><span>Geometry</span>是層次結構的根類。它是一種非實例化類，但具有很多屬性，這些屬性對由任何<span><span>Geometry</span>子類建立的所有幾何值來說是共同的。下面介紹了這些屬性（尤其是具有自己特殊屬性的子類）。</span></p>
			<p><strong><span>Geometry</span><span>屬性</span></strong></p>
			<p><span>Geometry</span>值具有下述屬性：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>其<strong><span>type</span></strong>（類型）。每個<span>geometry</span>屬於層次結構中可實例化類之一。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>其<strong><span>SRID</span></strong>，或空間參考<span>ID</span>。該值確定了用於描述定義幾何對象的坐標空間的空間坐標系統。</p>
			<p>在<span>MySQL</span>中，<span>SRID</span>值僅是與<span>geometry</span>值相關的整數值。所有計算均是在歐幾里得幾何系（平面）中進行的。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>它在其空間坐標系統中的<strong><span>coordinates</span></strong>（坐標），資料表示為雙精度數值（<span>8</span>字節）。所有的非空幾何對像至少包含一對坐標（<span>X</span>、<span>Y</span>）。空幾何對像不含坐標。</p>
			<p>坐標與<span>SRID</span>相關。例如，在不同的坐標系內，兩個對像之間的距離會有所不同，即使這兩個對像具有相同的坐標也同樣。這是因為，平面坐標系中的距離和地心坐標系（地球表面上的坐標）中的距離是不同的事項。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>其<strong><span>interior</span></strong>（內部）、<strong><span>boundary</span></strong>（邊界）和<strong><span>exterior</span></strong>（外部）。</p>
			<p>每個幾何對像均佔據空間中的某一位置。幾何對象的<span>exterior</span>（外部）指的是未被該對像佔據的所有空間。其<span>interior</span>（內部）指的是被該對像佔據的空間。其<span>boundary</span>（邊界）指的是幾何對像內部和外部之間的界面。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>其<strong><span>MBR</span></strong>（最小邊界矩形）或包絡面。這是一種邊界幾何值，由最小和最大坐標（<span>X,Y</span>）構成。</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>((MINX MINY, MAXX MINY, MAXX MAXY, MINX MAXY, MINX MINY))</span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>無論值是<strong><span>簡單的</span></strong>或<strong><span>非簡單的</span></strong>。類型（<span>LineString</span>、<span>MultiPoint</span>、<span>MultiLineString</span>）的幾何值或是簡單的，或是非簡單的。每個類型決定了其自己的簡單或非簡單聲明。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>無論值是<strong><span>封閉的</span></strong>或<strong><span>非封閉的</span></strong>。類型（<span>LineString</span>、<span>MultiPoint</span>）的幾何值或是封閉的，或是非封閉的。每個類型決定了其自己的封閉或非封閉聲明。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>無論值是<strong><span>空的</span></strong>或<strong><span>非空的</span></strong>。如果沒有任何點，幾何對象是空的。空幾何對象的內部、外部和邊界未定義（也就是說，它們由<span>Null</span>值資料表示）。空的幾何對像定義為總是簡單的，面積為<span>0</span>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>其<strong><span>dimension</span></strong>（維數）。幾何對象的維數為<span  >−</span><span>1</span>、<span>0</span>、<span>1</span>或<span>2</span>：</p>
			<p>
			<span>
			o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
			</span><span  >−</span><span>1</span>用於空幾何對象。</p>
			<p>
			<span>
			o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
			</span><span>0</span>用於無長度、無面積的幾何對象。</p>
			<p>
			<span>
			o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
			</span><span>1</span>用於具有非<span>0</span>長度和<span>0</span>面積的幾何對象。</p>
			<p>
			<span>
			o<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
			</span><span>2</span>用於具有非<span>0</span>面積的幾何對象。</p>
			<p><span>
			<span>Point</span>對象的維數為<span>0</span>。<span>LineString</span>對象的維數為</span><span>1</span>。<span><span>Polygon</span>對象的維數為<span>2</span>。<span>MultiPoint</span>、<span>MultiLineString</span></span>和<span><span>MultiPolygon</span>對象的維數與構成它們的元素的維數相同。</span></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gis-class-point"></a>
			19.2.3.&nbsp;類Point<code class="literal"></code></h3></div></div></div>
			<p><span><span>Point</span>（點）指的是代資料表坐標空間中單個位置的幾何類。</span></p>
			<p><span><b><span>Point</span></b></span><strong><span>示範</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>想像一張具有眾多城市的大世界地圖。每個<span><span>Point</span>對象可代資料表<span>1</span>個城市。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在城市地圖上，<span><span>Point</span>對象可代資料表<span>1</span>個公共汽車站。</span></p>
			<p><span><b><span>Point</span></b></span><strong><span>屬性</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>X-</span>坐標值。 </p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Y-</span>坐標值。 </p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Point</span>定義為<span>0</span>維幾何對象。</p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Point</span>的邊界為空集合。</span></p>
			<div class="titlepage">
				<div>
					<div>
						<h3 class="title"><a name="gis-class-curve"></a>19.2.4.&nbsp;類Curve<code class="literal"></code></h3>
					</div></div></div>
			<p><span><span>Curve</span>（曲線）是一種<span>1</span>維</span>幾何對象，通常由一系列點資料表示。<span>Curve</span>的特殊子類定義了點之間的內插類型。<span>Curve</span>是一種非實例化類。</p>
			<p><span><b><span>Curve</span></b></span><strong><span>屬性</span></strong></p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Curve</span>具有其點的坐標。</span></p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Curve</span>定義為<span>1</span>維幾何對象。</span></p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>如果未通過相同的點兩次，<span>Curve</span>就是簡單的。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>如果其起點等於其終點，<span><span>Curve</span>就是封閉的。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>封閉<span><span>Curve</span>的邊界為空。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>非封閉<span><span>Curve</span>的邊界由其兩個端點構成。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>簡單且封閉的<span>Curve</span>是<span>LinearRing</span>。</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gis-class-linestring"></a>
			19.2.5.&nbsp;類LineString</h3></div></div></div>
			<p><span><span>LineString</span>是具有點之間線性內插特性的<span>Curve</span>。</span></p>
			<p><span><b><span>LineString</span></b></span><strong><span>示範</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在世界地圖上，<span>LineString</span>對象可資料表示河流。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在城市地圖上，<span><span>LineString</span>對象可資料表示街道。</span></p>
			<p><span><b><span>LineString</span></b></span><strong><span>屬性</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			LineString</span>具有線段的坐標，由每個連續的點對（兩點）定義。</p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>如果僅包含兩點，<span>LineString</span>為<span>Line</span>。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>如果它既是簡單的也是封閉的，<span><span>LineString</span>為<span>LinearRing</span>。</span></p>
			<div class="titlepage">
				<div>
					<div>
						<h3 class="title"><a name="gis-class-surface"></a>19.2.6.&nbsp;類Surface</h3>
					</div></div></div>
			<p><span><span>Surface</span>是一種<span>2</span>維幾何對像</span>。它是一種非實例化類。其唯一的可實例化子類是<span>Polygon</span><span>.
			</span></p>
			<p><span><b><span>Surface</span></b></span><strong><span>屬性</span></strong></p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Surface</span>定義為<span>2</span>維幾何對象。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在<span>OpenGIS</span>規範中，將簡單的<span><span>Surface</span>定義為由單一</span>「<span class="quote"><span>patch</span></span>」構成的幾何對象，它與單個外部邊界以及<span>0</span>或多個內部邊界有關。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>簡單<span><span>Surface</span>的邊界是一組與其內部和外部邊界對應的封閉曲線的集合。</span></p>
			<div class="titlepage">
				<div>
					<div>
						<h3 class="title"><a name="gis-class-polygon"></a>19.2.7.&nbsp;類Polygon</h3>
					</div></div></div>
			<p><span><span>Polygon</span>是代資料表多邊幾何對象的</span>平面<span><span>Surface</span>。它由</span>單個外部邊界以及<span>0</span>或多個內部邊界定義，其中，每個內部邊界定義為<span>Polygon</span>中的<span>1</span>個孔。</p>
			<p><span><b><span>Polygon</span></b></span><strong><span>示範</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在地區地圖上，<span>Polygon</span>對象可資料表示森林、區等。</p>
			<p><span><b><span>Polygon</span></b></span><strong><span>聲明</span></strong></p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Polygon</span>的邊界</span>由一組構成其外部邊界和比內部邊界的<span>LinearRing</span>歸向集合構成（即，簡單且封閉的<span><span>LineString</span>對像）。</span></p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Polygon</span>沒有交叉的環。<span>Polygon</span>邊界中的環可能會在<span>Point</span>處相交，但僅以切線方式相交。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span><span>Polygon</span>沒有</span>線、尖峰或穿孔。</p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Polygon</span>有由連接點集合構成的內部。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span><span>Polygon</span>可能包含孔。對於具有孔的</span><span>Polygon</span>，其外部不連接。每個孔定義了連接的外部部件。</p>
			<p>前述聲明使得<span><span>Polygon</span>成為簡單的幾何對象。</span></p>
			<div class="titlepage">
				<div>
					<div>
						<h3 class="title">
						<a name="gis-class-geometrycollection"></a>19.2.8.&nbsp;類GeometryCollection</h3>
					</div></div></div></div><div class="section"><div class="titlepage"><div><div>
			<span><span>GeometryCollection</span>是由<span>1</span>個或多個任意類幾何對像構成的幾何對象。</span><p>
			<span><span>GeometryCollection</span>中的所有元素必須具有相同的空間參考系</span>（即相同的坐標系）。對<span><span>GeometryCollection</span>的元素無任何限制，但下面介紹的<span>GeometryCollection</span>的子類會限制其成員。這類限制可能基於：</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>元素類型（例如，<span><span>MultiPoint</span>可能僅包含<span>Point</span>元素）。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>維數。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>對元素間空間交迭程度的限制。</p>
			<h3 class="title"><a name="gis-class-multipoint"></a>
			19.2.9.&nbsp;類MultiPoint</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			<span><span>MultiPoint</span>是一種由<span>Point</span>元素構成的幾何對像集合。這些點</span>未以任何方式連接或排序。<p>
			<span><b><span>MultiPoint</span></b></span><strong><span>示範</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在世界地圖上，<span><span>MultiPoint</span>可以代資料表島鏈。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在城市地圖上，<span><span>MultiPoint</span>可以資料表示售票處的出口。</span></p>
			<p><span><b><span>MultiPoint</span></b></span><strong><span>屬性</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MultiPoint</span>是<span>0</span>維幾何對象。</p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>如果沒有兩個<span>Point</span>是相同的（具有等同的坐標值），<span>MultiPoint</span>是簡單的。</span></p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>MultiPoint</span>的邊界為空集合。</span></p>
			<h3 class="title"><a name="gis-class-multicurve"></a>
			19.2.10.&nbsp;類MultiCurve</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			<span><span>MultiCurve</span>是一種由<span>Curve</span>元素構成的幾何對像集合。<span>MultiCurve</span></span>是一種非實例化類。<p>
			<span><b><span>MultiCurve</span></b></span><strong><span>屬性</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MultiCurve</span>是<span>1</span>維幾何對象。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>當且僅當其所有元素均是簡單的時，<span>MultiCurve</span>才是簡單的。</span>任意兩元素的唯一交叉僅出現在兩元素邊界的點上。</p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>MultiCurve</span></span>邊界是通過採用「模<span>2</span>聯合規則」（也稱為奇偶規則）獲得的：如果某一點位於奇數編號<span><span>MultiCurve</span>元素的邊界內，它將位於<span>MultiCurve</span>的邊界內。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>如果其所有元素均是封閉的，則<span><span>MultiCurve</span>為封閉的。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>封閉<span><span>MultiCurve</span>的邊界總為空。</span></p>
			<h3 class="title"><a name="gis-class-multilinestring"></a>
			19.2.11.&nbsp;類MultiLineString</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			<span><span>MultiLineString</span>是一種由</span>
			<span><span>LineString</span>元素構成的<span>MultiCurve</span>幾何對像集合。</span><p>
			<span><b><span>MultiLineString</span></b></span><strong><span>示範</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>在地區地圖上，<span><span>MultiLineString</span>可資料表示河流體系或高速路系統。</span></p>
			<h3 class="title"><a name="gis-class-multisurface"></a>
			19.2.12.&nbsp;類MultiSurface</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			<span><span>MultiSurface</span>是一種由<span>Surface</span>元素構成的幾何對像集合。<span>MultiSurface</span></span>是一種非實例化類。其唯一的可實例化子類是<span>MultiPolygon</span>。<p>
			<span><b><span>MultiSurface</span></b></span><strong><span>聲明</span></strong></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>2</span>個<span><span>MultiSurface</span>面沒有相交的內部。</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>2</span>個<span>MultiSurface</span>元素具有最多在有限點上相交的邊界。</p>
			<h3 class="title"><a name="gis-class-multipolygon"></a>
			19.2.13.&nbsp;類MultiPolygon</h3></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
		<span><span>MultiPolygon</span>是一種由<span>Polygon</span>元素構成的幾何對像集合。</span><p>
		<span><b><span>MultiPolygon</span></b></span><strong><span>示範</span></strong></p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>在地區地圖上，<span>MultiPolygon</span>可資料表示湖泊系統。</p>
		<p><span><b><span>MultiPolygon</span></b></span><strong><span>聲明</span></strong></p>
		<p>
		<span>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span>MultiPolygon</span></span>沒有內部相交的的<span>2</span>個<span><span>Polygon</span>元素。</span></p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span>MultiPolygon</span>沒有<span>2</span>個交叉的<span><span>Polygon</span>元素</span>（前述聲明也禁止交叉），也沒有在無數點處相接觸的<span>2</span>個<span>Polugon</span>元素。</p>
		<p>
		<span>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span>MultiPolygon</span>不能含有有中斷的線、尖峰或穿孔。<span>MultiPolygon</span>是一種正常的封閉點集合。</span></p>
		<p>
		<span>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>對於有<span>1</span>個以上<span>Polygon</span>元素的<span>MultiPolygon</span>，</span>具有不連接的內部。<span><span>MultiPolygon</span>內部已連接部件的數目等於<span>MultiPolygon</span>中<span>Polygon</span>值的數目。</span></p>
		<p><span><b><span>MultiPolygon</span></b></span><strong><span>屬性</span></strong></p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span>MultiPolygon</span>是<span>2</span>維幾何對象。</p>
		<p>
		<span>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span>MultiPolygon</span>邊界是與其<span>Polygon</span>元素的邊界對應的封閉曲線集合</span>（<span><span>LineString</span>值）。</span></p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span><span>MultiPolygon</span>邊界中的每個<span>Curve</span></span>準確位於<span>1</span>個<span>Polygon</span>元素的邊界內。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span>Polygon</span>元素邊界中的每個<span>Curve</span>位於<span>MultiPolygon</span>的邊界中。</p>
		<h2 class="title"><a name="supported-spatial-data-formats"></a>
		19.3.&nbsp;支援的空間數據格式</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-wkt-format">
			19.3.1. 著名的文本(WKT)格式</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-wkb-format">
			19.3.2. 著名的二進制(WKB)格式</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
			在本節中，介紹了用於資料表示查詢中幾何對象的標準空間數據格式。它們是：<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>著名的文本<span>(WKT)</span>格式 </p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>著名的二進制<span>(WKB)</span>格式 </p>
			<p>從其內部看，<span>MySQL</span>以不完全等同於<span>WKT</span>或<span>WKB</span>的格式保存幾何對像值。</p>
			<h3 class="title"><a name="gis-wkt-format"></a>
			19.3.1.&nbsp;著名的文本(WKT)格式</h3></div></div></div><a class="indexterm" name="id2984178"></a><a class="indexterm" name="id2984185"></a></div><div class="section"><div class="titlepage"><div><div>
			對於<span>Geometry</span>的著名文本（<span>WKT</span>）資料表示，它是為與採用<span>ASCII</span>格式的幾何數據進行交換而設計的。<p>
			幾何對像<span>WKT</span>資料表示的示範：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>Point</span>：</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>POINT(15 20)</span></pre>
			<p>注意，指定點坐標時不使用分隔用逗號。</p>
			<p>
			<span>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>具有<span>4</span>個點的<span>LineString</span>：</span></p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>LINESTRING(0 0, 10 10, 20 25, 50 60)</span></pre>
			<p>注意，點坐標對採用逗號隔開。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>具有<span>1</span>個外部環和<span>1</span>個內部環的<span>Polygon</span>：</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7, 5 5))</span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>具有三個<span>Point</span>值的<span><span>MultiPoint</span>：</span></p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>MULTIPOINT(0 0, 20 20, 60 60)</span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>具有<span>2</span>個<span><span>LineString</span>值的<span>MultiLineString</span>：</span></p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>MULTILINESTRING((10 10, 20 20), (15 15, 30 15))</span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>具有<span>2</span>個<span><span>Polygon</span>值的<span>MultiPolygon</span>：</span></p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)),((5 5,7 5,7 7,5 7, 5 5)))</span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>由<span>2</span>個<span>Point</span>值和<span>1</span>個<span><span>LineString</span>構成的<span>GeometryCollection</span></span>：</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30), LINESTRING(15 15, 20 20))</span></pre>
			<p>在本章開始處給出的<span>OGC</span>規範文檔中，可找到相應的<span>Backus-Naur</span>語法，它指定了用於編寫<span>WKT</span>值的正式生產規則。</p>
			<h3 class="title"><a name="gis-wkb-format"></a>
			19.3.2.&nbsp;著名的二進制(WKB)格式</h3></div></div></div><a class="indexterm" name="id2984413"></a><a class="indexterm" name="id2984419"></a></div></div><div class="section"><div class="titlepage"><div><div>
		用於幾何值的著名二進制（<span>WKB</span>）資料表示是由<span>OpenGIS</span>規範定義的。它還定義在<span>ISO
		</span>「<span class="quote"><span>SQL/MM Part 3: Spatial</span></span>」標準中。<p>
		<span>WKB</span>用於以二進制流的形式交換幾何數據，二進制流由含幾何<span>WKB</span>訊息的<span>BLOB</span>值資料表示。</p>
		<p><span>WKB</span>使用<span>1</span>字節無符號整數、<span>4</span>字節無符號整數、以及<span>8</span>字節雙精度數（<span>IEEE 
		754</span>格式）。<span>1</span>字節等於<span>8</span>比特。</p>
		<p>例如，與<span><span>POINT(1 1)</span>對應的</span><span>WKB</span>值由下述<span>21</span>字節序列構成（在此，每個字節由<span>2</span>個十六進制數值資料表示）：</p>
		<pre><span>0101000000000000000000F03F000000000000F03F</span></pre>
		<p>該序列可分為下述部分：</p>
		<pre><span>Byte order : 01</span></pre>
		<pre><span>WKB type&nbsp;&nbsp; : 01000000</span></pre>
		<pre><span>X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 000000000000F03F</span></pre>
		<pre><span>Y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 000000000000F03F</span></pre>
		<p>資料表示如下：</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>字節順序（<span>Byte order</span>）可以是<span>0</span>或<span>1</span>，分別表明<span>little-endian</span>或<span>big-endian</span>儲存。<span>little-endian</span>和<span>big-endian</span>字節順序也分別稱為網絡數據資料表示（<span>NDR</span>）和外部數據資料表示（<span>XDR</span>）。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span>「<span>WKB type</span>」（<span>WKB</span>類型）是指明幾何類型的代碼。取值從<span>1</span>到<span>7</span>，分別資料表示<span>Point</span>、<span>LineString</span>、<span>Polygon</span>、<span>MultiPoint</span>、<span>MultiLineString</span>、<span>MultiPolygon</span>、和<span>GeometryCollection</span>。</p>
		<p>
		<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span><span><span>Point</span>值具有</span><span>X</span>和<span>Y</span>坐標，每個值均用雙精度值資料表示。</p>
		<p>對於更複雜幾何值的<span>WKB</span>值，它們是由更複雜的數據結構資料表示的，詳情請參見<span>OpenGIS</span>規範。</p>
		<h2 class="title"><a name="creating-a-spatially-enabled-mysql-database"></a>
		19.4.&nbsp;建立具備空間功能的MySQL資料庫</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#mysql-spatial-datatypes">
			19.4.1. MySQL空間數據類型</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#creating-spatial-values">
			19.4.2. 建立空間值</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#creating-spatial-columns">
			19.4.3. 建立空間列</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#populating-spatial-columns">
			19.4.4. 填充空間列</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#fetching-spatial-data">
			19.4.5. 獲取空間數據</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
			本節介紹了可用於資料表示<span>MySQL</span>中空間數據的數據類型，以及用於建立和檢索空間值的函數。<h3 class="title"><a name="mysql-spatial-datatypes"></a>
			19.4.1.&nbsp;MySQL空間數據類型</h3></div></div></div><a class="indexterm" name="id2984595"></a><a class="indexterm" name="id2984604"></a><a class="indexterm" name="id2984614"></a><a class="indexterm" name="id2984623"></a><a class="indexterm" name="id2984632"></a><a class="indexterm" name="id2984641"></a><a class="indexterm" name="id2984650"></a><a class="indexterm" name="id2984659"></a><a class="indexterm" name="id2984669"></a><a class="indexterm" name="id2984681"></a><a class="indexterm" name="id2984694"></a><a class="indexterm" name="id2984706"></a><a class="indexterm" name="id2984718"></a><a class="indexterm" name="id2984731"></a><a class="indexterm" name="id2984743"></a><a class="indexterm" name="id2984756"></a></div><div class="section"><div class="titlepage"><div><div>
			<span>MySQL</span>具有與<span>OpenGIS</span>類對應的數據類型。某些類型只能保存單個幾何值：<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>GEOMETRY</span><span>
			</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>POINT</span><span>
			</span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			LINESTRING</span><span> </span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>POLYGON</span><span>
			</span></p>
			<p><span>GEOMETRY</span>能夠保存任何類型的幾何值。其他的單值類型<span><span>POINT</span>、<span>LINESTRING</span></span>以及<span><span>POLYGON</span>只能保存特定幾何類型的</span>值。</p>
			<p>其他數據類型能保存多個值：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MULTIPOINT</span><span> </span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MULTILINESTRING</span><span> </span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			MULTIPOLYGON</span><span> </span></p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>
			GEOMETRYCOLLECTION</span><span> </span></p>
			<p><span>GEOMETRYCOLLECTION</span>能保存任意類型的對象集合。對於其他集合類型，<span>MULTIPOINT</span>、<span>MULTILINESTRING</span>、<span>MULTIPOLYGON</span>和<span>GEOMETRYCOLLECTION</span>，僅限於具有特定幾何類型的集合成員。</p>
			<h3 class="title"><a name="creating-spatial-values"></a>
			19.4.2.&nbsp;建立空間值</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-wkt-functions">
				19.4.2.1. 使用WKT函數建立Geometry（幾何）值</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-wkb-functions">
				19.4.2.2. 使用WKB函數建立Geometry（幾何）值</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-mysql-specific-functions">
				19.4.2.3. 使用MySQL函數建立幾何值</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				在本節中，介紹了使用<span>OpenGIS</span>標準中定義的<span>WKT</span>和<span>WKB</span>函數建立空間值的方法，以及使用相應<span>MySQL</span>函數的方法。<h4 class="title"><a name="gis-wkt-functions"></a>
				19.4.2.1.&nbsp;使用WKT函數建立Geometry（幾何）值</h4></div></div></div><p>
          <span >
			MySQL</span><span>提供了眾多以<span>WKT</span>資料表達式、以及可選的空間參考系<span>ID</span>（<span>SRID</span>）為輸入參數的函數。它們將返回對應的幾何對象。</span></p>
				<p>
			<span>GeomFromText()</span><span>接受任何幾何類型的<span>WKT</span>作為其第<span>1</span>個參量。在實施方案中也提供了與類型相關的構造函數，用於構造每一種幾何類型的幾何值。</span></p>
				<div class="itemizedlist">
					<ul type="disc">
						<li>
						<p>
              <a class="indexterm" name="id2984990"></a>

              <a class="indexterm" name="id2984999"></a>

              GeomCollFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
              ,
              GeometryCollectionFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKT</span>資料表示和<span>SRID</span>構造<span><span>GEOMETRYCOLLECTION</span>值。</span></span>
            </p></li><li><p>
              <a class="indexterm" name="id2985068"></a>

              <a class="indexterm" name="id2985077"></a>

              GeomFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
              ,
              GeometryFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKT</span>資料表示和<span>SRID</span>構造<span>任何類型的幾何值。</span></span>
            </p></li><li><p>
              <a class="indexterm" name="id2985142"></a>

              <a class="indexterm" name="id2985151"></a>

              LineFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
              ,
              LineStringFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKT</span>資料表示和<span>SRID</span>構造<span><span>LINESTRING</span>值。</span></span>
            </p></li><li><p>
              <a class="indexterm" name="id2985219"></a>

              <a class="indexterm" name="id2985228"></a>

              MLineFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
              ,
              MultiLineStringFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKT</span>資料表示和<span>SRID</span>構造<span><span>MULTILINESTRING</span>值。</span></span>
            </p></li><li><p>
              <a class="indexterm" name="id2985296"></a>

              <a class="indexterm" name="id2985305"></a>

              MPointFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
              ,
              MultiPointFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKT</span>資料表示和<span>SRID</span>構造<span><span>MULTIPOINT</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2985373"></a>

              <a class="indexterm" name="id2985382"></a>

              MPolyFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
              ,
              MultiPolygonFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKT</span>資料表示和<span>SRID</span>構造<span><span>MULTIPOLYGON</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2985444"></a>

              PointFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKT</span>資料表示和<span>SRID</span>構造<span><span>POINT</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2985501"></a>

              <a class="indexterm" name="id2985510"></a>

              PolyFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
              ,
              PolygonFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKT</span>資料表示和<span>SRID</span>構造<span><span>POLYGON</span>值。</span></span></p></li></ul></div>
				<p><span>OpenGIS</span>規範還介紹了用於構造<span>Polygon</span>或<span><span>MultiPolygon</span>值的可選函數，這些值基於環和封閉<span>LineString</span>值集合的</span><span>WKT</span>資料表達式。這些值可以相交。<span>MySQL</span>未實施下述函數：</p>
				<div class="itemizedlist">
					<ul type="disc">
						<li>
						<p>
              <a class="indexterm" name="id2985583"></a>

              BdMPolyFromText(<em class="replaceable">wkt</em>,<em class="replaceable">srid</em>)
            </p><p>
              <span>
				以包含已關閉<span><span>LineString</span>值任意集合的<span>WKT</span>格式，從<span>MultiLineString</span>值構造<span>MultiPolygon</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2985626"></a>

              BdPolyFromText(<em class="replaceable">wkt</em>,<em class="replaceable">srid</em>)
            </p><p>
              <span>
				以包含已關閉<span><span>LineString</span>值任意集合的<span>WKT</span>格式，從<span>MultiLineString</span>值構造<span>Polygon</span>值。</span></span></p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="gis-wkb-functions"></a>
				19.4.2.2.&nbsp;使用WKB函數建立Geometry（幾何）值</h4></div></div></div>
				<p><span>MySQL</span>提供了眾多函數，它們將包含<span>WKT</span>資料表達式、或可選的空間參考系統<span>ID</span>（<span>SRID</span>）的<span>BLOB</span>作為輸入參數。它們返回對應的幾何對象。 
				</p>
				<span>
				GeomFromWKB()</span><span>接受任何幾何類型的<span>WKB</span>作為其第<span>1</span>個參量。在實施方案中也提供了與類型相關的構造函數，用於構造每一種幾何類型的幾何值。</span><div class="itemizedlist">
					<ul type="disc">
						<li>
						<p>
              <a class="indexterm" name="id2985732"></a>

              <a class="indexterm" name="id2985741"></a>

              GeomCollFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
              ,
              GeometryCollectionFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKB</span>資料表示和<span>SRID</span>構造<span><span>GEOMETRYCOLLECTION</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2985809"></a>

              <a class="indexterm" name="id2985818"></a>

              GeomFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
              ,
              GeometryFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKB</span>資料表示和<span>SRID</span>構造<span>任意類型的幾何值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2985883"></a>

              <a class="indexterm" name="id2985892"></a>

              LineFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
              ,
              LineStringFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKB</span>資料表示和<span>SRID</span>構造<span><span>LINESTRING</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2985960"></a>

              <a class="indexterm" name="id2985969"></a>

              MLineFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
              ,
              MultiLineStringFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKB</span>資料表示和<span>SRID</span>構造<span><span>MULTILINESTRING</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2986037"></a>

              <a class="indexterm" name="id2986046"></a>

              MPointFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
              ,
              MultiPointFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKB</span>資料表示和<span>SRID</span>構造<span><span>MULTIPOINT</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2986114"></a>

              <a class="indexterm" name="id2986124"></a>

              MPolyFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
              ,
              MultiPolygonFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKB</span>資料表示和<span>SRID</span>構造<span><span>MULTIPOLYGON</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2986192"></a>

              PointFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKB</span>資料表示和<span>SRID</span>構造<span><span>POINT</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2986249"></a>

              <a class="indexterm" name="id2986258"></a>

              PolyFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
              ,
              PolygonFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
            </p><p>
              <span>使用其<span>WKB</span>資料表示和<span>SRID</span>構造<span><span>POLYGON</span>值。</span></span></p></li></ul></div><p>
          <span >
			OpenGIS</span><span>規範還介紹了用於構造<span>Polygon</span>或<span><span>MultiPolygon</span>值的可選函數，這些值基於環和封閉<span>LineString</span>值集合的</span><span>WKB</span>資料表達式。這些值可以相交。<span>MySQL</span>未實施下述函數：</span></p><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2986330"></a>

              BdMPolyFromWKB(<em class="replaceable">wkb</em>,<em class="replaceable">srid</em>)
            </p><p>
              <span>
				以包含已關閉<span><span>LineString</span>值任意集合的<span>WKB</span>格式，從<span>MultiLineString</span>值構造<span>MultiPolygon</span>值。</span></span></p></li><li><p>
              <a class="indexterm" name="id2986373"></a>

              BdPolyFromWKB(<em class="replaceable">wkb</em>,<em class="replaceable">srid</em>)
            </p><p>
              <span>
				以包含已關閉<span><span>LineString</span>值任意集合的<span>WKB</span>格式，從<span>MultiLineString</span>值構造<span>Polygon</span>值。</span></span></p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="gis-mysql-specific-functions"></a>
				19.4.2.3.&nbsp;使用MySQL函數建立幾何值</h4></div></div></div>
				<p><strong><span>註釋：</span></strong><span>MySQL</span>未實施本節所列的函數。</p>
				<span >
				MySQL</span><span>為建立幾何<span>WKB</span>資料表達式提供了有用的函數集合。本節介紹的函數是對<span>OpenGIS</span>規範的<span>MySQL</span>延伸。這些函數的結果是包含幾何值（無<span>SRID</span>）的<span>BLOB</span>值。這些函數的結果可被<span><span>GeomFromWKB()</span>函數系列中任意函數的第<span>1</span>個參量取代。</span></span><div class="itemizedlist">
					<ul type="disc">
						<li>
						<p>
              <a class="indexterm" name="id2986480"></a>

              GeometryCollection(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>,...)
            </p><p>
              <span>構造<span>WKB
				<span>GeometryCollection</span></span>。如果任何參量不是構造良好的幾何對像<span>WKB</span>資料表達式，返回值為<span>NULL</span>。</span></p></li><li><p>
              <a class="indexterm" name="id2986536"></a>

              LineString(<em class="replaceable">pt1</em>,<em class="replaceable">pt2</em>,...)
            </p><p>
              <span>從多個<span>WKB 
				Point</span>參量構造<span>WKB
				<span>LineString</span></span><span>值</span>。如果任何參量不是<span>WKB
				<span>Point</span></span>，返回值為<span>NULL</span>。如果<span><span>Point</span>參量的數目小於<span>2</span></span>，返回值為<span>NULL</span>。</span></p></li><li><p>
              <a class="indexterm" name="id2986608"></a>

              MultiLineString(<em class="replaceable">ls1</em>,<em class="replaceable">ls2</em>,...)
            </p><p>
              <span>使用<span>WKB
				<span>LineString</span></span><span>參量構造</span><span>WKB
				<span>MultiLineString</span></span><span>值</span>。如果任何參量不是<span>WKB
				<span>LineString</span></span>，返回值為<span>NULL</span>。</span></p></li><li><p>
              <a class="indexterm" name="id2986671"></a>

              MultiPoint(<em class="replaceable">pt1</em>,<em class="replaceable">pt2</em>,...)
            </p><p>
              <span>使用<span>WKB
				<span>Point</span></span><span>參量構造</span><span>WKB
				<span>MultiPoint</span></span>值。如果任何參量不是<span>WKB
				<span>Point</span></span>，返回值為<span>NULL</span>。</span></p></li><li><p>
              <a class="indexterm" name="id2986734"></a>

              MultiPolygon(<em class="replaceable">poly1</em>,<em class="replaceable">poly2</em>,...)
            </p><p>
              <span>從一組<span>WKB
				<span>Polygon</span></span><span>參量構造</span><span>WKB
				<span>MultiPolygon</span></span>值。如果任何參量不是<span>WKB
				<span>Polygon</span></span>，返回值為<span>NULL</span>。</span></p></li><li><p>
              <a class="indexterm" name="id2986797"></a>

              Point(<em class="replaceable">x</em>,<em class="replaceable">y</em>)
            </p><p>
              <span>
				使用其坐標構造<span>WKB <span>Point</span></span><span>。</span></span></p></li><li><p>
              <a class="indexterm" name="id2986846"></a>

              Polygon(<em class="replaceable">ls1</em>,<em class="replaceable">ls2</em>,...)
            </p><p>
              <span>從多個<span>WKB
				<span>LineString</span></span><span>參量構造</span><span>WKB
				<span>Polygon</span></span>值。如果任何參量未資料表示為<span><span>LinearRing</span>的<span>WKB</span>形式（即，非封閉和簡單<span>LineString</span>）</span>，返回值為<span>NULL</span>。</span></p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="creating-spatial-columns"></a>
			19.4.3.&nbsp;建立空間列</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			<span>MySQL</span>提供了為幾何類型建立空間列的標準方法，例如，使用<span>CREATE 
			TABLE</span>或<span><span>ALTER 
			TABLE</span>。目前，僅對<span>MyISAM</span>標支援空間列。</span><p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>使用<span><span>CREATE 
			TABLE</span>語句建立具有空間列的資料表：</span></p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; <span><b>CREATE TABLE geom (g GEOMETRY);</b></span></span></pre>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>Query OK, 0 rows affected (0.02 sec)</span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>使用<span><span>ALTER 
			TABLE</span>語句在已有資料表中增加空間列，或將空間列從已有資料表中刪除：</span></p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; <span><b>ALTER TABLE geom ADD pt POINT;</b></span></span></pre>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>Query OK, 0 rows affected (0.00 sec)</span></pre>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>Records: 0&nbsp; Duplicates: 0&nbsp; Warnings: 0</span></pre>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; <span><b>ALTER TABLE geom DROP pt;</b></span></span></pre>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>Query OK, 0 rows affected (0.00 sec)</span></pre>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>Records: 0&nbsp; Duplicates: 0&nbsp; Warnings: 0</span></pre>
			<h3 class="title"><a name="populating-spatial-columns"></a>
			19.4.4.&nbsp;填充空間列</h3></div></div></div>
			<p>建立了空間列後，可用空間數據填充它們。</p>
			<p>值應以內部幾何格式保存，但您也能將其從<span>WKT</span>或<span>WKB</span>格式轉換為內部幾何格式。在下面的示範中，介紹了通過將<span>WKT</span>值轉換為內部幾何格式以便將幾何值插入資料表中的方法。</p>
			<p>您可以在<span><span>INSERT</span>語句中執行直接轉換操作：</span></p>
			<pre><span>INSERT INTO geom VALUES (GeomFromText(&#39;POINT(1 1)&#39;));</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SET @g = &#39;POINT(1 1)&#39;;</span></pre>
			<pre><span>INSERT INTO geom VALUES (GeomFromText(@g));</span></pre>
			<p>也可以在<span><span>INSERT</span>之前執行轉換操作：</span></p>
			<pre><span>SET @g = GeomFromText(&#39;POINT(1 1)&#39;);</span></pre>
			<pre><span>INSERT INTO geom VALUES (@g);</span></pre>
			<p>在下面的示範中，將多個複雜的幾何值插入到了資料表中：</p>
			<pre><span>SET @g = &#39;LINESTRING(0 0,1 1,2 2)&#39;;</span></pre>
			<pre><span>INSERT INTO geom VALUES (GeomFromText(@g));</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SET @g = &#39;POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7, 5 5))&#39;;</span></pre>
			<pre><span>INSERT INTO geom VALUES (GeomFromText(@g));</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SET @g =</span></pre>
			<pre><span>&#39;GEOMETRYCOLLECTION(POINT(1 1),LINESTRING(0 0,1 1,2 2,3 3,4 4))&#39;;</span></pre>
			<pre><span>INSERT INTO geom VALUES (GeomFromText(@g));</span></pre>
			<p>在前面的所有示範中，均採用了<span><span>GeomFromText()</span>來建立幾何值。您也可以使用與類型相關的函數：</span></p>
			<pre><span>SET @g = &#39;POINT(1 1)&#39;;</span></pre>
			<pre><span>INSERT INTO geom VALUES (PointFromText(@g));</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SET @g = &#39;LINESTRING(0 0,1 1,2 2)&#39;;</span></pre>
			<pre><span>INSERT INTO geom VALUES (LineStringFromText(@g));</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SET @g = &#39;POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7, 5 5))&#39;;</span></pre>
			<pre><span>INSERT INTO geom VALUES (PolygonFromText(@g));</span></pre>
			<pre><span>&nbsp;</span></pre>
			<pre><span>SET @g =</span></pre>
			<pre><span>&#39;GEOMETRYCOLLECTION(POINT(1 1),LINESTRING(0 0,1 1,2 2,3 3,4 4))&#39;;</span></pre>
			<pre><span>INSERT INTO geom VALUES (GeomCollFromText(@g));</span></pre>
			<p>注意，如果客戶端應用程式打算使用幾何值的<span>WKB</span>資料表示，它需要在隊列中將正確構造的<span>WKB</span>發送至伺服器。但是，存在數種滿足該要求的方法。例如：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>用十六進制文字語法插入<span><span>POINT(1 
			1)</span>值：</span></p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; <span><b>INSERT INTO geom VALUES</b></span></span></pre>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span><b>(GeomFromWKB(0x0101000000000000000000F03F000000000000F03F));</b></span></span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span><span>ODBC</span>應用程式能夠發送<span>WKB</span>資料表達式，並使用具有<span>BLOB</span>類型的參量將其綁定到佔位符：</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>INSERT INTO geom VALUES (GeomFromWKB(?))</span></pre>
			<p>其他編程接口或許也支援類似的佔位符機制。</p>
			<span>在<span>C</span>程式中，可以使用<span><span>mysql_real_escape_string()</span>轉義</span>二進制值，並將結果包含在將發送至伺服器的查詢字串。請參見</span><a href="apis.html#mysql-real-escape-string" title="25.2.3.52. mysql_real_escape_string()">25.2.3.52節，「mysql_real_escape_string()」</a></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="fetching-spatial-data"></a>
			19.4.5.&nbsp;獲取空間數據</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#fetching-spatial-data-in-internal-format">
				19.4.5.1. 以內部格式獲取空間數據</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#fetching-spatial-data-in-wkt-format">
				19.4.5.2. 以WKT格式獲取空間數據</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#fetching-spatial-data-in-wkb-format">
				19.4.5.3. 以格式獲取空間數據</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				對於資料表中保存的幾何值，能夠以內部格式獲取。您也能將其轉換為<span>WKT</span>或<span>WKB</span>格式。<h4 class="title"><a name="fetching-spatial-data-in-internal-format"></a>
				19.4.5.1.&nbsp;以內部格式獲取空間數據</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				在資料表對資料表傳輸中，使用內部格式來獲取幾何值可能是有用的。<pre><span>CREATE TABLE geom2 (g GEOMETRY) SELECT g FROM geom;</span></pre>
				<h4 class="title"><a name="fetching-spatial-data-in-wkt-format"></a>
				19.4.5.2.&nbsp;以WKT格式獲取空間數據</h4></div></div></div></div><div class="section"><div class="titlepage"><div><div>
				<span><span>AsText()</span>函數能夠將幾何值從內部格式轉換為</span><span>WKT</span>字串。<pre><span>SELECT AsText(g) FROM geom;</span></pre>
				<h4 class="title"><a name="fetching-spatial-data-in-wkb-format"></a>
				19.4.5.3.&nbsp;以格式獲取空間數據</h4></div></div></div></div></div></div><div class="section"><div class="titlepage"><div><div>
		<span><span>AsBinary()</span>函數能夠將幾何值從內部格式轉換為</span>包含<span>WKB</span>值的<span><span>BLOB</span>。</span><pre><span>SELECT AsBinary(g) FROM geom;</span></pre>
		<h2 class="title"><a name="analysing-spatial-information"></a>
		19.5.&nbsp;分析空間訊息</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#functions-to-convert-geometries-between-formats">
			19.5.1. Geometry格式轉換函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#geometry-property-functions">19.5.2. 
			Geometry函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#functions-that-create-new-geometries-from-existing-ones">
			19.5.3. 從已有Geometry建立新Geometry的函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#functions-for-testing-spatial-relations-between-geometric-objects">
			19.5.4. 測試幾何對像間空間關係的函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#relations-on-geometry-mbr">
			19.5.5. 關於幾何最小邊界矩形（MBR）的關係</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#functions-that-test-spatial-relationships-between-geometries">
			19.5.6. 測試幾何類之間空間關係的函數</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
			用值填充了空間列後，即可查詢和分析它們。<span>MySQL</span>提供了一組在空間數據上執行各種操作的函數。根據它們所執行的操作類型，可以將這些函數分為四種主要類別：<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>用於在各種格式間轉換幾何值的函數。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>用於訪問幾何值定性或定量屬性的函數。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>描述兩種幾何值之間關係的函數。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>從已有<span>Geometry</span>建立新<span>Geometry</span>的函數 
			</p>
			<p>空間分析函數可用於很多場合下，如：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>任何交互式<span>SQL</span>程式，如<strong><span>mysql</span></strong>或<strong><span>MySQLCC</span></strong>。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>以任何語言編寫的、支援<span>MySQL</span>客戶端<span>API</span>的應用程式。</p>
			<h3 class="title"><a name="functions-to-convert-geometries-between-formats"></a>
			19.5.1.&nbsp;Geometry格式轉換函數</h3></div></div></div><p>
        <span >
		MySQL</span><span>支援下述用於在內部格式和<span>WKT</span>或<span>WKB</span>格式間轉換幾何值的函數：</span></p><div class="itemizedlist"><ul type="disc"><li><p>
            <a class="indexterm" name="id2987394"></a>

            AsBinary(<em class="replaceable">g</em>)
          </p><p>
            <span>
			將採用內部幾何格式的值轉換為其<span>WKB</span>資料表示，並返回二進制結果。</span></p><pre class="programlisting">SELECT AsBinary(g) FROM geom;
</pre></li><li><p>
            <a class="indexterm" name="id2987453"></a>

            AsText(<em class="replaceable">g</em>)
          </p><p>
            <span>
			將採用內部幾何格式的值轉換為其<span>WKT</span>資料表示，並返回字串結果。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @g = 'LineString(1 1,2 2,3 3)';</strong>
mysql&gt; <strong class="userinput">SELECT AsText(GeomFromText(@g));</strong>
+--------------------------+
| AsText(GeomFromText(@g)) |
+--------------------------+
| LINESTRING(1 1,2 2,3 3)  |
+--------------------------+
</pre></li><li><p>
            <a class="indexterm" name="id2987504"></a>

            GeomFromText(<em class="replaceable">wkt</em>[,<em class="replaceable">srid</em>])
          </p><p>
            <span>
			將字串值從其<span>WKT</span>資料表示轉換為內部幾何格式，並返回結果。也支援多種與類型相關的函數，如<span>PointFromText()</span>和<span><span>LineFromText()</span>，</span>請參見</span><a href="spatial-extensions-in-mysql.html#gis-wkt-functions" title="19.4.2.1. Creating Geometry Values Using WKT Functions">19.4.2.1節，「使用WKT函數建立Geometry（幾何）值」</a><span>。</span></p></li><li><p>
            <a class="indexterm" name="id2987550"></a>

            GeomFromWKB(<em class="replaceable">wkb</em>[,<em class="replaceable">srid</em>])
          </p><p>
            <span>
			將二進制值從其<span>WKB</span>資料表示轉換為內部幾何格式，並返回結果。也支援多種與類型相關的函數，如<span>PointFromWKB()</span>和<span>LineFromWKB()</span>，請參見</span><a href="spatial-extensions-in-mysql.html#gis-wkb-functions" title="19.4.2.2. Creating Geometry Values Using WKB Functions">19.4.2.2節，「使用WKB函數建立Geometry（幾何）值」</a><span>。</span></p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="geometry-property-functions"></a>19.5.2. Geometry函數</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#general-geometry-property-functions">
			19.5.2.1. 通用幾何函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#point-property-functions">19.5.2.2. 
			Point函數<br>
&nbsp;</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#linestring-property-functions">19.5.2.3. 
			LineString函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#multilinestring-property-functions">19.5.2.4. 
			MultiLineString函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#polygon-property-functions">19.5.2.5. 
			Polygon函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#multipolygon-property-functions">19.5.2.6. 
			MultiPolygon函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#geometrycollection-property-functions">19.5.2.7. 
			GeometryCollection函數</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
				屬於該組的每個函數均將幾何值作為其參量，並返回幾何值的定性或定量屬性。某些函數限制了其參量類型。如果參量是不正確的幾何類型，這類函數將返回<span>NULL</span>。例如，如果對像類型既不是<span>Polygon</span>也不是<span><span>MultiPolygon</span>，<span>Area()</span>將返回<span>NULL</span>。</span><h4 class="title"><a name="general-geometry-property-functions"></a>
				19.5.2.1.&nbsp;通用幾何函數</h4></div></div></div><p>
          <span>
			本節列出的函數不限制其參量，可接受任何類型的幾何值。</span></p><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2987677"></a>

              Dimension(<em class="replaceable">g</em>)
            </p><p>
              <span>
				返回幾何值<span><i><span>g</span></i></span>的固有維數。結果可以是<span>-1</span>、<span>0</span>、<span>1</span>或<span>2</span>。（關於這些值的含義，請參見</span><a href="spatial-extensions-in-mysql.html#gis-class-geometry" title="19.2.2. Class Geometry">19.2.2節，「類Geometry」</a><span>）。</span>
            </p><pre class="programlisting">mysql&gt; <strong class="userinput">SELECT Dimension(GeomFromText('LineString(1 1,2 2)'));</strong>
+------------------------------------------------+
| Dimension(GeomFromText('LineString(1 1,2 2)')) |
+------------------------------------------------+
|                                              1 |
+------------------------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2987748"></a>

              Envelope(<em class="replaceable">g</em>)
            </p>
					<p>
					<span>
					返回幾何值<span>g</span>的最小邊界矩形（MBR）。結果以<span>Polygon</span>值的形式返回。</span></p>
					<span>
					多邊形（<span>polygon</span>）是由邊界框的頂點定義的：</span><pre class="programlisting">POLYGON((MINX MINY, MAXX MINY, MAXX MAXY, MINX MAXY, MINX MINY))
</pre><pre class="programlisting">mysql&gt; <strong class="userinput">SELECT AsText(Envelope(GeomFromText('LineString(1 1,2 2)')));</strong>
+-------------------------------------------------------+
| AsText(Envelope(GeomFromText('LineString(1 1,2 2)'))) |
+-------------------------------------------------------+
| POLYGON((1 1,2 1,2 2,1 2,1 1))                        |
+-------------------------------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2987826"></a>

              GeometryType(<em class="replaceable">g</em>)
            </p><p>
              <span>
				以字串形式返回幾何類型的名稱，幾何實例<span>g</span>是幾何類型的成員。該名稱與可實例化幾何子類之一對應。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SELECT GeometryType(GeomFromText('POINT(1 1)'));</strong>
+------------------------------------------+
| GeometryType(GeomFromText('POINT(1 1)')) |
+------------------------------------------+
| POINT                                    |
+------------------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2987895"></a>

              SRID(<em class="replaceable">g</em>)
            </p><p>
              <span>
				返回指明了幾何值<span>g</span>的空間參考系統<span>ID</span>的整數。</span></p><p>
              <span>在<span>MySQL</span>中，<span>SRID</span>值僅是與幾何值相關的整數。所有計算均是在歐幾里得（平面）幾何中進行的。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SELECT SRID(GeomFromText('LineString(1 1,2 2)',101));</strong>
+-----------------------------------------------+
| SRID(GeomFromText('LineString(1 1,2 2)',101)) |
+-----------------------------------------------+
|                                           101 |
+-----------------------------------------------+
</pre></li></ul></div><p>
          <span >
			OpenGIS</span><span>規範還定義了下述函數，<span>MySQL</span>未實施這類函數：</span></p><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2987973"></a>

              Boundary(<em class="replaceable">g</em>)
            </p><p>
              <span>
				返回幾何值<span>g</span>的組合邊界的閉包的幾何對象。</span></p></li><li><p>
              <a class="indexterm" name="id2988021"></a>

              IsEmpty(<em class="replaceable">g</em>)
            </p><p>
              <span>
				如果幾何值<span>g</span>為空的幾何對象，返回<span>1</span>，如果非空，返回<span>0</span>，如果參量為<span>NULL</span>，返回<span>-1</span>。如果幾何對象是空的，它資料表示空的點集合。</span></p></li><li><p>
              <a class="indexterm" name="id2988075"></a>

              IsSimple(<em class="replaceable">g</em>)
            </p>
					<p>
					<span>
					目前該函數是佔位符，不應使用它。如果實施了它，其行為與下段所給出的描述類似。</span></p>
					<p>
					<span>
					如果幾何值g沒有異常的幾何點（如自相交或自相切），返回1。如果參量不是簡單參量，<span>IsSimple()返回0，</span>如果參量是NULL，返回-1。</span></p>
					<span>
					對於本章前面介紹的每個可實例化幾何類，均包含特定的條件，這類條件會使類實例被分類為非簡單的。</span></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="point-property-functions"></a>19.5.2.2. Point函數<br>
&nbsp;</h4></div></div></div><p>
          <span>
			<span >Point</span><span>由</span></span><span >X</span><span>和<span>Y</span>坐標構成，可使用下述函數獲得它們：</span></p><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2988180"></a>

              X(<em class="replaceable">p</em>)
            </p><p>
              <span>
				以雙精度數值返回點<span>p</span>的<span>X</span>坐標值。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SELECT X(GeomFromText('Point(56.7 53.34)'));</strong>
+--------------------------------------+
| X(GeomFromText('Point(56.7 53.34)')) |
+--------------------------------------+
|                                 56.7 |
+--------------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2988242"></a>

              Y(<em class="replaceable">p</em>)
            </p><p>
              <span>
				以雙精度數值返回點<span>p</span>的<span>Y</span>坐標值。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SELECT Y(GeomFromText('Point(56.7 53.34)'));</strong>
+--------------------------------------+
| Y(GeomFromText('Point(56.7 53.34)')) |
+--------------------------------------+
|                                53.34 |
+--------------------------------------+
</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="linestring-property-functions"></a>19.5.2.3. LineString函數</h4></div></div></div><p>
          <span>
			<span >LineString</span><span>由<span>Point</span>值組成。您可以提取<span>LineString</span>的特定點，計數它所包含的點數，</span></span><span>或獲取其長度。</span></p><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2988346"></a>

              EndPoint(<em class="replaceable">ls</em>)
            </p><p>
              <span>返回<span><span>LineString</span>值<span>1s</span>的最後一個點的<span>Point</span>。</span></span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @ls = 'LineString(1 1,2 2,3 3)';</strong>
mysql&gt; <strong class="userinput">SELECT AsText(EndPoint(GeomFromText(@ls)));</strong>
+-------------------------------------+
| AsText(EndPoint(GeomFromText(@ls))) |
+-------------------------------------+
| POINT(3 3)                          |
+-------------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2988419"></a>

              GLength(<em class="replaceable">ls</em>)
            </p><p>
              <span>
				以雙精度數值返回<span><span>LineString</span>值<span>1s</span>在相關的空間參考系中的長度。</span></span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @ls = 'LineString(1 1,2 2,3 3)';</strong>
mysql&gt; <strong class="userinput">SELECT GLength(GeomFromText(@ls));</strong>
+----------------------------+
| GLength(GeomFromText(@ls)) |
+----------------------------+
|            2.8284271247462 |
+----------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2988490"></a>

              NumPoints(<em class="replaceable">ls</em>)
            </p><p>
              <span>返回<span><span>LineString</span>值<span>1s</span>中的點數。</span></span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @ls = 'LineString(1 1,2 2,3 3)';</strong>
mysql&gt; <strong class="userinput">SELECT NumPoints(GeomFromText(@ls));</strong>
+------------------------------+
| NumPoints(GeomFromText(@ls)) |
+------------------------------+
|                            3 |
+------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2988559"></a>

              PointN(<em class="replaceable">ls</em>,<em class="replaceable">n</em>)
            </p><p>
              <span>返回<span><span>LineString</span>值<span>1s</span></span>中的第<span><i><span>n</span></i></span>個點。點編號從<span>1</span>開始。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @ls = 'LineString(1 1,2 2,3 3)';</strong>
mysql&gt; <strong class="userinput">SELECT AsText(PointN(GeomFromText(@ls),2));</strong>
+-------------------------------------+
| AsText(PointN(GeomFromText(@ls),2)) |
+-------------------------------------+
| POINT(2 2)                          |
+-------------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2988636"></a>

              StartPoint(<em class="replaceable">ls</em>)
            </p><p>
              <span>返回<span><span>LineString</span>值<span>1s</span>的第一個點的<span>Point</span>。</span></span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @ls = 'LineString(1 1,2 2,3 3)';</strong>
mysql&gt; <strong class="userinput">SELECT AsText(StartPoint(GeomFromText(@ls)));</strong>
+---------------------------------------+
| AsText(StartPoint(GeomFromText(@ls))) |
+---------------------------------------+
| POINT(1 1)                            |
+---------------------------------------+
</pre></li></ul></div><p>
          <span >
			OpenGIS</span><span>規範還定義了下述函數，<span>MySQL</span>尚未實施這些函數：</span></p><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2988708"></a>

              IsRing(<em class="replaceable">ls</em>)
            </p><p>
              <span>如果<span>LineString</span>值<span><i><span>ls</span></i></span>是封閉的（即其<span>StartPoint()</span>和<span><span>EndPoint()</span>值相同</span>）和簡單的（未通過相同的點<span>1</span>次以上）返回<span>1</span>。如果<span>ls</span>不是環，返回<span>0</span>，如果它是<span>NULL</span>，返回<span>-1</span>。</span></p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="multilinestring-property-functions"></a>19.5.2.4. MultiLineString函數</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2988784"></a>

              GLength(<em class="replaceable">mls</em>)
            </p><p>
              <span>
				以雙精度數值形式返回<span><span>MultiLineString</span>值<span>m1s</span>的長度。<i><span>mls</span></i></span>的長度等於其元素的長度之和。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @mls = 'MultiLineString((1 1,2 2,3 3),(4 4,5 5))';</strong>
mysql&gt; <strong class="userinput">SELECT GLength(GeomFromText(@mls));</strong>
+-----------------------------+
| GLength(GeomFromText(@mls)) |
+-----------------------------+
|             4.2426406871193 |
+-----------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2988839"></a>

              IsClosed(<em class="replaceable">mls</em>)
            </p><p>
              <span>如果<span><span>MultiLineString</span>值<span>m1s</span></span>是封閉的（即<span>StartPoint()</span>和<span><span>EndPoint()</span>值對<span>m1s</span>中的每個<span>LineString</span>是相同的</span>）返回<span>1</span>。如果<span>mls</span>是非封閉的，返回<span>0</span>，如果它是<span>NULL</span>，返回<span>-1</span>。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @mls = 'MultiLineString((1 1,2 2,3 3),(4 4,5 5))';</strong>
mysql&gt; <strong class="userinput">SELECT IsClosed(GeomFromText(@mls));</strong>
+------------------------------+
| IsClosed(GeomFromText(@mls)) |
+------------------------------+
|                            0 |
+------------------------------+
</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="polygon-property-functions"></a>19.5.2.5. Polygon函數</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2988956"></a>

              Area(<em class="replaceable">poly</em>)
            </p><p>
              <span>
				以雙精度數值形式返回<span>Polygon</span>值<span><i><span>poly</span></i></span>的面積，根據在其空間參考系中的測量值。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @poly = 'Polygon((0 0,0 3,3 0,0 0),(1 1,1 2,2 1,1 1))';</strong>
mysql&gt; <strong class="userinput">SELECT Area(GeomFromText(@poly));</strong>
+---------------------------+
| Area(GeomFromText(@poly)) |
+---------------------------+
|                         4 |
+---------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2989027"></a>

              ExteriorRing(<em class="replaceable">poly</em>)
            </p><p>
              <span>以<span><span>LineString</span>形式返回<span>Polygon</span></span>值<span><i><span>poly</span></i></span>的外環。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @poly =</strong>
    -&gt; <strong class="userinput">'Polygon((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1))';</strong>
mysql&gt; <strong class="userinput">SELECT AsText(ExteriorRing(GeomFromText(@poly)));</strong>
+-------------------------------------------+
| AsText(ExteriorRing(GeomFromText(@poly))) |
+-------------------------------------------+
| LINESTRING(0 0,0 3,3 3,3 0,0 0)           |
+-------------------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2989107"></a>

              InteriorRingN(<em class="replaceable">poly</em>,<em class="replaceable">n</em>)
            </p><p>
              <span>以<span><span>LineString</span>形式返回<span>Polygon</span></span>值<span><i><span>poly</span></i></span>的第<span>n</span>個內環。環編號從<span>1</span>開始。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @poly =</strong>
    -&gt; <strong class="userinput">'Polygon((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1))';</strong>
mysql&gt; <strong class="userinput">SELECT AsText(InteriorRingN(GeomFromText(@poly),1));</strong>
+----------------------------------------------+
| AsText(InteriorRingN(GeomFromText(@poly),1)) |
+----------------------------------------------+
| LINESTRING(1 1,1 2,2 2,2 1,1 1)              |
+----------------------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2989194"></a>

              NumInteriorRings(<em class="replaceable">poly</em>)
            </p><p>
				<span>返回<span>Polygon</span></span><span>值<span><i><span>poly</span></i></span>的內環的數目。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @poly =</strong>
    -&gt; <strong class="userinput">'Polygon((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1))';</strong>
mysql&gt; <strong class="userinput">SELECT NumInteriorRings(GeomFromText(@poly));</strong>
+---------------------------------------+
| NumInteriorRings(GeomFromText(@poly)) |
+---------------------------------------+
|                                     1 |
+---------------------------------------+
</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="multipolygon-property-functions"></a>19.5.2.6. MultiPolygon函數</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2989282"></a>

              Area(<em class="replaceable">mpoly</em>)
            </p><p>
              <span>
				以雙精度數值形式返回<span>MultiPolygon</span>值<span><i><span>mpoly</span></i></span>的面積，根據在其空間參考系中的測量結果。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @mpoly =</strong>
    -&gt; <strong class="userinput">'MultiPolygon(((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1)))';</strong>
mysql&gt; <strong class="userinput">SELECT Area(GeomFromText(@mpoly));</strong>
+----------------------------+
| Area(GeomFromText(@mpoly)) |
+----------------------------+
|                          8 |
+----------------------------+
</pre></li></ul></div><p>
          <span >
			OpenGIS</span><span>規範還定義了下述函數，<span>MySQL</span>未實施這類函數：</span></p><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2989346"></a>

              Centroid(<em class="replaceable">mpoly</em>)
            </p><p>
              <span>以<span>Point</span>形式返回用於<span><span>MultiPolygon</span>值<i><span>mpoly</span></i></span>的數學質心。不保證結果位於<span><span>MultiPolygon</span>上。</span></span></p></li><li><p>
              <a class="indexterm" name="id2989389"></a>

              PointOnSurface(<em class="replaceable">mpoly</em>)
            </p><p>
              <span>返回<span><span>Point</span>值，</span>保證該值位於<span>MultiPolygon</span>值<span><i><span>mpoly</span></i></span>上。</span></p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="geometrycollection-property-functions"></a>19.5.2.7. GeometryCollection函數</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
              <a class="indexterm" name="id2989471"></a>

              GeometryN(<em class="replaceable">gc</em>,<em class="replaceable">n</em>)
            </p><p>
              <span>返回<span>GeometryCollection</span>值<span><i><span>gc</span></i></span>中第<span>n</span>個幾何對象。幾何對象的編號從<span>1</span>開始。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @gc = 'GeometryCollection(Point(1 1),LineString(2 2, 3 3))';</strong>
mysql&gt; <strong class="userinput">SELECT AsText(GeometryN(GeomFromText(@gc),1));</strong>
+----------------------------------------+
| AsText(GeometryN(GeomFromText(@gc),1)) |
+----------------------------------------+
| POINT(1 1)                             |
+----------------------------------------+
</pre></li><li><p>
              <a class="indexterm" name="id2989549"></a>

              NumGeometries(<em class="replaceable">gc</em>)
            </p><p>
              <span>返回<span>GeometryCollection</span>值<span><i><span>gc</span></i></span>中幾何對象的數目。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @gc = 'GeometryCollection(Point(1 1),LineString(2 2, 3 3))';</strong>
mysql&gt; <strong class="userinput">SELECT NumGeometries(GeomFromText(@gc));</strong>
+----------------------------------+
| NumGeometries(GeomFromText(@gc)) |
+----------------------------------+
|                                2 |
+----------------------------------+
</pre></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="functions-that-create-new-geometries-from-existing-ones"></a>
			19.5.3.&nbsp;從已有Geometry建立新Geometry的函數</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#functions-that-produce-new-geometries">
				19.5.3.1. 生成新Geometry的Geometry函數</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#spatial-operators">
				19.5.3.2. 空間操作符</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="functions-that-produce-new-geometries"></a>
				19.5.3.1.&nbsp;生成新Geometry的Geometry函數</h4></div></div></div><p>
          <span>在</span><a href="spatial-extensions-in-mysql.html#geometry-property-functions" title="19.5.2. Geometry Functions">19.5.2節，「Geometry函數」</a><span>中，我們討論了一些可從已有幾何對像構造新幾何對象的函數：</span>
        </p><div class="itemizedlist"><ul type="disc"><li><p>
              Envelope(<em class="replaceable">g</em>)
            </p></li><li><p>
              StartPoint(<em class="replaceable">ls</em>)
            </p></li><li><p>
              EndPoint(<em class="replaceable">ls</em>)
            </p></li><li><p>
              PointN(<em class="replaceable">ls</em>,<em class="replaceable">n</em>)
            </p></li><li><p>
              ExteriorRing(<em class="replaceable">poly</em>)
            </p></li><li><p>
              InteriorRingN(<em class="replaceable">poly</em>,<em class="replaceable">n</em>)
            </p></li><li><p>
              GeometryN(<em class="replaceable">gc</em>,<em class="replaceable">n</em>)
            </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="spatial-operators"></a>
				19.5.3.2.&nbsp;空間操作符</h4></div></div></div>
				<p><span>OpenGIS</span>建議了很多可生成幾何對象的其他函數。它們是為實施空間操作符而設計的。</p>
				<p>在<span>MySQL</span>中未實施這些函數。它們或許會在未來的版本中出現。</p>
				<div class="itemizedlist">
					<ul type="disc">
						<li>
						<p>
              <a class="indexterm" name="id2989791"></a>

              Buffer(<em class="replaceable">g</em>,<em class="replaceable">d</em>)
            </p><p>
              <span>
				返回幾何對象，該對像代資料表所有距幾何值<span>g</span>的距離小於或等於<span>d</span>的所有點。</span></p></li><li><p>
              <a class="indexterm" name="id2989837"></a>

              ConvexHull(<em class="replaceable">g</em>)
            </p><p>
              <span>
				返回幾何對象，該對像代資料表幾何值<span><i><span>g</span></i></span>的凸包。</span></p></li><li><p>
              <a class="indexterm" name="id2989875"></a>

              Difference(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
            </p><p>
              <span>
				返回幾何對象，該對像資料表示了幾何值<span>g1</span>與<span>g2</span>的點集合差異。</span></p></li><li><p>
              <a class="indexterm" name="id2989921"></a>

              Intersection(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
            </p><p>
              <span>
				返回幾何對象，該對像資料表示了幾何值<span>g1</span>與<span>g2</span>的點集合交集。</span></p></li><li><p>
              <a class="indexterm" name="id2989967"></a>

              SymDifference(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
            </p><p>
              <span>
				返回幾何對象，該對像資料表示了幾何值<span>g1</span>與<span>g2</span>的點集合對稱差。</span></p></li><li><p>
              <a class="indexterm" name="id2990012"></a>

              Union(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
            </p><p>
              <span>
				返回幾何對象，該對像資料表示了幾何值<span>g1</span>與<span>g2</span>的點集合聯合。</span></p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="functions-for-testing-spatial-relations-between-geometric-objects"></a>
			19.5.4.&nbsp;測試幾何對像間空間關係的函數</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div>
			這些節中所介紹的函數以<span>2</span>個幾何對像作為輸入參數，並返回它們之間的定量或定性關係。<h3 class="title"><a name="relations-on-geometry-mbr"></a>
			19.5.5.&nbsp;關於幾何最小邊界矩形（MBR）的關係</h3></div></div></div><a class="indexterm" name="id2990081"></a><a class="indexterm" name="id2990087"></a>
			<p><span>MySQL</span>提供了一些可測試兩個幾何對像<span>g1</span>和<span>g2</span>最小邊界矩形之間關係的函數。它們包括：</p>
			<div class="itemizedlist"><ul type="disc"><li><p>
            <a class="indexterm" name="id2990132"></a>

            MBRContains(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明<span><i><span>g1</span></i></span>的最小邊界矩形是否包含<span><i><span>g2</span></i></span>的最小邊界矩形。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @g1 = GeomFromText('Polygon((0 0,0 3,3 3,3 0,0 0))');</strong>
mysql&gt; <strong class="userinput">SET @g2 = GeomFromText('Point(1 1)');</strong>
mysql&gt; <strong class="userinput">SELECT MBRContains(@g1,@g2), MBRContains(@g2,@g1);</strong>
----------------------+----------------------+
| MBRContains(@g1,@g2) | MBRContains(@g2,@g1) |
+----------------------+----------------------+
|                    1 |                    0 |
+----------------------+----------------------+
</pre></li><li><p>
            <a class="indexterm" name="id2990212"></a>

            MBRDisjoint(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明兩個幾何變數<span><i><span>g1</span></i></span>和<span><i><span>g2</span></i></span>的最小邊界矩形是否不相交。</span></p></li><li><p>
            <a class="indexterm" name="id2990267"></a>

            MBREqual(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明兩個幾何變數<span><i><span>g1</span></i></span>和<span><i><span>g2</span></i></span>的最小邊界矩形是否相同。</span></p></li><li><p>
            <a class="indexterm" name="id2990321"></a>

            MBRIntersects(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明兩個幾何變數<span><i><span>g1</span></i></span>和<span><i><span>g2</span></i></span>的最小邊界矩形是否相交。</span></p></li><li><p>
            <a class="indexterm" name="id2990376"></a>

            MBROverlaps(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明兩個幾何變數<span><i><span>g1</span></i></span>和<span><i><span>g2</span></i></span>的最小邊界矩形是否交迭。</span></p></li><li><p>
            <a class="indexterm" name="id2990430"></a>

            MBRTouches(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明兩個幾何變數<span><i><span>g1</span></i></span>和<span><i><span>g2</span></i></span>的最小邊界矩形是否接觸。</span></p></li><li><p>
            <a class="indexterm" name="id2990484"></a>

            MBRWithin(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明<span><i><span>g1</span></i></span>的最小邊界矩形是否位於<span><i><span>g2</span></i></span>的最小邊界矩形內。</span></p><pre class="programlisting">mysql&gt; <strong class="userinput">SET @g1 = GeomFromText('Polygon((0 0,0 3,3 3,3 0,0 0))');</strong>
mysql&gt; <strong class="userinput">SET @g2 = GeomFromText('Polygon((0 0,0 5,5 5,5 0,0 0))');</strong>
mysql&gt; <strong class="userinput">SELECT MBRWithin(@g1,@g2), MBRWithin(@g2,@g1);</strong>
+--------------------+--------------------+
| MBRWithin(@g1,@g2) | MBRWithin(@g2,@g1) |
+--------------------+--------------------+
|                  1 |                  0 |
+--------------------+--------------------+
</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="functions-that-test-spatial-relationships-between-geometries"></a>
			19.5.6.&nbsp;測試幾何類之間空間關係的函數</h3></div></div></div>
			<p><span>OpenGIS</span>規範定義了下述函數。目前在<span>MySQL</span>尚未按照規範實施它們。對於那些已實施的函數，它們返回的結果與對應的基於<span>MBR</span>的函數返回的相同。包括下面列出的函數，但<span><span>Distance()</span>和<span>Related()</span></span>除外。</p>
			<p>在未來的版本中，可能會實施這些函數，為空間分析提供全部支援，而不僅僅是基於<span>MBR</span>的支援。</p>
			<p>這些函數作用在<span>2</span>個幾何值<span>g1</span>和<span>g2</span>上。</p>
			<div class="itemizedlist"><ul type="disc"><li><p>
            <a class="indexterm" name="id2990629"></a>

            Contains(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明<span><i><span>g1</span></i></span>是否完全包含<span><i><span>g2</span></i></span>。</span></p></li><li><p>
            <a class="indexterm" name="id2990682"></a>

            Crosses(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p>
				<p>
				<span>
				如果g1在空間上與g2相交，返回1。如果<span>g1為Polygon</span>或<span>MultiPolygon，返回NULL，或</span>如果<span>g2</span>為<span>Point</span>或<span>MultiPoint返回NULL。否則，返回0。</span></span></p>
				<p>
				<span>
				術語「空間上交叉」指的是2個給定幾何對像之間的空間關係，它具有下述屬性：</span></p>
				<p>o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2個結合對像交叉。</p>
				<p>o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 其交叉結果將導致其維數小於兩個給定幾何對像最大維數的幾何對象。</p>
				<p>o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 其交叉不等於兩個幾何對像中的任何1個。</li><li><p>
            <a class="indexterm" name="id2990800"></a>

            Disjoint(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明<span><i><span>g1</span></i></span>是否與<span><i><span>g2</span></i></span>從空間上不相交。</span></p></li><li><p>
            <a class="indexterm" name="id2990850"></a>

            Distance(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>
			以雙精度數值形式返回<span>2</span>個幾何對像中<span>2</span>點間的最短距離。</span></p></li><li><p>
            <a class="indexterm" name="id2990892"></a>

            Equals(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明<span><i><span>g1</span></i></span>是否從空間上等同於<span><i><span>g2</span></i></span>。</span></p></li><li><p>
            <a class="indexterm" name="id2990945"></a>

            Intersects(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明<span><i><span>g1</span></i></span>是否從空間上與<span><i><span>g2</span></i></span>相交。</span></p></li><li><p>
            <a class="indexterm" name="id2990998"></a>

            Overlaps(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明<span><i><span>g1</span></i></span>是否從空間上與<span><i><span>g2</span></i></span>交迭。如果<span>2</span>個幾何對像交叉而且其交叉將導致具有相同維數但並不等同於任一幾何對象的幾何對象，將使用術語「空間交迭」。</span></p></li><li><p>
            <a class="indexterm" name="id2991054"></a>

            Related(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>,<em class="replaceable">pattern_matrix</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明由<span><i><span>pattern_matrix</span></i></span>指定的空間關係是否在<span><i><span>g1</span></i></span>和<span><i><span>g2</span></i></span>間存在。如果參量為<span>NULL</span>返回<span>-1</span>。模式矩形為字串。如果實施了該函數，其規範將在此給出。</span></p></li><li><p>
            <a class="indexterm" name="id2991118"></a>

            Touches(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明<span><i><span>g1</span></i></span>是否從空間上與<span><i><span>g2</span></i></span>接觸。如果幾何對象的內部不交叉，但<span>1</span>個幾何對象的邊界與另一個的邊界或內部交叉，這兩個幾何對象是從空間上接觸的。</span></p></li><li><p>
            <a class="indexterm" name="id2991179"></a>

            Within(<em class="replaceable">g1</em>,<em class="replaceable">g2</em>)
          </p><p>
            <span>返回<span>1</span>或<span>0</span>以指明<span><i><span>g1</span></i></span>是否從空間上位於<span><i><span>g2</span></i></span>內。</span></p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="optimizing-spatial-analysis"></a>
		19.6.&nbsp;最佳化空間分析</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#creating-spatial-indexes">
			19.6.1. 建立空間索引</a></span></dt><dt><span class="section"><a href="spatial-extensions-in-mysql.html#using-a-spatial-index">
			19.6.2. 使用空間索引</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div>
			可以使用索引對<span>2</span>個非空間資料庫中的搜索操作進行最佳化。對於空間資料庫，這同樣成立。有了以前設計的大量多維索引功能的幫助，能夠對空間搜索進行最佳化。最典型的情況如下：<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>搜索包含給定點的所有對象的<span>Point</span>查詢。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>搜索與給定地區交迭的所有對象的地區查詢。</p>
			<p><span>MySQL</span>採用了<strong><span>具有<span>2</span>次分裂特性的<span>R-Trees</span></span></strong>來為空間列編製索引。使用幾何對象的<span>MBR</span>來建立空間索引。對於大多數幾何對象，<span>MBR</span>是包圍幾何對象的最小矩形。對於水平或垂直<span>linestring</span>，<span>MBR</span>退化為<span>linestring</span>的矩形。對於點，<span>MBR</span>是退化為點的矩形。</p>
			<p>此外，還能在空間列上建立正常索引。需要為除<span>POINT</span>列之外的空間列上的任何索引（非空間）聲明前綴。</p>
			<h3 class="title"><a name="creating-spatial-indexes"></a>
			19.6.1.&nbsp;建立空間索引</h3></div></div></div>
			<p><span>MySQL</span>能夠使用與建立正規索引類似的語法建立空間索引，但使用了<span><span>SPATIAL</span>關鍵字進行了延伸。對於目前編製了索引的空間列，必須將其聲明為<span>NOT 
			NULL</span></span>。在下面的示範中，介紹了建立空間索引的方法。</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>對於<span>CREATE 
			TABLE</span>：</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; <span><b>CREATE TABLE geom (g GEOMETRY NOT NULL, SPATIAL INDEX(g));</b></span></span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>對於<span>ALTER 
			TABLE</span>：</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; <span><b>ALTER TABLE geom ADD SPATIAL INDEX(g);</b></span></span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>對於<span>CREATE 
			INDEX</span>：</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; <span><b>CREATE SPATIAL INDEX sp_index ON geom (g);</b></span></span></pre>
			<p>對於<span><span>MyISAM</span>資料表，<span>SPATIAL 
			INDEX</span></span>負責建立<span>R-tree</span>索引。對於支援空間索引的其他儲存引擎，<span><span>SPATIAL 
			INDEX</span>能夠建立</span><span>B-tree</span>索引。對於準確的值搜尋而不是範圍掃瞄，作用在空間值上的<span>B-tree</span>索引很有用。</p>
			<p>要想撤銷空間索引，可使用<span>ALTER 
			TABLE</span>或<span>DROP 
			INDEX</span>：</p>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>對於<span>ALTER 
			TABLE</span>：</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; <span><b>ALTER TABLE geom DROP INDEX g;</b></span></span></pre>
			<p>
			<span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</span></span>對於<span>DROP 
			INDEX</span>：</p>
			<pre><span>·<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span>mysql&gt; <span><b>DROP INDEX sp_index ON geom;</b></span></span></pre>
			<p>示範：假定資料表<span><span>geom</span>包含<span>32000</span>以上的幾何對象，它們保存在類型為<span>GEOMETRY</span>的列<span>g</span>中。</span>該資料表還有用於保存對像<span>ID</span>值的<span><span>AUTO_INCREMENT</span>列。</span></p>
			<pre class="programlisting">mysql&gt; <strong class="userinput">DESCRIBE geom;</strong>
+-------+----------+------+-----+---------+----------------+
| Field | Type     | Null | Key | Default | Extra          |
+-------+----------+------+-----+---------+----------------+
| fid   | int(11)  |      | PRI | NULL    | auto_increment |
| g     | geometry |      |     |         |                |
+-------+----------+------+-----+---------+----------------+
2 rows in set (0.00 sec)

mysql&gt; <strong class="userinput">SELECT COUNT(*) FROM geom;</strong>
+----------+
| count(*) |
+----------+
|    32376 |
+----------+
1 row in set (0.00 sec)
</pre>
			<p>要想在列<span>g</span>上新增空間索引，可使用下述語句：</p>
			<pre class="programlisting">mysql&gt; <strong class="userinput">ALTER TABLE geom ADD SPATIAL INDEX(g);</strong>
Query OK, 32376 rows affected (4.05 sec)
Records: 32376  Duplicates: 0  Warnings: 0
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="using-a-spatial-index"></a>
			19.6.2.&nbsp;使用空間索引</h3></div></div></div>
			<p>最佳化程式將調查可用的空間索引是否能包含在使用某些函數的查詢搜索中，如<span>WHERE</span>子句中的<span>MBRContains()</span>或<span><span>MBRWithin()</span>函數。</span>例如，假定我們打算找出位於給定矩形中的所有對象：</p>
			<pre class="programlisting">mysql&gt; <strong class="userinput">SELECT fid,AsText(g) FROM geom WHERE</strong>
mysql&gt; <strong class="userinput">MBRContains(GeomFromText('Polygon((30000 15000,31000 15000,31000 16000,30000 16000,30000 15000))'),g);</strong>
+-----+-----------------------------------------------------------------------------+
| fid | AsText(g)                                                                   |
+-----+-----------------------------------------------------------------------------+
|  21 | LINESTRING(30350.4 15828.8,30350.6 15845,30333.8 15845,30333.8 15828.8)     |
|  22 | LINESTRING(30350.6 15871.4,30350.6 15887.8,30334 15887.8,30334 15871.4)     |
|  23 | LINESTRING(30350.6 15914.2,30350.6 15930.4,30334 15930.4,30334 15914.2)     |
|  24 | LINESTRING(30290.2 15823,30290.2 15839.4,30273.4 15839.4,30273.4 15823)     |
|  25 | LINESTRING(30291.4 15866.2,30291.6 15882.4,30274.8 15882.4,30274.8 15866.2) |
|  26 | LINESTRING(30291.6 15918.2,30291.6 15934.4,30275 15934.4,30275 15918.2)     |
| 249 | LINESTRING(30337.8 15938.6,30337.8 15946.8,30320.4 15946.8,30320.4 15938.4) |
|   1 | LINESTRING(30250.4 15129.2,30248.8 15138.4,30238.2 15136.4,30240 15127.2)   |
|   2 | LINESTRING(30220.2 15122.8,30217.2 15137.8,30207.6 15136,30210.4 15121)     |
|   3 | LINESTRING(30179 15114.4,30176.6 15129.4,30167 15128,30169 15113)           |
|   4 | LINESTRING(30155.2 15121.4,30140.4 15118.6,30142 15109,30157 15111.6)       |
|   5 | LINESTRING(30192.4 15085,30177.6 15082.2,30179.2 15072.4,30194.2 15075.2)   |
|   6 | LINESTRING(30244 15087,30229 15086.2,30229.4 15076.4,30244.6 15077)         |
|   7 | LINESTRING(30200.6 15059.4,30185.6 15058.6,30186 15048.8,30201.2 15049.4)   |
|  10 | LINESTRING(30179.6 15017.8,30181 15002.8,30190.8 15003.6,30189.6 15019)     |
|  11 | LINESTRING(30154.2 15000.4,30168.6 15004.8,30166 15014.2,30151.2 15009.8)   |
|  13 | LINESTRING(30105 15065.8,30108.4 15050.8,30118 15053,30114.6 15067.8)       |
| 154 | LINESTRING(30276.2 15143.8,30261.4 15141,30263 15131.4,30278 15134)         |
| 155 | LINESTRING(30269.8 15084,30269.4 15093.4,30258.6 15093,30259 15083.4)       |
| 157 | LINESTRING(30128.2 15011,30113.2 15010.2,30113.6 15000.4,30128.8 15001)     |
+-----+-----------------------------------------------------------------------------+
20 rows in set (0.00 sec)
</pre>
			<p>我們使用<span><span>EXPLAIN</span>來檢查該查詢的執行方式（<span>ID</span>列已被刪除，以便輸出能更好地與頁匹配）</span>：</p>
			<pre class="programlisting">mysql&gt; <strong class="userinput">EXPLAIN SELECT fid,AsText(g) FROM geom WHERE</strong>
mysql&gt; <strong class="userinput">MBRContains(GeomFromText('Polygon((30000 15000,31000 15000,31000 16000,30000 16000,30000 15000))'),g);</strong>
+-------------+-------+-------+---------------+------+---------+------+------+-------------+
| select_type | table | type  | possible_keys | key  | key_len | ref  | rows | Extra       |
+-------------+-------+-------+---------------+------+---------+------+------+-------------+
| SIMPLE      | geom  | range | g             | g    |      32 | NULL |   50 | Using where |
+-------------+-------+-------+---------------+------+---------+------+------+-------------+
1 row in set (0.00 sec)
</pre>
			<p>讓我們檢查一下在沒有空間索引的情況下會出現什麼：</p>
			<pre class="programlisting">mysql&gt; <strong class="userinput">EXPLAIN SELECT fid,AsText(g) FROM g IGNORE INDEX (g) WHERE</strong>
mysql&gt; <strong class="userinput">MBRContains(GeomFromText('Polygon((30000 15000,31000 15000,31000 16000,30000 16000,30000 15000))'),g);</strong>
+-------------+-------+------+---------------+------+---------+------+-------+-------------+
| select_type | table | type | possible_keys | key  | key_len | ref  | rows  | Extra       |
+-------------+-------+------+---------------+------+---------+------+-------+-------------+
| SIMPLE      | geom  | ALL  | NULL          | NULL |    NULL | NULL | 32376 | Using where |
+-------------+-------+------+---------------+------+---------+------+-------+-------------+
1 row in set (0.00 sec)
</pre>
			<p>執行<span><span>SELECT</span>語句，忽略</span>空間鍵：</p>
			<pre class="programlisting">mysql&gt; <strong class="userinput">SELECT fid,AsText(g) FROM geom IGNORE INDEX (g) WHERE</strong>
mysql&gt; <strong class="userinput">MBRContains(GeomFromText('Polygon((30000 15000,31000 15000,31000 16000,30000 16000,30000 15000))'),g);</strong>
+-----+-----------------------------------------------------------------------------+
| fid | AsText(g)                                                                   |
+-----+-----------------------------------------------------------------------------+
|   1 | LINESTRING(30250.4 15129.2,30248.8 15138.4,30238.2 15136.4,30240 15127.2)   |
|   2 | LINESTRING(30220.2 15122.8,30217.2 15137.8,30207.6 15136,30210.4 15121)     |
|   3 | LINESTRING(30179 15114.4,30176.6 15129.4,30167 15128,30169 15113)           |
|   4 | LINESTRING(30155.2 15121.4,30140.4 15118.6,30142 15109,30157 15111.6)       |
|   5 | LINESTRING(30192.4 15085,30177.6 15082.2,30179.2 15072.4,30194.2 15075.2)   |
|   6 | LINESTRING(30244 15087,30229 15086.2,30229.4 15076.4,30244.6 15077)         |
|   7 | LINESTRING(30200.6 15059.4,30185.6 15058.6,30186 15048.8,30201.2 15049.4)   |
|  10 | LINESTRING(30179.6 15017.8,30181 15002.8,30190.8 15003.6,30189.6 15019)     |
|  11 | LINESTRING(30154.2 15000.4,30168.6 15004.8,30166 15014.2,30151.2 15009.8)   |
|  13 | LINESTRING(30105 15065.8,30108.4 15050.8,30118 15053,30114.6 15067.8)       |
|  21 | LINESTRING(30350.4 15828.8,30350.6 15845,30333.8 15845,30333.8 15828.8)     |
|  22 | LINESTRING(30350.6 15871.4,30350.6 15887.8,30334 15887.8,30334 15871.4)     |
|  23 | LINESTRING(30350.6 15914.2,30350.6 15930.4,30334 15930.4,30334 15914.2)     |
|  24 | LINESTRING(30290.2 15823,30290.2 15839.4,30273.4 15839.4,30273.4 15823)     |
|  25 | LINESTRING(30291.4 15866.2,30291.6 15882.4,30274.8 15882.4,30274.8 15866.2) |
|  26 | LINESTRING(30291.6 15918.2,30291.6 15934.4,30275 15934.4,30275 15918.2)     |
| 154 | LINESTRING(30276.2 15143.8,30261.4 15141,30263 15131.4,30278 15134)         |
| 155 | LINESTRING(30269.8 15084,30269.4 15093.4,30258.6 15093,30259 15083.4)       |
| 157 | LINESTRING(30128.2 15011,30113.2 15010.2,30113.6 15000.4,30128.8 15001)     |
| 249 | LINESTRING(30337.8 15938.6,30337.8 15946.8,30320.4 15946.8,30320.4 15938.4) |
+-----+-----------------------------------------------------------------------------+
20 rows in set (0.46 sec)
</pre>
			<p>未使用索引時，該查詢的執行時間將從<span>0.00</span>秒上升到<span>0.46</span>秒。</p>
			<p>在未來的版本中，空間索引也可能會用於最佳化其他函數。請參見<a href="spatial-extensions-in-mysql.html#functions-for-testing-spatial-relations-between-geometric-objects" title="19.5.4. Functions for Testing Spatial Relations Between Geometric Objects">19.5.4節，「測試幾何對像間空間關係的函數」</a>。</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="mysql-gis-conformance-and-compatibility"></a>
		19.7.&nbsp;MySQL的一致性和相容性</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-extensions-in-mysql.html#gis-features-that-are-not-yet-implemented">
			19.7.1. 尚未實施的GIS特性</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gis-features-that-are-not-yet-implemented"></a>
			19.7.1.&nbsp;尚未實施的GIS特性</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            <span>
			額外的元數據視圖</span></p><p>
            <span >
			OpenGIS</span><span>規範建議了數種額外的元數據視圖。例如，包含幾何列的描述的名為<span><span>GEOMETRY_COLUMNS</span>的系統視圖，對於資料庫中的每列有<span>1</span>行相關內容。</span></span></p></li><li><p>
            <span>作用在<span>LineString</span>和<span><span>MultiLineString</span>上的</span><span>OpenGIS</span>函數<span>Length()</span>目前應在<span>MySQL</span>中以<span>GLength()</span>的方式使用。</span></p><p>
            <span>
			問題在於存在<span>1</span>個用於計算字串值長度的已有<span>SQL</span>函數<span><span>Length()</span>，而且在某些情況下無法判斷函數是在文本場景下還是空間場景下</span>使用的。我們需要以某種方式解決該問題，或確定另一個函數名。</span></p></li></ul></div></div></div></div><div><hr>
	<p>這是MySQL參考手冊的翻譯版本，關於MySQL參考手冊，請訪問<a target="_top"  href="http://dev.mysql.com/doc/mysql/en">dev.mysql.com</a>。原始參考手冊為英文版，與英文版參考手冊相比，本翻譯版可能不是最新的。</div>
</body></html>
