<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>開始安裝</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="FreeBSD 使用手冊" href="index.html" />
<link rel="UP" title="安裝 FreeBSD" href="install.html" />
<link rel="PREVIOUS" title="安裝前的準備工作" href="install-pre.html" />
<link rel="NEXT" title="介紹 Sysinstall" href="using-sysinstall.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=Big5" />
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">FreeBSD 使用手冊</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="install-pre.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 2 安裝 FreeBSD</td>
<td width="10%" align="right" valign="bottom"><a href="using-sysinstall.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECT1">
<h1 class="SECT1"><a id="INSTALL-START" name="INSTALL-START">2.4 開始安裝</a></h1>

<div class="IMPORTANT">
<blockquote class="IMPORTANT">
<p><b>Important:</b> 預設的情況下，安裝過程並不會改變您磁碟機中的任何資料，
除非您看到下面的訊息：</p>

<pre class="LITERALLAYOUT">
Last Chance: Are you SURE you want continue the installation?

If you're running this on a disk with data you wish to save then WE
STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

We can take no responsibility for lost disk contents!
</pre>

<p>在看到這最後的警告訊息前， 您都可以隨時離開安裝程式而不會變更您的硬碟。
如果您發現有任何設定錯誤， 這時您可以直接將電源關掉而不會造成任何傷害。</p>
</blockquote>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="INSTALL-STARTING" name="INSTALL-STARTING">2.4.1
開機啟動流程篇</a></h2>

<div class="SECT3">
<h3 class="SECT3"><a id="INSTALL-STARTING-I386" name="INSTALL-STARTING-I386">2.4.1.1
<span class="TRADEMARK">i386</span>&#8482; 平台的開機流程</a></h3>

<div class="PROCEDURE">
<ol type="1">
<li class="STEP">
<p>在一開始，電腦電源開關是關閉的。</p>
</li>

<li class="STEP">
<p>打開電腦電源開關。剛開始的時候， 它應該會顯示進入系統設定選單或 BIOS 要按哪個鍵，
常見的有： <b class="KEYCAP">F2</b>, <b class="KEYCAP">F10</b>, <b class="KEYCAP">Del</b>
或 <b class="KEYCAP">Alt</b>+<b class="KEYCAP">S</b>。(按鍵請依據實際情況決定)
不論是要按哪個鍵， 請按它進入 BIOS 設定畫面。 有時您的電腦可能會顯示一個圖形畫面，
通常做法是按 <b class="KEYCAP">Esc</b> 鍵將離開這個圖形畫面，
以使您能夠看到必要的設定訊息。</p>
</li>

<li class="STEP">
<p>找出可以設定『開機順序(Boot Order)』的選項， 通常該選項會列出一些設備讓您選擇，例如︰
<tt class="LITERAL">Floppy</tt>, <tt class="LITERAL">CDROM</tt>, <tt
class="LITERAL">First Hard Disk</tt> 等等。</p>

<p>如果要用軟碟安裝，請確定 floppy disk 要列為開機順序的第一個； 若要用光碟安裝，記得
CDROM 要列為開機順序的第一個。 為了避免不必要的疑惑，請參考機器、主機板說明手冊。</p>

<p>儲存設定並離開，系統應該會重新啟動。</p>
</li>

<li class="STEP">
<p>若要用磁片安裝，請把在 <a href="install-pre.html#INSTALL-FLOPPIES">Section
2.3.7</a>一節中製作好的 <tt class="FILENAME">boot.flp</tt>
那張安裝磁片放到第一台軟碟機中。</p>

<p>如果是從光碟安裝，那麼開機後請將 FreeBSD 光碟放入光碟機中。</p>

<p>如果，開機後如往常一樣而沒有從軟碟或光碟開機，請檢查︰</p>

<ol type="1">
<li>
<p>是不是磁片或光碟太晚放入而錯失開機時間。 如果是，請將它們放入，然後重新開機。</p>
</li>

<li>
<p>BIOS 設定不對或忘了儲存設定，請重新檢查 BIOS 的設定。</p>
</li>

<li>
<p>您的電腦 BIOS 不支援從光碟開機。</p>
</li>
</ol>
</li>

<li class="STEP">
<p>此時，FreeBSD 就開始啟動了。
如果是從光碟開機，會見到類似下面的畫面(版本部分省略)：</p>

<pre class="SCREEN">
Booting from CD-Rom...
CD Loader 1.2

Building the boot loader arguments
Looking up /BOOT/LOADER... Found
Relocating the loader and the BTX
Starting the BTX loader

BTX loader 1.00 BTX version is 1.01
Console: internal video/keyboard
BIOS CD is cd0
BIOS drive C: is disk0
BIOS drive D: is disk1
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 1.1

Loading /boot/defaults/loader.conf
/boot/kernel/kernel text=0x64daa0 data=0xa4e80+0xa9e40 syms=[0x4+0x6cac0+0x4+0x88e9d]
\
</pre>

<p>如果您從軟碟開機，會看到類似下面的畫面(版本部分省略)：</p>

<pre class="SCREEN">
Booting from Floppy...
Uncompressing ... done

BTX loader 1.00  BTX version is 1.01 
Console: internal video/keyboard 
BIOS drive A: is disk0 
BIOS drive C: is disk1 
BIOS 639kB/261120kB available memory 

FreeBSD/i386 bootstrap loader, Revision 1.1 

Loading /boot/defaults/loader.conf
/kernel text=0x277391 data=0x3268c+0x332a8 |

Insert disk labelled "Kernel floppy 1" and press any key...
</pre>

<p>請根據提示將 <tt class="FILENAME">boot.flp</tt> 磁片取出， 並放入 <tt
class="FILENAME">kern1.flp</tt> 這張磁片， 然後按 <b class="KEYCAP">Enter</b> 鍵。
總之，您只需從第一張磁片啟動，然後根據提示，再放入相關磁片即可。</p>
</li>

<li class="STEP">
<p>無論從軟碟或光碟開機，接下來會進入 FreeBSD boot loader 選單畫面：</p>

<div class="FIGURE"><a id="BOOT-LOADER-MENU" name="BOOT-LOADER-MENU"></a>
<p><b>Figure 2-1. FreeBSD Boot Loader 選單</b></p>

<p><img src="install/boot-loader-menu.png" /></p>
</div>

<p>您可以等待 10 秒，或是按 <b class="KEYCAP">Enter</b> 鍵。</p>
</li>
</ol>
</div>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="AEN1417" name="AEN1417">2.4.1.2 Alpha 平台的開機流程</a></h3>

<div class="PROCEDURE">
<ol type="1">
<li class="STEP">
<p>在一開始，電腦電源開關是關閉的。</p>
</li>

<li class="STEP">
<p>打開電腦電源開關，然後等開機畫面出現。</p>
</li>

<li class="STEP">
<p>若要用磁片安裝，請把在 <a href="install-pre.html#INSTALL-FLOPPIES">Section
2.3.7</a>一節中製作好的 <tt class="FILENAME">boot.flp</tt>
那張安裝磁片放到第一台軟碟機中。 然後，打下列指令來從磁片開機
(請把下列軟碟機代號改為你電腦的軟碟機代號)：</p>

<pre class="SCREEN">
&gt;&gt;&gt;<kbd class="USERINPUT">BOOT DVA0 -FLAGS '' -FILE ''</kbd>
</pre>

<p>若要用光碟安裝，請把做好的安裝片放入光碟機， 然後打下列指令來從光碟開機
(請把下列光碟機代號改為你電腦的光碟機代號)：</p>

<pre class="SCREEN">
&gt;&gt;&gt;<kbd class="USERINPUT">BOOT DKA0 -FLAGS '' -FILE ''</kbd>
</pre>
</li>

<li class="STEP">
<p>接著 FreeBSD 開機片就會開始了。若是由軟碟開機的話， 這時會看到以下訊息：</p>

<pre class="SCREEN">
Insert disk labelled "Kernel floppy 1" and press any key...
</pre>

<p>請照指示，拿走 <tt class="FILENAME">boot.flp</tt> 片，改放 <tt
class="FILENAME">kern1.flp</tt> 片， 然後按 <b class="KEYCAP">Enter</b>。</p>
</li>

<li class="STEP">
<p>無論從軟碟或光碟開機，您都會看到下面這段訊息：</p>

<pre class="SCREEN">
Hit [Enter] to boot immediately, or any other key for command prompt. 
Booting [kernel] in 9 seconds... _
</pre>

<p>您可以等待 10 秒，或是按 <b class="KEYCAP">Enter</b> 鍵。 接下來就會進入kernel
configuration 選單。</p>
</li>
</ol>
</div>
</div>

<div class="SECT3">
<h3 class="SECT3"><a id="AEN1447" name="AEN1447">2.4.1.3 <span
class="TRADEMARK">Sparc64</span>&reg; 平台的開機流程</a></h3>

<p>大多數的 <span class="TRADEMARK">Sparc64</span>&reg; 機器預設會自動從硬碟開機。
因此要裝 FreeBSD 的話，則需要進入 PROM(OpenFirmware) 設定由網路或光碟開機才可。</p>

<p>請先重開機，然後等待直到開機訊息出現。 這部分可能會隨機器型號不同
，而有所差異，但大概會出現像下列這樣：</p>

<pre class="SCREEN">
Sun Blade 100 (UltraSPARC-IIe), Keyboard Present
Copyright 1998-2001 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.2, 128 MB memory installed, Serial #51090132.
Ethernet address 0:3:ba:b:92:d4, Host ID: 830b92d4.
</pre>

<p>若您機器此時會先由硬碟開機，那麼需要按 <b class="KEYCAP">L1</b>+<b
class="KEYCAP">A</b> 或 <b class="KEYCAP">Stop</b>+<b class="KEYCAP">A</b> 或者是透過
serial console (用法請參閱 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">tip</span>(1)</span></a> 或 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">cu</span>(1)</span></a> 內有關 <tt
class="COMMAND">~#</tt> 的說明) 送出 <tt class="COMMAND">BREAK</tt> 指令來進入 PROM
prompt。 大概會像下面：</p>

<pre class="SCREEN">
<samp class="PROMPT">ok    </samp>     <a id="PROMPT-SINGLE" name="PROMPT-SINGLE"><img
src="./imagelib/callouts/1.png" hspace="0" vspace="0" border="0" alt="(1)" /></a>
<samp class="PROMPT">ok {0}</samp>     <a id="PROMPT-SMP" name="PROMPT-SMP"><img
src="./imagelib/callouts/2.png" hspace="0" vspace="0" border="0" alt="(2)" /></a>
</pre>

<div class="CALLOUTLIST">
<dl compact="COMPACT">
<dt><a href="install-start.html#PROMPT-SINGLE"><img src="./imagelib/callouts/1.png"
hspace="0" vspace="0" border="0" alt="(1)" /></a></dt>

<dd>這是適用於只有單一 CPU 的機器。</dd>

<dt><a href="install-start.html#PROMPT-SMP"><img src="./imagelib/callouts/2.png"
hspace="0" vspace="0" border="0" alt="(2)" /></a></dt>

<dd>這是適用於 SMP 機器，數字部分是指目前在使用中的 CPU 編號。</dd>
</dl>
</div>

<p>此時請把安裝光碟放入光碟機內，然後在 PROM prompt 打 <tt class="COMMAND">boot
cdrom</tt> 即可。</p>
</div>
</div>

<div class="SECT2">
<h2 class="SECT2"><a id="VIEW-PROBE" name="VIEW-PROBE">2.4.2
那要怎麼去翻閱偵測硬體的結果呢？</a></h2>

<p>先前在螢幕上所顯示的最後幾百行字，會存在暫存區(buffer) 以便您翻閱。</p>

<p>若要翻閱暫存區，請按 <b class="KEYCAP">Scroll Lock</b> 鍵， 這會開啟捲動畫面功能。
然後就可以使用方向鍵，或是 <b class="KEYCAP">PageUp</b>、 <b class="KEYCAP">PageDown</b>
鍵來上下翻閱。 再按一次 <b class="KEYCAP">Scroll Lock</b> 鍵，就會停止畫面捲動。</p>

<p>現在就請試試看，翻閱一下偵測硬體的畫面吧， 你應該會看到類似 <a
href="install-start.html#INSTALL-DEV-PROBE">Figure 2-2</a> 的畫面，
真正畫面會依你的電腦設備而有所不同。</p>

<div class="FIGURE"><a id="INSTALL-DEV-PROBE" name="INSTALL-DEV-PROBE"></a>
<p><b>Figure 2-2. 偵測硬體的例子</b></p>

<pre class="SCREEN">
avail memory = 253050880 (247120K bytes) 
Preloaded elf kernel "kernel" at 0xc0817000.
Preloaded mfs_root "/mfsroot" at 0xc0817084.
md0: Preloaded image &lt;/mfsroot&gt; 4423680 bytes at 0xc03ddcd4

md1: Malloc disk
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard   
npx0: INT 16 interface   
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1:&lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;iSA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0 &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci
0
usb0: &lt;VIA 83572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr1
uhub0: 2 ports with 2 removable, self powered
pci0: &lt;unknown card&gt; (vendor=0x1106, dev=0x3040) at 7.3
dc0: &lt;ADMtek AN985 10/100BaseTX&gt; port 0xe800-0xe8ff mem 0xdb000000-0xeb0003ff ir
q 11 at device 8.0 on pci0
dc0: Ethernet address: 00:04:5a:74:6b:b5
miibus0: &lt;MII bus&gt; on dc0
ukphy0: &lt;Generic IEEE 802.3u media interface&gt; on miibus0
ukphy0: 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xec00-0xec1f irq 9 at device 10.
0 on pci0
ed0 address 52:54:05:de:73:1b, type NE2000 (16 bit)
isa0: too many dependant configs (8)
isa0: unexpected small tag 14
orm0: &lt;Option ROM&gt; at iomem 0xc0000-0xc7fff on isa0
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5" drive&gt; on fdc0 drive 0
atkbdc0: &lt;Keyboard controller (i8042)&gt; at port 0x60,0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/@ mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x100 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
pppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
plip0: &lt;PLIP network interface&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master UDMA33
acd0: CD-RW &lt;LITE-ON LTR-1210B&gt; at ata1-slave PIO4
Mounting root from ufs:/dev/md0c
/stand/sysinstall running as init on vty0
</pre>
</div>

<p>請仔細檢查每項檢測結果，以確定 FreeBSD 有正確偵測到每項硬體。
若沒偵測到硬體的話，那畫面就不會列出來了。 <a href="kernelconfig.html">自訂 kernel</a>
可以讓您加上原本預設的 <tt class="FILENAME">GENERIC</tt> kernel
所不支援的硬體，像是音效卡之類。</p>

<p>而 FreeBSD&nbsp;6.2 起的版本，在偵測硬體後會看到 <a
href="install-start.html#CONFIG-COUNTRY">Figure
2-3</a>，請用方向鍵選擇你的國別、地區或群組。 然後按 <b class="KEYCAP">Enter</b>
鍵就會幫你設定相關國別、鍵盤對應。 此外，要離開、重啟 <b
class="APPLICATION">sysinstall</b> 程式，也很簡單。</p>

<div class="FIGURE"><a id="CONFIG-COUNTRY" name="CONFIG-COUNTRY"></a>
<p><b>Figure 2-3. 選擇國別</b></p>

<p><img src="install/config-country.png" /></p>
</div>

<div class="FIGURE"><a id="SYSINSTALL-EXIT" name="SYSINSTALL-EXIT"></a>
<p><b>Figure 2-4. 離開 Sysinstall 程式</b></p>

<p><img src="install/sysinstall-exit.png" /></p>
</div>

<p>在主畫面選擇 <span class="GUIMENUITEM">Exit Install</span>，
接下來應該會出現以下訊息：</p>

<pre class="SCREEN">
                      User Confirmation Requested 
         Are you sure you wish to exit? The system will reboot 
           (be sure to remove any floppies/CDs/DVDs from the drives).

                            [ Yes ]    No
</pre>

<p>若按下 <span class="GUIBUTTON">[&nbsp;Yes&nbsp;]</span> 之後，卻忘了把光碟退出來的話，
那麼等下重開機後又會再次啟動安裝程式了。</p>

<p>若你是用磁片開機的話，那麼重開機之前，請記得先退出 <tt class="FILENAME">boot.flp</tt>
片吧。</p>
</div>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="install-pre.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="using-sysinstall.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">安裝前的準備工作</td>
<td width="34%" align="center" valign="top"><a href="install.html"
accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">介紹 Sysinstall</td>
</tr>
</table>
</div>

<p align="center"><small>本文及其他文件，可由此下載：<a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>。</small></p>

<p align="center"><small>若有 FreeBSD 方面疑問，請先閱讀 <a
href="http://www.FreeBSD.org/docs.html">FreeBSD 相關文件</a>，如不能解決的話，再洽詢
&#60;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;。<br />
關於本文件的問題，請洽詢 &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;。</small></p>
</body>
</html>

